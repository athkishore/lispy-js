(self.webpackChunklispy_js=self.webpackChunklispy_js||[]).push([[179],{870:(hr,Kn,Tt)=>{"use strict";function Q(e){return"function"==typeof e}function _(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const A=_(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function y(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class S{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){t=o instanceof A?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{I(o)}catch(s){t=null!=t?t:[],s instanceof A?t=[...t,...s.errors]:t.push(s)}}if(t)throw new A(t)}}add(t){var n;if(t&&t!==this)if(this.closed)I(t);else{if(t instanceof S){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&y(n,t)}remove(t){const{_finalizers:n}=this;n&&y(n,t),t instanceof S&&t._removeParent(this)}}S.EMPTY=(()=>{const e=new S;return e.closed=!0,e})();const w=S.EMPTY;function C(e){return e instanceof S||e&&"closed"in e&&Q(e.remove)&&Q(e.add)&&Q(e.unsubscribe)}function I(e){Q(e)?e():e.unsubscribe()}const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},p={setTimeout(e,t,...n){const{delegate:r}=p;return(null==r?void 0:r.setTimeout)?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=p;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function v(e){p.setTimeout(()=>{const{onUnhandledError:t}=E;if(!t)throw e;t(e)})}function b(){}const f=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}let h=null;function g(e){if(E.useDeprecatedSynchronousErrorHandling){const t=!h;if(t&&(h={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=h;if(h=null,n)throw r}}else e()}class M extends S{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,C(t)&&t.add(this)):this.destination=U}static create(t,n,r){return new L(t,n,r)}next(t){this.isStopped?G(function a(e){return l("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?G(function c(e){return l("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?G(f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function R(e,t){return O.call(e,t)}class T{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){N(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){N(r)}else N(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){N(n)}}}class L extends M{constructor(t,n,r){let i;if(super(),Q(t)||!t)i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&E.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&R(t.next,o),error:t.error&&R(t.error,o),complete:t.complete&&R(t.complete,o)}):i=t}this.destination=new T(i)}}function N(e){E.useDeprecatedSynchronousErrorHandling?function D(e){E.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=e)}(e):v(e)}function G(e,t){const{onStoppedNotification:n}=E;n&&p.setTimeout(()=>n(e,t))}const U={closed:!0,next:b,error:function F(e){throw e},complete:b},k="function"==typeof Symbol&&Symbol.observable||"@@observable";function H(e){return e}let te=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function he(e){return e&&e instanceof M||function Ce(e){return e&&Q(e.next)&&Q(e.error)&&Q(e.complete)}(e)&&C(e)}(n)?n:new L(n,r,i);return g(()=>{const{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ie(r))((i,o)=>{const s=new L({next:u=>{try{n(u)}catch(d){o(d),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[k](){return this}pipe(...n){return function K(e){return 0===e.length?H:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=ie(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ie(e){var t;return null!==(t=null!=e?e:E.Promise)&&void 0!==t?t:Promise}const Pe=_(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let B=(()=>{class e extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ee(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Pe}next(n){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?w:(this.currentObservers=null,o.push(n),new S(()=>{this.currentObservers=null,y(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new te;return n.source=this,n}}return e.create=(t,n)=>new ee(t,n),e})();class ee extends B{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:w}}function q(e){return t=>{if(function z(e){return Q(null==e?void 0:e.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,t,n,r,i){return new de(e,t,n,r,i)}class de extends M{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(u){try{n(u)}catch(d){t.error(d)}}:super._next,this._error=i?function(u){try{i(u)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function le(e,t){return q((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(e.call(t,o,i++))}))})}function nn(e){return this instanceof nn?(this.v=e,this):new nn(e)}function Do(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(j){r[j]&&(i[j]=function(W){return new Promise(function(Y,ne){o.push([j,W,Y,ne])>1||u(j,W)})})}function u(j,W){try{!function d(j){j.value instanceof nn?Promise.resolve(j.value.v).then(m,x):P(o[0][2],j)}(r[j](W))}catch(Y){P(o[0][3],Y)}}function m(j){u("next",j)}function x(j){u("throw",j)}function P(j,W){j(W),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Eo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ei(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(u,d){!function i(o,s,u,d){Promise.resolve(d).then(function(m){o({value:m,done:u})},s)}(u,d,(s=e[o](s)).done,s.value)})}}}const Yn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function _r(e){return Q(null==e?void 0:e.then)}function gr(e){return Q(e[k])}function vr(e){return Symbol.asyncIterator&&Q(null==e?void 0:e[Symbol.asyncIterator])}function mr(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yr=function ni(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Cr(e){return Q(null==e?void 0:e[yr])}function br(e){return Do(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield nn(n.read());if(i)return yield nn(void 0);yield yield nn(r)}}finally{n.releaseLock()}})}function Sr(e){return Q(null==e?void 0:e.getReader)}function Pt(e){if(e instanceof te)return e;if(null!=e){if(gr(e))return function ri(e){return new te(t=>{const n=e[k]();if(Q(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Yn(e))return function ii(e){return new te(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(_r(e))return function oi(e){return new te(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,v)})}(e);if(vr(e))return wr(e);if(Cr(e))return function si(e){return new te(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Sr(e))return function ai(e){return wr(br(e))}(e)}throw mr(e)}function wr(e){return new te(t=>{(function ci(e,t){var n,r,i,o;return function Wt(e,t,n,r){return new(n||(n=Promise))(function(o,s){function u(x){try{m(r.next(x))}catch(P){s(P)}}function d(x){try{m(r.throw(x))}catch(P){s(P)}}function m(x){x.done?o(x.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(x.value).then(u,d)}m((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Eo(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ft(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Nn(e,t,n=1/0){return Q(t)?Nn((r,i)=>le((o,s)=>t(r,o,i,s))(Pt(e(r,i))),n):("number"==typeof t&&(n=t),q((r,i)=>function li(e,t,n,r,i,o,s,u){const d=[];let m=0,x=0,P=!1;const j=()=>{P&&!d.length&&!m&&t.complete()},W=ne=>m<r?Y(ne):d.push(ne),Y=ne=>{o&&t.next(ne),m++;let oe=!1;Pt(n(ne,x++)).subscribe(V(t,se=>{null==i||i(se),o?W(se):t.next(se)},()=>{oe=!0},void 0,()=>{if(oe)try{for(m--;d.length&&m<r;){const se=d.shift();s?Ft(t,s,()=>Y(se)):Y(se)}j()}catch(se){t.error(se)}}))};return e.subscribe(V(t,W,()=>{P=!0,j()})),()=>{null==u||u()}}(r,i,e,n)))}const Zn=new te(e=>e.complete());function Qn(e){return e[e.length-1]}function Dr(e,t=0){return q((n,r)=>{n.subscribe(V(r,i=>Ft(r,e,()=>r.next(i),t),()=>Ft(r,e,()=>r.complete(),t),i=>Ft(r,e,()=>r.error(i),t)))})}function Er(e,t=0){return q((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Mr(e,t){if(!e)throw new Error("Iterable cannot be null");return new te(n=>{Ft(n,t,()=>{const r=e[Symbol.asyncIterator]();Ft(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xr(e,t){return t?function Ci(e,t){if(null!=e){if(gr(e))return function _i(e,t){return Pt(e).pipe(Er(t),Dr(t))}(e,t);if(Yn(e))return function vi(e,t){return new te(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(_r(e))return function gi(e,t){return Pt(e).pipe(Er(t),Dr(t))}(e,t);if(vr(e))return Mr(e,t);if(Cr(e))return function mi(e,t){return new te(n=>{let r;return Ft(n,t,()=>{r=e[yr](),Ft(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Q(null==r?void 0:r.return)&&r.return()})}(e,t);if(Sr(e))return function yi(e,t){return Mr(br(e),t)}(e,t)}throw mr(e)}(e,t):Pt(e)}function qt(...e){const t=function hi(e){return function di(e){return e&&Q(e.schedule)}(Qn(e))?e.pop():void 0}(e),n=function pi(e,t){return"number"==typeof Qn(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Pt(r[0]):function ui(e=1/0){return Nn(H,e)}(n)(xr(r,t)):Zn}function Tr(e){return e<=0?()=>Zn:q((t,n)=>{let r=0;t.subscribe(V(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function bn(e={}){const{connector:t=(()=>new B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s=null,u=null,d=null,m=0,x=!1,P=!1;const j=()=>{null==u||u.unsubscribe(),u=null},W=()=>{j(),s=d=null,x=P=!1},Y=()=>{const ne=s;W(),null==ne||ne.unsubscribe()};return q((ne,oe)=>{m++,!P&&!x&&j();const se=d=null!=d?d:t();oe.add(()=>{m--,0===m&&!P&&!x&&(u=Xn(Y,i))}),se.subscribe(oe),s||(s=new L({next:J=>se.next(J),error:J=>{P=!0,j(),u=Xn(W,n,J),se.error(J)},complete:()=>{x=!0,j(),u=Xn(W,r),se.complete()}}),xr(ne).subscribe(s))})(o)}}function Xn(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Tr(1)).subscribe(()=>e())}function ke(e){for(let t in e)if(e[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function Oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Lr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Oo=ke({__forward_ref__:ke});function Ir(e){return e.__forward_ref__=Ir,e.toString=function(){return Oe(this())},e}function be(e){return function bi(e){return"function"==typeof e&&e.hasOwnProperty(Oo)&&e.__forward_ref__===Ir}(e)?e():e}class Ie extends Error{constructor(t,n){super(function Rr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function me(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Or(e,t){const n=t?` in ${t}`:"";throw new Ie(-201,`No provider for ${Qe(e)} found${n}`)}function st(e,t){null==e&&function Ee(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xe(e){return{providers:e.providers||[],imports:e.imports||[]}}function pt(e){return $e(e,Gt)||$e(e,ln)}function $e(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sn(e){return e&&(e.hasOwnProperty(Jn)||e.hasOwnProperty(er))?e[Jn]:null}const Gt=ke({\u0275prov:ke}),Jn=ke({\u0275inj:ke}),ln=ke({ngInjectableDef:ke}),er=ke({ngInjectorDef:ke});var pe=(()=>((pe=pe||{})[pe.Default=0]="Default",pe[pe.Host=1]="Host",pe[pe.Self=2]="Self",pe[pe.SkipSelf=4]="SkipSelf",pe[pe.Optional=8]="Optional",pe))();let Fr;function _t(e){const t=Fr;return Fr=e,t}function wn(e,t,n){const r=pt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&pe.Optional?null:void 0!==t?t:void Or(Oe(e),"Injector")}function tr(e){return{toString:e}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),Dn=(()=>{return(e=Dn||(Dn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Dn;var e})();const tm="undefined"!=typeof globalThis&&globalThis,nm="undefined"!=typeof window&&window,rm="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ne=tm||"undefined"!=typeof global&&global||nm||rm,Ei={},He=[],Ws=ke({\u0275cmp:ke}),gc=ke({\u0275dir:ke}),vc=ke({\u0275pipe:ke}),Df=ke({\u0275mod:ke}),Hn=ke({\u0275fac:ke}),Fo=ke({__NG_ELEMENT_ID__:ke});let im=0;function Mi(e){return tr(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||He,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Dn.Emulated,id:"c",styles:e.styles||He,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,o=e.features,s=e.pipes;return r.id+=im++,r.inputs=Tf(e.inputs,n),r.outputs=Tf(e.outputs),o&&o.forEach(u=>u(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Ef):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Mf):null,r})}function Ef(e){return gt(e)||function nr(e){return e[gc]||null}(e)}function Mf(e){return function Nr(e){return e[vc]||null}(e)}const xf={};function Br(e){return tr(()=>{const t={type:e.type,bootstrap:e.bootstrap||He,declarations:e.declarations||He,imports:e.imports||He,exports:e.exports||He,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(xf[e.id]=e.type),t})}function Tf(e,t){if(null==e)return Ei;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const At=Mi;function gt(e){return e[Ws]||null}function Kt(e,t){const n=e[Df]||null;if(!n&&!0===t)throw new Error(`Type ${Oe(e)} does not have '\u0275mod' property.`);return n}function En(e){return Array.isArray(e)&&"object"==typeof e[1]}function dn(e){return Array.isArray(e)&&!0===e[1]}function Cc(e){return 0!=(8&e.flags)}function Ks(e){return 2==(2&e.flags)}function Ys(e){return 1==(1&e.flags)}function hn(e){return null!==e.template}function um(e){return 0!=(512&e[2])}function Ur(e,t){return e.hasOwnProperty(Hn)?e[Hn]:null}class hm{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function jo(){return Lf}function Lf(e){return e.type.prototype.ngOnChanges&&(e.setInput=_m),pm}function pm(){const e=Rf(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Ei)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function _m(e,t,n,r){const i=Rf(e)||function gm(e,t){return e[If]=t}(e,{previous:Ei,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],d=s[u];o[u]=new hm(d&&d.currentValue,t,s===Ei),e[r]=t}jo.ngInherit=!0;const If="__ngSimpleChanges__";function Rf(e){return e[If]||null}let Ec;function Ke(e){return!!e.listen}const Of={createRenderer:(e,t)=>function Mc(){return void 0!==Ec?Ec:"undefined"!=typeof document?document:void 0}()};function tt(e){for(;Array.isArray(e);)e=e[0];return e}function Qt(e,t){return tt(t[e.index])}function xc(e,t){return e.data[t]}function Ht(e,t){const n=t[e];return En(n)?n:n[0]}function kf(e){return 4==(4&e[2])}function Tc(e){return 128==(128&e[2])}function rr(e,t){return null==t?null:e[t]}function Pf(e){e[18]=0}function Ac(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Se={lFrame:Wf(null),bindingsEnabled:!0};function Bf(){return Se.bindingsEnabled}function re(){return Se.lFrame.lView}function Re(){return Se.lFrame.tView}function at(){let e=Nf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Nf(){return Se.lFrame.currentTNode}function Mn(e,t){const n=Se.lFrame;n.currentTNode=e,n.isParent=t}function Lc(){return Se.lFrame.isParent}function St(){const e=Se.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function km(e,t){const n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=e,Rc(t)}function Rc(e){Se.lFrame.currentDirectiveIndex=e}function Vf(){return Se.lFrame.currentQueryIndex}function kc(e){Se.lFrame.currentQueryIndex=e}function Fm(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Uf(e,t,n){if(n&pe.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&pe.Host||(i=Fm(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Se.lFrame=zf();return r.currentTNode=t,r.lView=e,!0}function Xs(e){const t=zf(),n=e[1];Se.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function zf(){const e=Se.lFrame,t=null===e?null:e.child;return null===t?Wf(e):t}function Wf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qf(){const e=Se.lFrame;return Se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $f=qf;function Js(){const e=qf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wt(){return Se.lFrame.selectedIndex}function ir(e){Se.lFrame.selectedIndex=e}function ea(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:m,ngOnDestroy:x}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),u&&((e.contentHooks||(e.contentHooks=[])).push(n,u),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,u)),d&&(e.viewHooks||(e.viewHooks=[])).push(-n,d),m&&((e.viewHooks||(e.viewHooks=[])).push(n,m),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,m)),null!=x&&(e.destroyHooks||(e.destroyHooks=[])).push(n,x)}}function ta(e,t,n){Gf(e,t,3,n)}function na(e,t,n,r){(3&e[2])===n&&Gf(e,t,n,r)}function Pc(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Gf(e,t,n,r){const o=null!=r?r:-1,s=t.length-1;let u=0;for(let d=void 0!==r?65535&e[18]:0;d<s;d++)if("number"==typeof t[d+1]){if(u=t[d],null!=r&&u>=r)break}else t[d]<0&&(e[18]+=65536),(u<o||-1==o)&&(qm(e,n,t,d),e[18]=(4294901760&e[18])+d+2),d++}function qm(e,t,n,r){const i=n[r]<0,o=n[r+1],u=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(u)}finally{}}}else try{o.call(u)}finally{}}class Uo{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ra(e,t,n){const r=Ke(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],d=n[i++];r?e.setAttribute(t,u,d,s):t.setAttributeNS(s,u,d)}else{const s=o,u=n[++i];Bc(s)?r&&e.setProperty(t,s,u):r?e.setAttribute(t,s,u):t.setAttribute(s,u),i++}}return i}function Kf(e){return 3===e||4===e||6===e}function Bc(e){return 64===e.charCodeAt(0)}function ia(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Yf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Yf(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const u=e[o++];if("number"==typeof u){if(u===t){s=-1;break}if(u>t){s=o-1;break}}}for(;o<e.length;){const u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Zf(e){return-1!==e}function Oi(e){return 32767&e}function ki(e,t){let n=function Zm(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Nc=!0;function oa(e){const t=Nc;return Nc=e,t}let Qm=0;function Wo(e,t){const n=jc(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Hc(r.data,e),Hc(t,null),Hc(r.blueprint,null));const i=sa(e,t),o=e.injectorIndex;if(Zf(i)){const s=Oi(i),u=ki(i,t),d=u[1].data;for(let m=0;m<8;m++)t[o+m]=u[s+m]|d[s+m]}return t[o+8]=i,o}function Hc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function jc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function aa(e,t,n){!function Xm(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fo)&&(r=n[Fo]),null==r&&(r=n[Fo]=Qm++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Jf(e,t,n){if(n&pe.Optional)return e;Or(t,"NodeInjector")}function ed(e,t,n,r){if(n&pe.Optional&&void 0===r&&(r=null),0==(n&(pe.Self|pe.Host))){const i=e[9],o=_t(void 0);try{return i?i.get(t,r,n&pe.Optional):wn(t,r,n&pe.Optional)}finally{_t(o)}}return Jf(r,t,n)}function td(e,t,n,r=pe.Default,i){if(null!==e){const o=function ny(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Fo)?e[Fo]:void 0;return"number"==typeof t?t>=0?255&t:ey:t}(n);if("function"==typeof o){if(!Uf(t,e,r))return r&pe.Host?Jf(i,n,r):ed(t,n,r,i);try{const s=o(r);if(null!=s||r&pe.Optional)return s;Or(n)}finally{$f()}}else if("number"==typeof o){let s=null,u=jc(e,t),d=-1,m=r&pe.Host?t[16][6]:null;for((-1===u||r&pe.SkipSelf)&&(d=-1===u?sa(e,t):t[u+8],-1!==d&&id(r,!1)?(s=t[1],u=Oi(d),t=ki(d,t)):u=-1);-1!==u;){const x=t[1];if(rd(o,u,x.data)){const P=ty(u,t,n,s,r,m);if(P!==nd)return P}d=t[u+8],-1!==d&&id(r,t[1].data[u+8]===m)&&rd(o,u,t)?(s=x,u=Oi(d),t=ki(d,t)):u=-1}}}return ed(t,n,r,i)}const nd={};function ey(){return new Pi(at(),re())}function ty(e,t,n,r,i,o){const s=t[1],u=s.data[e+8],x=ca(u,s,n,null==r?Ks(u)&&Nc:r!=s&&0!=(3&u.type),i&pe.Host&&o===u);return null!==x?qo(t,s,x,u):nd}function ca(e,t,n,r,i){const o=e.providerIndexes,s=t.data,u=1048575&o,d=e.directiveStart,x=o>>20,j=i?u+x:e.directiveEnd;for(let W=r?u:u+x;W<j;W++){const Y=s[W];if(W<d&&n===Y||W>=d&&Y.type===n)return W}if(i){const W=s[d];if(W&&hn(W)&&W.type===n)return d}return null}function qo(e,t,n,r){let i=e[n];const o=t.data;if(function $m(e){return e instanceof Uo}(i)){const s=i;s.resolving&&function ko(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${n}`)}(Qe(o[n]));const u=oa(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?_t(s.injectImpl):null;Uf(e,r,pe.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Wm(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Lf(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==d&&_t(d),oa(u),s.resolving=!1,$f()}}return i}function rd(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function id(e,t){return!(e&pe.Self||e&pe.Host&&t)}class Pi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return td(this._tNode,this._lView,t,r,n)}}const Bi="__parameters__";function Hi(e,t,n){return tr(()=>{const r=function zc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return u.annotation=s,u;function u(d,m,x){const P=d.hasOwnProperty(Bi)?d[Bi]:Object.defineProperty(d,Bi,{value:[]})[Bi];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(s),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Be{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Xt(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Xt(r,t)):t!==e&&t.push(r)}return t}function xn(e,t){e.forEach(n=>Array.isArray(n)?xn(n,t):t(n))}function sd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function la(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Yo={},Gc="__NG_DI_FLAG__",fa="ngTempTokenPath",py=/\n/gm,fd="__source",gy=ke({provide:String,useValue:ke});let Zo;function dd(e){const t=Zo;return Zo=e,t}function vy(e,t=pe.Default){if(void 0===Zo)throw new Ie(203,"");return null===Zo?wn(e,void 0,t):Zo.get(e,t&pe.Optional?null:void 0,t)}function je(e,t=pe.Default){return(function Po(){return Fr}()||vy)(be(e),t)}const my=je;function Kc(e){const t=[];for(let n=0;n<e.length;n++){const r=be(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,"");let i,o=pe.Default;for(let s=0;s<r.length;s++){const u=r[s],d=yy(u);"number"==typeof d?-1===d?i=u.token:o|=d:i=u}t.push(je(i,o))}else t.push(je(r))}return t}function Qo(e,t){return e[Gc]=t,e.prototype[Gc]=t,e}function yy(e){return e[Gc]}const da=Qo(Hi("Optional"),8),ha=Qo(Hi("SkipSelf"),4),Rd="__ngContext__";function mt(e,t){e[Rd]=t}function il(e){const t=function ns(e){return e[Rd]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function sl(e){return e.ngOriginalError}function d0(e,...t){e.error(...t)}class rs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=function f0(e){return e&&e.ngErrorLogger||d0}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&sl(t);for(;n&&sl(n);)n=sl(n);return n||null}}const S0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ne))();function An(e){return e instanceof Function?e():e}var Vt=(()=>((Vt=Vt||{})[Vt.Important=1]="Important",Vt[Vt.DashCase=2]="DashCase",Vt))();function cl(e,t){return undefined(e,t)}function is(e){const t=e[3];return dn(t)?t[3]:t}function ll(e){return Vd(e[13])}function ul(e){return Vd(e[4])}function Vd(e){for(;null!==e&&!dn(e);)e=e[4];return e}function Wi(e,t,n,r,i){if(null!=r){let o,s=!1;dn(r)?o=r:En(r)&&(s=!0,r=r[0]);const u=tt(r);0===e&&null!==n?null==i?Gd(t,n,u):zr(t,n,u,i||null,!0):1===e&&null!==n?zr(t,n,u,i||null,!0):2===e?function eh(e,t,n){const r=ya(e,t);r&&function F0(e,t,n,r){Ke(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,u,s):3===e&&t.destroyNode(u),null!=o&&function H0(e,t,n,r,i){const o=n[7];o!==tt(n)&&Wi(t,e,r,o,i);for(let u=10;u<n.length;u++){const d=n[u];os(d[1],d,e,t,r,o)}}(t,e,o,n,i)}}function dl(e,t,n){if(Ke(e))return e.createElement(t,n);{const r=null!==n?function Cm(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?e.createElement(t):e.createElementNS(r,t)}}function zd(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ac(i,-1)),n.splice(r,1)}function hl(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&zd(i,r),t>0&&(e[n-1][4]=r[4]);const o=la(e,10+t);!function T0(e,t){os(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Wd(e,t){if(!(256&t[2])){const n=t[11];Ke(n)&&n.destroyNode&&os(e,t,n,3,null,null),function I0(e){let t=e[13];if(!t)return pl(e[1],e);for(;t;){let n=null;if(En(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)En(t)&&pl(t[1],t),t=t[3];null===t&&(t=e),En(t)&&pl(t[1],t),n=t&&t[4]}t=n}}(t)}}function pl(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function P0(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Uo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const u=i[o[s]],d=o[s+1];try{d.call(u)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function k0(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],u="function"==typeof s?s(t):tt(t[s]),d=r[i=n[o+2]],m=n[o+3];"boolean"==typeof m?u.removeEventListener(n[o],d,m):m>=0?r[i=m]():r[i=-m].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(e,t),1===t[1].type&&Ke(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&dn(t[3])){n!==t[3]&&zd(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function qd(e,t,n){return function $d(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Dn.None||i===Dn.Emulated)return null}return Qt(r,n)}(e,t.parent,n)}function zr(e,t,n,r,i){Ke(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Gd(e,t,n){Ke(e)?e.appendChild(t,n):t.appendChild(n)}function Kd(e,t,n,r,i){null!==r?zr(e,t,n,r,i):Gd(e,t,n)}function ya(e,t){return Ke(e)?e.parentNode(t):t.parentNode}let Qd=function Zd(e,t,n){return 40&e.type?Qt(e,n):null};function Ca(e,t,n,r){const i=qd(e,r,t),o=t[11],u=function Yd(e,t,n){return Qd(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)Kd(o,i,n[d],u,!1);else Kd(o,i,n,u,!1)}function ba(e,t){if(null!==t){const n=t.type;if(3&n)return Qt(t,e);if(4&n)return gl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ba(e,r);{const i=e[t.index];return dn(i)?gl(-1,i):tt(i)}}if(32&n)return cl(t,e)()||tt(e[t.index]);{const r=Jd(e,t);return null!==r?Array.isArray(r)?r[0]:ba(is(e[16]),r):ba(e,t.next)}}return null}function Jd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function gl(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return ba(r,i)}return t[7]}function vl(e,t,n,r,i,o,s){for(;null!=n;){const u=r[n.index],d=n.type;if(s&&0===t&&(u&&mt(tt(u),r),n.flags|=4),64!=(64&n.flags))if(8&d)vl(e,t,n.child,r,i,o,!1),Wi(t,e,i,u,o);else if(32&d){const m=cl(n,r);let x;for(;x=m();)Wi(t,e,i,x,o);Wi(t,e,i,u,o)}else 16&d?th(e,t,r,n,i,o):Wi(t,e,i,u,o);n=s?n.projectionNext:n.next}}function os(e,t,n,r,i,o){vl(n,r,e.firstChild,t,i,o,!1)}function th(e,t,n,r,i,o){const s=n[16],d=s[6].projection[r.projection];if(Array.isArray(d))for(let m=0;m<d.length;m++)Wi(t,e,i,d[m],o);else vl(e,t,d,s[3],i,o,!0)}function nh(e,t,n){Ke(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ml(e,t,n){Ke(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function rh(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const ih="ng-template";function V0(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==rh(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function oh(e){return 4===e.type&&e.value!==ih}function U0(e,t,n){return t===(4!==e.type||n?e.value:ih)}function z0(e,t,n){let r=4;const i=e.attrs||[],o=function $0(e){for(let t=0;t<e.length;t++)if(Kf(e[t]))return t;return e.length}(i);let s=!1;for(let u=0;u<t.length;u++){const d=t[u];if("number"!=typeof d){if(!s)if(4&r){if(r=2|1&r,""!==d&&!U0(e,d,n)||""===d&&1===t.length){if(pn(r))return!1;s=!0}}else{const m=8&r?d:t[++u];if(8&r&&null!==e.attrs){if(!V0(e.attrs,m,n)){if(pn(r))return!1;s=!0}continue}const P=W0(8&r?"class":d,i,oh(e),n);if(-1===P){if(pn(r))return!1;s=!0;continue}if(""!==m){let j;j=P>o?"":i[P+1].toLowerCase();const W=8&r?j:null;if(W&&-1!==rh(W,m,0)||2&r&&m!==j){if(pn(r))return!1;s=!0}}}}else{if(!s&&!pn(r)&&!pn(d))return!1;if(s&&pn(d))continue;s=!1,r=d|1&r}}return pn(r)||s}function pn(e){return 0==(1&e)}function W0(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let u=t[++i];for(;"string"==typeof u;)u=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function G0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function sh(e,t,n=!1){for(let r=0;r<t.length;r++)if(z0(e,t[r],n))return!0;return!1}function ah(e,t){return e?":not("+t.trim()+")":t}function Y0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const u=e[++n];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!pn(s)&&(t+=ah(o,i),i=""),r=s,o=o||!pn(r);n++}return""!==i&&(t+=ah(o,i)),t}const we={};function qi(e){ch(Re(),re(),wt()+e,!1)}function ch(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&ta(t,o,n)}else{const o=e.preOrderHooks;null!==o&&na(t,o,0,n)}ir(n)}function yh(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=e.data[o];kc(i),s.contentQueries(2,t[o],o)}}}function ss(e,t,n,r,i,o,s,u,d,m){const x=t.blueprint.slice();return x[0]=i,x[2]=140|r,Pf(x),x[3]=x[15]=e,x[8]=n,x[10]=s||e&&e[10],x[11]=u||e&&e[11],x[12]=d||e&&e[12]||null,x[9]=m||e&&e[9]||null,x[6]=o,x[16]=2==t.type?e[16]:x,x}function $i(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Ll(e,t,n,r,i){const o=Nf(),s=Lc(),d=e.data[t]=function hC(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=d),null!==o&&(s?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d)),d}(e,t,n,r,i),function Om(){return Se.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Vo(){const e=Se.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Mn(o,!0),o}function Gi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function as(e,t,n){Xs(t);try{const r=e.viewQuery;null!==r&&Hl(1,r,n);const i=e.template;null!==i&&Ch(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yh(e,t),e.staticViewQueries&&Hl(2,e.viewQuery,n);const o=e.components;null!==o&&function uC(e,t){for(let n=0;n<t.length;n++)IC(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Js()}}function Ki(e,t,n,r){const i=t[2];if(256!=(256&i)){Xs(t);try{Pf(t),function Hf(e){return Se.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ch(e,t,n,2,r);const s=3==(3&i);if(s){const m=e.preOrderCheckHooks;null!==m&&ta(t,m,null)}else{const m=e.preOrderHooks;null!==m&&na(t,m,0,null),Pc(t,0)}if(function AC(e){for(let t=ll(e);null!==t;t=ul(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Ac(o,1),i[2]|=1024}}}(t),function TC(e){for(let t=ll(e);null!==t;t=ul(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Tc(r)&&Ki(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&yh(e,t),s){const m=e.contentCheckHooks;null!==m&&ta(t,m)}else{const m=e.contentHooks;null!==m&&na(t,m,1),Pc(t,1)}!function cC(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ir(~i);else{const o=i,s=n[++r],u=n[++r];km(s,o),u(2,t[o])}}}finally{ir(-1)}}(e,t);const u=e.components;null!==u&&function lC(e,t){for(let n=0;n<t.length;n++)LC(e,t[n])}(t,u);const d=e.viewQuery;if(null!==d&&Hl(2,d,r),s){const m=e.viewCheckHooks;null!==m&&ta(t,m)}else{const m=e.viewHooks;null!==m&&na(t,m,2),Pc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,Ac(t[3],-1))}finally{Js()}}}function fC(e,t,n,r){const i=t[10],s=kf(t);try{!s&&i.begin&&i.begin(),s&&as(e,t,r),Ki(e,t,n,r)}finally{!s&&i.end&&i.end()}}function Ch(e,t,n,r,i){const o=wt(),s=2&r;try{ir(-1),s&&t.length>20&&ch(e,t,20,!1),n(r,i)}finally{ir(o)}}function Sh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ea(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ea(e,t,n,r,i,o,s,u,d,m){const x=20+r,P=x+i,j=function dC(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:we);return n}(x,P),W="function"==typeof m?m():m;return j[1]={type:e,blueprint:j,template:n,queries:null,viewQuery:u,declTNode:t,data:j.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:d,consts:W,incompleteFirstPass:!1}}function Eh(e,t,n,r){const i=Ph(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Fh(e).push(r,i.length-1))}function Mh(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Th(e,t,n,r,i,o){const s=o.hostBindings;if(s){let u=e.hostBindingOpCodes;null===u&&(u=e.hostBindingOpCodes=[]);const d=~t.index;(function yC(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(u)!=d&&u.push(d),u.push(r,i,s)}}function Ah(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Lh(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function DC(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;hn(t)&&(n[""]=e)}}function Ih(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Rh(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ur(i.type)),s=new Uo(o,hn(i),null);e.blueprint[r]=s,n[r]=s,Th(e,t,0,r,Gi(e,n,i.hostVars,we),i)}function EC(e,t,n){const r=Qt(t,e),i=Sh(n),o=e[10],s=Ma(e,ss(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function MC(e,t,n,r,i,o){const s=o[t];if(null!==s){const u=r.setInput;for(let d=0;d<s.length;){const m=s[d++],x=s[d++],P=s[d++];null!==u?r.setInput(n,P,m,x):n[x]=P}}}function xC(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function LC(e,t){const n=Ht(t,e);if(Tc(n)){const r=n[1];80&n[2]?Ki(r,n,r.template,n[8]):n[5]>0&&Pl(n)}}function Pl(e){for(let r=ll(e);null!==r;r=ul(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Ki(s,o,s.template,o[8])}else o[5]>0&&Pl(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ht(n[r],e);Tc(i)&&i[5]>0&&Pl(i)}}function IC(e,t){const n=Ht(t,e),r=n[1];(function RC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),as(r,n,n[8])}function Ma(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Fl(e){for(;e;){e[2]|=64;const t=is(e);if(um(e)&&!t)return e;e=t}return null}function kh(e){!function Bl(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=il(n),i=r[1];fC(i,r,i.template,n)}}(e[8])}function Hl(e,t,n){kc(0),t(e,n)}const kC=(()=>Promise.resolve(null))();function Ph(e){return e[7]||(e[7]=[])}function Fh(e){return e.cleanup||(e.cleanup=[])}function Nh(e,t){const n=e[9],r=n?n.get(rs,null):null;r&&r.handleError(t)}function Hh(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],d=t[s],m=e.data[s];null!==m.setInput?m.setInput(d,i,r,u):d[u]=i}}function xa(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?o=u:1==o?i=Lr(i,u):2==o&&(r=Lr(r,u+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const jl=new Be("INJECTOR",-1);class jh{get(t,n=Yo){if(n===Yo){const r=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw r.name="NullInjectorError",r}return n}}const Vl=new Be("Set Injector scope."),cs={},BC={};let Ul;function Vh(){return void 0===Ul&&(Ul=new jh),Ul}function Uh(e,t=null,n=null,r){const i=zh(e,t,n,r);return i._resolveInjectorDefTypes(),i}function zh(e,t=null,n=null,r){return new NC(e,n,t||Vh(),r)}class NC{constructor(t,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&xn(n,u=>this.processProvider(u,t,n)),xn([t],u=>this.processInjectorType(u,[],o)),this.records.set(jl,Yi(void 0,this));const s=this.records.get(Vl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:Oe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=Yo,r=pe.Default){this.assertNotDestroyed();const i=dd(this),o=_t(void 0);try{if(!(r&pe.SkipSelf)){let u=this.records.get(t);if(void 0===u){const d=function $C(e){return"function"==typeof e||"object"==typeof e&&e instanceof Be}(t)&&pt(t);u=d&&this.injectableDefInScope(d)?Yi(zl(t),cs):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(r&pe.Self?Vh():this.parent).get(t,n=r&pe.Optional&&n===Yo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[fa]=s[fa]||[]).unshift(Oe(t)),i)throw s;return function Cy(e,t,n,r){const i=e[fa];throw t[fd]&&i.unshift(t[fd]),e.message=function by(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=Oe(t);if(Array.isArray(t))i=t.map(Oe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let u=t[s];o.push(s+":"+("string"==typeof u?JSON.stringify(u):Oe(u)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(py,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[fa]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{_t(o),dd(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(Oe(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processInjectorType(t,n,r){if(!(t=be(t)))return!1;let i=Sn(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,u=-1!==r.indexOf(s);if(void 0!==o&&(i=Sn(o)),null==i)return!1;if(null!=i.imports&&!u){let x;r.push(s);try{xn(i.imports,P=>{this.processInjectorType(P,n,r)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:j,providers:W}=x[P];xn(W,Y=>this.processProvider(Y,j,W||He))}}this.injectorDefTypes.add(s);const d=Ur(s)||(()=>new s);this.records.set(s,Yi(d,cs));const m=i.providers;if(null!=m&&!u){const x=t;xn(m,P=>this.processProvider(P,x,m))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,r){let i=Zi(t=be(t))?t:be(t&&t.provide);const o=function jC(e,t,n){return qh(e)?Yi(void 0,e.useValue):Yi(function Wh(e,t,n){let r;if(Zi(e)){const i=be(e);return Ur(i)||zl(i)}if(qh(e))r=()=>be(e.useValue);else if(function UC(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Kc(e.deps||[]));else if(function VC(e){return!(!e||!e.useExisting)}(e))r=()=>je(be(e.useExisting));else{const i=be(e&&(e.useClass||e.provide));if(!function WC(e){return!!e.deps}(e))return Ur(i)||zl(i);r=()=>new i(...Kc(e.deps))}return r}(e),cs)}(t);if(Zi(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Yi(void 0,cs,!0),s.factory=()=>Kc(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,n){return n.value===cs&&(n.value=BC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=be(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function zl(e){const t=pt(e),n=null!==t?t.factory:Ur(e);if(null!==n)return n;if(e instanceof Be)throw new Ie(204,!1);if(e instanceof Function)return function HC(e){const t=e.length;if(t>0)throw function Ko(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ie(204,!1);const n=function cn(e){const t=e&&(e[Gt]||e[ln]);if(t){const n=function Bt(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ie(204,!1)}function Yi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function qh(e){return null!==e&&"object"==typeof e&&gy in e}function Zi(e){return"function"==typeof e}let In=(()=>{class e{static create(n,r){var i;if(Array.isArray(n))return Uh({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return Uh({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=Yo,e.NULL=new jh,e.\u0275prov=Fe({token:e,providedIn:"any",factory:()=>je(jl)}),e.__NG_ELEMENT_ID__=-1,e})();function eb(e,t){ea(il(e)[1],at())}let Ta=null;function Qi(){if(!Ta){const e=Ne.Symbol;if(e&&e.iterator)Ta=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ta=r)}}}return Ta}function ls(e){return!!Gl(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qi()in e)}function Gl(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Rn(e,t,n){return e[t]=n}function yt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ye(e,t=pe.Default){const n=re();return null===n?je(e,t):td(at(),n,be(e),t)}function qr(e,t,n){const r=re();return yt(r,function Ri(){return Se.lFrame.bindingIndex++}(),t)&&function Ut(e,t,n,r,i,o,s,u){const d=Qt(t,n);let x,m=t.inputs;!u&&null!=m&&(x=m[r])?(Hh(e,n,x,r,i),Ks(t)&&function gC(e,t){const n=Ht(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function _C(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,Ke(o)?o.setProperty(d,r,i):Bc(r)||(d.setProperty?d.setProperty(r,i):d[r]=i))}(Re(),function Ye(){const e=Se.lFrame;return xc(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),qr}function Xl(e,t,n,r,i){const s=i?"class":"style";Hh(e,n,t.inputs[s],s,r)}function co(e,t,n,r){const i=re(),o=Re(),s=20+e,u=i[11],d=i[s]=dl(u,t,function zm(){return Se.lFrame.currentNamespace}()),m=o.firstCreatePass?function Pb(e,t,n,r,i,o,s){const u=t.consts,m=$i(t,e,2,i,rr(u,o));return function Ol(e,t,n,r){let i=!1;if(Bf()){const o=function SC(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];sh(n,s.selectors,!1)&&(i||(i=[]),aa(Wo(n,t),e,s.type),hn(s)?(Lh(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ih(n,e.data.length,o.length);for(let x=0;x<o.length;x++){const P=o[x];P.providersResolver&&P.providersResolver(P)}let u=!1,d=!1,m=Gi(e,t,o.length,null);for(let x=0;x<o.length;x++){const P=o[x];n.mergedAttrs=ia(n.mergedAttrs,P.hostAttrs),Rh(e,n,t,m,P),DC(m,P,s),null!==P.contentQueries&&(n.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(n.flags|=128);const j=P.type.prototype;!u&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),u=!0),!d&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),d=!0),m++}!function pC(e,t){const r=t.directiveEnd,i=e.data,o=t.attrs,s=[];let u=null,d=null;for(let m=t.directiveStart;m<r;m++){const x=i[m],P=x.inputs,j=null===o||oh(t)?null:xC(P,o);s.push(j),u=Mh(P,m,u),d=Mh(x.outputs,m,d)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=16),u.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=u,t.outputs=d}(e,n)}s&&function wC(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Ie(-301,!1);r.push(t[i],o)}}}(n,r,s)}return n.mergedAttrs=ia(n.mergedAttrs,n.attrs),i}(t,n,m,rr(u,s)),null!==m.attrs&&xa(m,m.attrs,!1),null!==m.mergedAttrs&&xa(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(s,o,i,0,t,n,r):o.data[s];Mn(m,!0);const x=m.mergedAttrs;null!==x&&ra(u,d,x);const P=m.classes;null!==P&&ml(u,d,P);const j=m.styles;return null!==j&&nh(u,d,j),64!=(64&m.flags)&&Ca(o,i,d,m),0===function Mm(){return Se.lFrame.elementDepthCount}()&&mt(d,i),function xm(){Se.lFrame.elementDepthCount++}(),Ys(m)&&(function Il(e,t,n){!Bf()||(function CC(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Wo(n,t),mt(r,t);const s=n.initialInputs;for(let u=i;u<o;u++){const d=e.data[u],m=hn(d);m&&EC(t,n,d);const x=qo(t,e,u,n);mt(x,t),null!==s&&MC(0,u-i,x,d,0,s),m&&(Ht(n.index,t)[8]=x)}}(e,t,n,Qt(n,t)),128==(128&n.flags)&&function bC(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function Pm(){return Se.lFrame.currentDirectiveIndex}();try{ir(s);for(let d=r;d<i;d++){const m=e.data[d],x=t[d];Rc(d),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&Ah(m,x)}}finally{ir(-1),Rc(u)}}(e,t,n))}(o,i,m),function bh(e,t,n){if(Cc(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,m,i)),null!==r&&function Rl(e,t,n=Qt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(t,e):e[s];e[i++]=u}}}(i,m),co}function lo(){let e=at();Lc()?function Ic(){Se.lFrame.isParent=!1}():(e=e.parent,Mn(e,!1));const t=e;!function Tm(){Se.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(ea(n,e),Cc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Km(e){return 0!=(16&e.flags)}(t)&&Xl(n,t,re(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ym(e){return 0!=(32&e.flags)}(t)&&Xl(n,t,re(),t.stylesWithoutHost,!1),lo}function uo(e,t,n,r){return co(e,t,n,r),lo(),uo}function tu(e){return!!e&&"function"==typeof e.then}const Nb=function Mp(e){return!!e&&"function"==typeof e.subscribe};function nu(e,t,n,r){const i=re(),o=Re(),s=at();return function Tp(e,t,n,r,i,o,s,u){const d=Ys(r),x=e.firstCreatePass&&Fh(e),P=t[8],j=Ph(t);let W=!0;if(3&r.type||u){const oe=Qt(r,t),se=u?u(oe):oe,J=j.length,ue=u?De=>u(tt(De[r.index])):r.index;if(Ke(n)){let De=null;if(!u&&d&&(De=function Hb(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const u=t[7],d=i[o+2];return u.length>d?u[d]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=o,De.__ngLastListenerFn__=o,W=!1;else{o=ru(r,t,P,o,!1);const Le=n.listen(se,i,o);j.push(o,Le),x&&x.push(i,ue,J,J+1)}}else o=ru(r,t,P,o,!0),se.addEventListener(i,o,s),j.push(o),x&&x.push(i,ue,J,s)}else o=ru(r,t,P,o,!1);const Y=r.outputs;let ne;if(W&&null!==Y&&(ne=Y[i])){const oe=ne.length;if(oe)for(let se=0;se<oe;se+=2){const xt=t[ne[se]][ne[se+1]].subscribe(o),Gn=j.length;j.push(o,xt),x&&x.push(i,r.index,Gn,-(Gn+1))}}}(o,i,i[11],s,e,t,!!n,r),nu}function Ap(e,t,n,r){try{return!1!==n(r)}catch(i){return Nh(e,i),!1}}function ru(e,t,n,r,i){return function o(s){if(s===Function)return r;const u=2&e.flags?Ht(e.index,t):t;0==(32&t[2])&&Fl(u);let d=Ap(t,0,r,s),m=o.__ngNextListenerFn__;for(;m;)d=Ap(t,0,m,s)&&d,m=m.__ngNextListenerFn__;return i&&!1===d&&(s.preventDefault(),s.returnValue=!1),d}}function su(e,t=""){const n=re(),r=Re(),i=e+20,o=r.firstCreatePass?$i(r,i,1,t,null):r.data[i],s=n[i]=function fl(e,t){return Ke(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Ca(r,n,s,o),Mn(o,!1)}const Ra="en-US";let S_=Ra;class G_{}class Lw{resolveComponentFactory(t){throw function Aw(e){const t=Error(`No component factory found for ${Oe(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ba=(()=>{class e{}return e.NULL=new Lw,e})();function Iw(){return _o(at(),re())}function _o(e,t){return new Wn(Qt(e,t))}let Wn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Iw,e})();function Rw(e){return e instanceof Wn?e.nativeElement:e}class Y_{}let gs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function kw(){const e=re(),n=Ht(at().index,e);return function Ow(e){return e[11]}(En(n)?n:e)}(),e})(),Pw=(()=>{class e{}return e.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>null}),e})();class pu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fw=new pu("13.3.11"),_u={};function Na(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(tt(o)),dn(o))for(let u=10;u<o.length;u++){const d=o[u],m=d[1].firstChild;null!==m&&Na(d[1],d,m,r)}const s=n.type;if(8&s)Na(e,t,n.child,r);else if(32&s){const u=cl(n,t);let d;for(;d=u();)r.push(d)}else if(16&s){const u=Jd(t,n);if(Array.isArray(u))r.push(...u);else{const d=is(t[16]);Na(d[1],d,u,r,!0)}}n=i?n.projectionNext:n.next}return r}class vs{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Na(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(hl(t,r),la(n,r))}this._attachedToViewContainer=!1}Wd(this._lView[1],this._lView)}onDestroy(t){Eh(this._lView[1],this._lView,null,t)}markForCheck(){Fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Nl(e,t,n){const r=t[10];r.begin&&r.begin();try{Ki(e,t,e.template,n)}catch(i){throw Nh(t,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function L0(e,t){os(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ie(902,"");this._appRef=t}}class Bw extends vs{constructor(t){super(t),this._view=t}detectChanges(){kh(this._view)}checkNoChanges(){}get context(){return null}}class Z_ extends Ba{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=gt(t);return new gu(n,this.ngModule)}}function Q_(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class gu extends G_{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Z0(e){return e.map(Y0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Q_(this.componentDef.inputs)}get outputs(){return Q_(this.componentDef.outputs)}create(t,n,r,i){const o=(i=i||this.ngModule)?function Hw(e,t){return{get:(n,r,i)=>{const o=e.get(n,_u,i);return o!==_u||r===_u?o:t.get(n,r,i)}}}(t,i.injector):t,s=o.get(Y_,Of),u=o.get(Pw,null),d=s.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",x=r?function Dh(e,t,n){if(Ke(e))return e.selectRootElement(t,n===Dn.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(d,r,this.componentDef.encapsulation):dl(s.createRenderer(null,this.componentDef),m,function Nw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),P=this.componentDef.onPush?576:528,j=function np(e,t){return{components:[],scheduler:e||S0,clean:kC,playerHandler:t||null,flags:0}}(),W=Ea(0,null,null,1,0,null,null,null,null,null),Y=ss(null,W,j,P,null,null,s,d,u,o);let ne,oe;Xs(Y);try{const se=function ep(e,t,n,r,i,o){const s=n[1];n[20]=e;const d=$i(s,20,2,"#host",null),m=d.mergedAttrs=t.hostAttrs;null!==m&&(xa(d,m,!0),null!==e&&(ra(i,e,m),null!==d.classes&&ml(i,e,d.classes),null!==d.styles&&nh(i,e,d.styles)));const x=r.createRenderer(e,t),P=ss(n,Sh(t),null,t.onPush?64:16,n[20],d,r,x,o||null,null);return s.firstCreatePass&&(aa(Wo(d,n),s,t.type),Lh(s,d),Ih(d,n.length,1)),Ma(n,P),n[20]=P}(x,this.componentDef,Y,s,d);if(x)if(r)ra(d,x,["ng-version",Fw.full]);else{const{attrs:J,classes:ue}=function Q0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!pn(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);J&&ra(d,x,J),ue&&ue.length>0&&ml(d,x,ue.join(" "))}if(oe=xc(W,20),void 0!==n){const J=oe.projection=[];for(let ue=0;ue<this.ngContentSelectors.length;ue++){const De=n[ue];J.push(null!=De?Array.from(De):null)}}ne=function tp(e,t,n,r,i){const o=n[1],s=function mC(e,t,n){const r=at();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Rh(e,r,t,Gi(e,t,1,null),n));const i=qo(t,e,r.directiveStart,r);mt(i,t);const o=Qt(r,t);return o&&mt(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(d=>d(s,t)),t.contentQueries){const d=at();t.contentQueries(1,s,d.directiveStart)}const u=at();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ir(u.index),Th(n[1],u,0,u.directiveStart,u.directiveEnd,t),Ah(t,s)),s}(se,this.componentDef,Y,j,[eb]),as(W,Y,null)}finally{Js()}return new Vw(this.componentType,ne,_o(oe,Y),Y,oe)}}class Vw extends class Tw{}{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new Bw(i),this.componentType=t}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class go{}const vo=new Map;class eg extends go{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Z_(this);const r=Kt(t);this._bootstrapComponents=An(r.bootstrap),this._r3Injector=zh(t,n,[{provide:go,useValue:this},{provide:Ba,useValue:this.componentFactoryResolver}],Oe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=In.THROW_IF_NOT_FOUND,r=pe.Default){return t===In||t===go||t===jl?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vu extends class zw{}{constructor(t){super(),this.moduleType=t,null!==Kt(t)&&function Ww(e){const t=new Set;!function n(r){const i=Kt(r,!0),o=i.id;null!==o&&(function X_(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Oe(t)} vs ${Oe(t.name)}`)}(o,vo.get(o),r),vo.set(o,r));const s=An(i.imports);for(const u of s)t.has(u)||(t.add(u),n(u))}(e)}(t)}create(t){return new eg(this.moduleType,t)}}function Gr(e,t,n){const r=St()+e,i=re();return i[r]===we?Rn(i,r,n?t.call(n):t()):function us(e,t){return e[t]}(i,r)}function ms(e,t,n,r){return function tg(e,t,n,r,i,o){const s=t+n;return yt(e,s,i)?Rn(e,s+1,o?r.call(o,i):r(i)):function ys(e,t){const n=e[t];return n===we?void 0:n}(e,s+1)}(re(),St(),e,t,n,r)}function mu(e){return t=>{setTimeout(e,void 0,t)}}const Rt=class s1 extends B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var i,o,s;let u=t,d=n||(()=>null),m=r;if(t&&"object"==typeof t){const P=t;u=null===(i=P.next)||void 0===i?void 0:i.bind(P),d=null===(o=P.error)||void 0===o?void 0:o.bind(P),m=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}this.__isAsync&&(d=mu(d),u&&(u=mu(u)),m&&(m=mu(m)));const x=super.subscribe({next:u,error:d,complete:m});return t instanceof S&&t.add(x),x}};function a1(){return this._results[Qi()]()}class yu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Qi(),r=yu.prototype;r[n]||(r[n]=a1)}get changes(){return this._changes||(this._changes=new Rt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=Xt(t);(this._changesDetected=!function oy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qn=(()=>{class e{}return e.__NG_ELEMENT_ID__=u1,e})();const c1=qn,l1=class extends c1{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=ss(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),as(n,r,t),new vs(r)}};function u1(){return Ha(at(),re())}function Ha(e,t){return 4&e.type?new l1(t,e,_o(e,t)):null}let Pn=(()=>{class e{}return e.__NG_ELEMENT_ID__=f1,e})();function f1(){return cg(at(),re())}const d1=Pn,sg=class extends d1{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _o(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const t=sa(this._hostTNode,this._hostLView);if(Zf(t)){const n=ki(t,this._hostLView),r=Oi(t);return new Pi(n[1].data[r+8],n)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ag(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const i=t.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(t,n,r,i,o){const s=t&&!function Go(e){return"function"==typeof e}(t);let u;if(s)u=n;else{const P=n||{};u=P.index,r=P.injector,i=P.projectableNodes,o=P.ngModuleRef}const d=s?t:new gu(gt(t)),m=r||this.parentInjector;if(!o&&null==d.ngModule){const j=(s?m:this.parentInjector).get(go,null);j&&(o=j)}const x=d.create(m,i,void 0,o);return this.insert(x.hostView,u),x}insert(t,n){const r=t._lView,i=r[1];if(function Em(e){return dn(e[3])}(r)){const x=this.indexOf(t);if(-1!==x)this.detach(x);else{const P=r[3],j=new sg(P,P[6],P[3]);j.detach(j.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function R0(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],sd(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function O0(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const u=t[19];null!==u&&u.insertView(e),t[2]|=128}(i,r,s,o);const u=gl(o,s),d=r[11],m=ya(d,s[7]);return null!==m&&function A0(e,t,n,r,i,o){r[0]=i,r[6]=t,os(e,r,n,1,i,o)}(i,s[6],d,r,m,u),t.attachToViewContainerRef(),sd(Cu(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ag(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=hl(this._lContainer,n);r&&(la(Cu(this._lContainer),n),Wd(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=hl(this._lContainer,n);return r&&null!=la(Cu(this._lContainer),n)?new vs(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function ag(e){return e[8]}function Cu(e){return e[8]||(e[8]=[])}function cg(e,t){let n;const r=t[e.index];if(dn(r))n=r;else{let i;if(8&e.type)i=tt(r);else{const o=t[11];i=o.createComment("");const s=Qt(e,t);zr(o,ya(o,s),i,function B0(e,t){return Ke(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=function Oh(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),Ma(t,n)}return new sg(n,e,t)}class bu{constructor(t){this.queryList=t,this.matches=null}clone(){return new bu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Su(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==hg(t,n).matches&&this.queries[n].setDirty()}}class lg{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class wu{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new wu(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Du{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Du(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,_1(n,o)),this.matchTNodeWithReadOption(t,n,ca(n,t,o,!1,!1))}else r===qn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ca(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wn||i===Pn||i===qn&&4&n.type)this.addMatch(n.index,-2);else{const o=ca(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function _1(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function v1(e,t,n,r){return-1===n?function g1(e,t){return 11&e.type?_o(e,t):4&e.type?Ha(e,t):null}(t,e):-2===n?function m1(e,t,n){return n===Wn?_o(t,e):n===qn?Ha(t,e):n===Pn?cg(t,e):void 0}(e,t,r):qo(e,e[1],n,t)}function ug(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,u=[];for(let d=0;d<s.length;d+=2){const m=s[d];u.push(m<0?null:v1(t,o[m],s[d+1],n.metadata.read))}i.matches=u}return i.matches}function Eu(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ug(e,t,i,n);for(let u=0;u<o.length;u+=2){const d=o[u];if(d>0)r.push(s[u/2]);else{const m=o[u+1],x=t[-d];for(let P=10;P<x.length;P++){const j=x[P];j[17]===j[3]&&Eu(j[1],j,m,r)}if(null!==x[9]){const P=x[9];for(let j=0;j<P.length;j++){const W=P[j];Eu(W[1],W,m,r)}}}}}return r}function ja(e){const t=re(),n=Re(),r=Vf();kc(r+1);const i=hg(n,r);if(e.dirty&&kf(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Eu(n,t,r,[]):ug(n,t,i,r);e.reset(o,Rw),e.notifyOnChanges()}return!0}return!1}function Va(e,t,n){const r=Re();r.firstCreatePass&&(function dg(e,t,n){null===e.queries&&(e.queries=new wu),e.queries.track(new Du(t,n))}(r,new lg(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function fg(e,t,n){const r=new yu(4==(4&n));Eh(e,t,r,r.destroy),null===t[19]&&(t[19]=new Su),t[19].queries.push(new bu(r))}(r,re(),t)}function Ua(){return function C1(e,t){return e[19].queries[t].queryList}(re(),Vf())}function hg(e,t){return e.queries.getByIndex(t)}function qa(...e){}const Lg=new Be("Application Initializer");let Iu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=qa,this.reject=qa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(tu(o))n.push(o);else if(Nb(o)){const s=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(je(Lg,8))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ss=new Be("AppId",{providedIn:"root",factory:function Ig(){return`${Ru()}${Ru()}${Ru()}`}});function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Rg=new Be("Platform Initializer"),Ou=new Be("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),H1=new Be("appBootstrapListener"),lr=new Be("LocaleId",{providedIn:"root",factory:()=>my(lr,pe.Optional|pe.SkipSelf)||function j1(){return"undefined"!=typeof $localize&&$localize.locale||Ra}()}),W1=(()=>Promise.resolve(0))();function ku(e){"undefined"==typeof Zone?W1.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function q1(){let e=Ne.requestAnimationFrame,t=Ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function K1(e){const t=()=>{!function G1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fu(e),e.isCheckStableRunning=!0,Pu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,u)=>{try{return Og(e),n.invokeTask(i,o,s,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),kg(e)}},onInvoke:(n,r,i,o,s,u,d)=>{try{return Og(e),n.invoke(i,o,s,u,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),kg(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Fu(e),Pu(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ct.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ct.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,$1,qa,qa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const $1={};function Pu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Og(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function kg(e){e._nesting--,Pu(e)}class Y1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let Bu=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),ku(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ku(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(je(Ct))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})(),Z1=(()=>{class e{constructor(){this._applications=new Map,Nu.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Nu.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class Q1{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}let Nu=new Q1,Kr=null;const Pg=new Be("AllowMultipleToken"),Fg=new Be("PlatformOnDestroy");function Bg(e,t,n=[]){const r=`Platform: ${t}`,i=new Be(r);return(o=[])=>{let s=Hu();if(!s||s.injector.get(Pg,!1)){const u=[...n,...o,{provide:i,useValue:!0}];e?e(u):function tD(e){if(Kr&&!Kr.get(Pg,!1))throw new Ie(400,"");Kr=e;const t=e.get(Ng),n=e.get(Rg,null);n&&n.forEach(r=>r())}(function rD(e=[],t){return In.create({name:t,providers:[{provide:Vl,useValue:"platform"},{provide:Fg,useValue:()=>Kr=null},...e]})}(u,r))}return function nD(e){const t=Hu();if(!t)throw new Ie(401,"");return t}()}}function Hu(){var e;return null!==(e=null==Kr?void 0:Kr.get(Ng))&&void 0!==e?e:null}let Ng=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const u=function iD(e,t){let n;return n="noop"===e?new Y1:("zone.js"===e?void 0:e)||new Ct({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),d=[{provide:Ct,useValue:u}];return u.run(()=>{const m=In.create({providers:d,parent:this.injector,name:n.moduleType.name}),x=n.create(m),P=x.injector.get(rs,null);if(!P)throw new Ie(402,"");return u.runOutsideAngular(()=>{const j=u.onError.subscribe({next:W=>{P.handleError(W)}});x.onDestroy(()=>{ju(this._modules,x),j.unsubscribe()})}),function oD(e,t,n){try{const r=n();return tu(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(P,u,()=>{const j=x.injector.get(Iu);return j.runInitializers(),j.donePromise.then(()=>(function RS(e){st(e,"Expected localeId to be defined"),"string"==typeof e&&(S_=e.toLowerCase().replace(/_/g,"-"))}(x.injector.get(lr,Ra)||Ra),this._moduleDoBootstrap(x),x))})})}bootstrapModule(n,r=[]){const i=Hg({},r);return function J1(e,t,n){const r=new vu(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(jg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ie(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Fg,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(je(In))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Hg(e,t){return Array.isArray(t)?t.reduce(Hg,e):Object.assign(Object.assign({},e),t)}let jg=(()=>{class e{constructor(n,r,i,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new te(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),u=new te(d=>{let m;this._zone.runOutsideAngular(()=>{m=this._zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),ku(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{m.unsubscribe(),x.unsubscribe()}});this.isStable=qt(s,u.pipe(bn()))}bootstrap(n,r){if(!this._initStatus.done)throw new Ie(405,"");let i;i=n instanceof G_?n:this._injector.get(Ba).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function eD(e){return e.isBoundToModule}(i)?void 0:this._injector.get(go),u=i.create(In.NULL,[],r||i.selector,o),d=u.location.nativeElement,m=u.injector.get(Bu,null),x=m&&u.injector.get(Z1);return m&&x&&x.registerApplication(d,m),u.onDestroy(()=>{this.detachView(u.hostView),ju(this.components,u),x&&x.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Ie(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ju(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(H1,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(je(Ct),je(In),je(rs),je(Iu))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ju(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Ug=!0,qg=(()=>{class e{}return e.__NG_ELEMENT_ID__=cD,e})();function cD(e){return function lD(e,t,n){if(Ks(e)&&!n){const r=Ht(e.index,t);return new vs(r,r)}return 47&e.type?new vs(t[16],t):null}(at(),re(),16==(16&e))}class Kg{constructor(){}supports(t){return ls(t)}create(t){return new _D(t)}}const pD=(e,t)=>t;class _D{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Zg(r,i,o)?n:r,u=Zg(s,i,o),d=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const m=u-i,x=d-i;if(m!=x){for(let j=0;j<m;j++){const W=j<o.length?o[j]:o[j]=0,Y=W+j;x<=Y&&Y<m&&(o[j]=W+1)}o[s.previousIndex]=x-m}}u!==d&&t(s,u,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ls(t))throw new Ie(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)o=t[u],s=this._trackByFn(u,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,u)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,u),r=!0),n=n._next}else i=0,function ub(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Qi()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,u=>{s=this._trackByFn(i,u),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,u,s,i)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new gD(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yg),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Yg{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new vD,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zg(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Qg{constructor(){}supports(t){return t instanceof Map||Gl(t)}create(){return new mD}}class mD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Gl(t)))throw new Ie(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new yD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class yD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xg(){return new Ka([new Kg])}let Ka=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Xg()),deps:[[e,new ha,new da]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Ie(901,"")}}return e.\u0275prov=Fe({token:e,providedIn:"root",factory:Xg}),e})();function Jg(){return new ws([new Qg])}let ws=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jg()),deps:[[e,new ha,new da]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Ie(901,"")}}return e.\u0275prov=Fe({token:e,providedIn:"root",factory:Jg}),e})();const SD=Bg(null,"core",[]);let wD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(je(jg))},e.\u0275mod=Br({type:e}),e.\u0275inj=Xe({}),e})(),Ya=null;function Ds(){return Ya}const Fn=new Be("DocumentToken");let uv=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(ls(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Oe(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(ye(Ka),ye(ws),ye(Wn),ye(gs))},e.\u0275dir=At({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),_v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Br({type:e}),e.\u0275inj=Xe({}),e})();const gv="browser";class of extends class ZE extends class MD{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ED(e){Ya||(Ya=e)}(new of)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function QE(){return xs=xs||document.querySelector("base"),xs?xs.getAttribute("href"):null}();return null==n?null:function XE(e){oc=oc||document.createElement("a"),oc.setAttribute("href",e);const t=oc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function dE(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let oc,xs=null;const mv=new Be("TRANSITION_ID"),eM=[{provide:Lg,useFactory:function JE(e,t,n){return()=>{n.get(Iu).donePromise.then(()=>{const r=Ds(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[mv,Fn,In],multi:!0}];class sf{static init(){!function X1(e){Nu=e}(new sf)}addToWindow(t){Ne.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ne.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ne.getAllAngularRootElements=()=>t.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let o=i.length,s=!1;const u=function(d){s=s||d,o--,0==o&&r(s)};i.forEach(function(d){d.whenStable(u)})})}findTestabilityInTree(t,n,r){if(null==n)return null;const i=t.getTestability(n);return null!=i?i:r?Ds().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let tM=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();const sc=new Be("EventManagerPlugins");let ac=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(je(sc),je(Ct))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();class yv{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Ds().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Cv=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})(),Ts=(()=>{class e extends Cv{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(bv),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(bv))}}return e.\u0275fac=function(n){return new(n||e)(je(Fn))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();function bv(e){Ds().remove(e)}const af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cf=/%COMP%/g;function cc(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?cc(e,i,n):(i=i.replace(cf,e),n.push(i))}return n}function Dv(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let lf=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new uf(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Dn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new aM(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Dn.ShadowDom:return new cM(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=cc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(je(ac),je(Ts),je(Ss))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();class uf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(af[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,r){t&&t.insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=af[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=af[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Vt.DashCase|Vt.Important)?t.style.setProperty(n,r,i&Vt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Vt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Dv(r)):this.eventManager.addEventListener(t,n,Dv(r))}}class aM extends uf{constructor(t,n,r,i){super(t),this.component=r;const o=cc(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function iM(e){return"_ngcontent-%COMP%".replace(cf,e)}(i+"-"+r.id),this.hostAttr=function oM(e){return"_nghost-%COMP%".replace(cf,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class cM extends uf{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=cc(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const u=document.createElement("style");u.textContent=o[s],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lM=(()=>{class e extends yv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(je(Fn))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();const Mv=["alt","control","meta","shift"],fM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xv={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let hM=(()=>{class e extends yv{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ds().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="";if(Mv.forEach(d=>{const m=r.indexOf(d);m>-1&&(r.splice(m,1),s+=d+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static getEventFullKey(n){let r="",i=function pM(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&xv.hasOwnProperty(t)&&(t=xv[t]))}return fM[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mv.forEach(o=>{o!=i&&dM[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{e.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(je(Fn))},e.\u0275prov=Fe({token:e,factory:e.\u0275fac}),e})();const mM=Bg(SD,"browser",[{provide:Ou,useValue:gv},{provide:Rg,useValue:function _M(){of.makeCurrent(),sf.init()},multi:!0},{provide:Fn,useFactory:function vM(){return function bm(e){Ec=e}(document),document},deps:[]}]),yM=[{provide:Vl,useValue:"root"},{provide:rs,useFactory:function gM(){return new rs},deps:[]},{provide:sc,useClass:lM,multi:!0,deps:[Fn,Ct,Ou]},{provide:sc,useClass:hM,multi:!0,deps:[Fn]},{provide:lf,useClass:lf,deps:[ac,Ts,Ss]},{provide:Y_,useExisting:lf},{provide:Cv,useExisting:Ts},{provide:Ts,useClass:Ts,deps:[Fn]},{provide:Bu,useClass:Bu,deps:[Ct]},{provide:ac,useClass:ac,deps:[sc,Ct]},{provide:class YE{},useClass:tM,deps:[]}];let CM=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ss,useValue:n.appId},{provide:mv,useExisting:Ss},eM]}}}return e.\u0275fac=function(n){return new(n||e)(je(e,12))},e.\u0275mod=Br({type:e}),e.\u0275inj=Xe({providers:yM,imports:[_v,wD]}),e})();"undefined"!=typeof window&&window;var hf,IM=Tt(793),RM=Tt(162),Zr=[],Lv="ResizeObserver loop completed with undelivered notifications.",yo=(()=>{return(e=yo||(yo={})).BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",yo;var e})(),Qr=function(e){return Object.freeze(e)},FM=function e(t,n){this.inlineSize=t,this.blockSize=n,Qr(this)},Iv=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Qr(this)}return e.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),df=function(e){return e instanceof SVGElement&&"getBBox"in e},Rv=function(e){if(df(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ov=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},As="undefined"!=typeof window?window:{},lc=new WeakMap,kv=/auto|scroll/,NM=/^tb|vertical/,HM=/msie|trident/i.test(As.navigator&&As.navigator.userAgent),Bn=function(e){return parseFloat(e||"0")},Co=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new FM((n?t:e)||0,(n?e:t)||0)},Pv=Qr({devicePixelContentBoxSize:Co(),borderBoxSize:Co(),contentBoxSize:Co(),contentRect:new Iv(0,0,0,0)}),Fv=function(e,t){if(void 0===t&&(t=!1),lc.has(e)&&!t)return lc.get(e);if(Rv(e))return lc.set(e,Pv),Pv;var n=getComputedStyle(e),r=df(e)&&e.ownerSVGElement&&e.getBBox(),i=!HM&&"border-box"===n.boxSizing,o=NM.test(n.writingMode||""),s=!r&&kv.test(n.overflowY||""),u=!r&&kv.test(n.overflowX||""),d=r?0:Bn(n.paddingTop),m=r?0:Bn(n.paddingRight),x=r?0:Bn(n.paddingBottom),P=r?0:Bn(n.paddingLeft),j=r?0:Bn(n.borderTopWidth),W=r?0:Bn(n.borderRightWidth),Y=r?0:Bn(n.borderBottomWidth),oe=P+m,se=d+x,J=(r?0:Bn(n.borderLeftWidth))+W,ue=j+Y,De=u?e.offsetHeight-ue-e.clientHeight:0,Le=s?e.offsetWidth-J-e.clientWidth:0,xt=i?oe+J:0,Gn=i?se+ue:0,fr=r?r.width:Bn(n.width)-xt-Le,dr=r?r.height:Bn(n.height)-Gn-De,Rs=fr+oe+Le+J,Os=dr+se+De+ue,So=Qr({devicePixelContentBoxSize:Co(Math.round(fr*devicePixelRatio),Math.round(dr*devicePixelRatio),o),borderBoxSize:Co(Rs,Os,o),contentBoxSize:Co(fr,dr,o),contentRect:new Iv(P,d,fr,dr)});return lc.set(e,So),So},Bv=function(e,t,n){var r=Fv(e,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case yo.DEVICE_PIXEL_CONTENT_BOX:return s;case yo.BORDER_BOX:return i;default:return o}},jM=function e(t){var n=Fv(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Qr([n.borderBoxSize]),this.contentBoxSize=Qr([n.contentBoxSize]),this.devicePixelContentBoxSize=Qr([n.devicePixelContentBoxSize])},Nv=function(e){if(Rv(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},VM=function(){var e=1/0,t=[];Zr.forEach(function(s){if(0!==s.activeTargets.length){var u=[];s.activeTargets.forEach(function(m){var x=new jM(m.target),P=Nv(m.target);u.push(x),m.lastReportedSize=Bv(m.target,m.observedBox),P<e&&(e=P)}),t.push(function(){s.callback.call(s.observer,u,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},Hv=function(e){Zr.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Nv(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},jv=[],uc=0,KM={attributes:!0,characterData:!0,childList:!0,subtree:!0},Vv=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Uv=function(e){return void 0===e&&(e=0),Date.now()+e},pf=!1,_f=new(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(void 0===t&&(t=250),!pf){pf=!0;var r=Uv(t);!function(e){!function(e){if(!hf){var t=0,n=document.createTextNode("");new MutationObserver(function(){return jv.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),hf=function(){n.textContent=""+(t?t--:t++)}}jv.push(e),hf()}(function(){requestAnimationFrame(e)})}(function(){var i=!1;try{i=function(){var e=0;for(Hv(e);Zr.some(function(e){return e.activeTargets.length>0});)e=VM(),Hv(e);return Zr.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Lv}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Lv),window.dispatchEvent(e)}(),e>0}()}finally{if(pf=!1,t=r-Uv(),!uc)return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,KM)};document.body?n():As.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Vv.forEach(function(n){return As.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Vv.forEach(function(n){return As.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}()),zv=function(e){!uc&&e>0&&_f.start(),!(uc+=e)&&_f.stop()},QM=function(){function e(t,n){this.target=t,this.observedBox=n||yo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Bv(this.target,this.observedBox,!0);return function(e){return!df(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),XM=function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n},fc=new WeakMap,Wv=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},dc=function(){function e(){}return e.connect=function(t,n){var r=new XM(t,n);fc.set(t,r)},e.observe=function(t,n,r){var i=fc.get(t),o=0===i.observationTargets.length;Wv(i.observationTargets,n)<0&&(o&&Zr.push(i),i.observationTargets.push(new QM(n,r&&r.box)),zv(1),_f.schedule())},e.unobserve=function(t,n){var r=fc.get(t),i=Wv(r.observationTargets,n);i>=0&&(1===r.observationTargets.length&&Zr.splice(Zr.indexOf(r),1),r.observationTargets.splice(i,1),zv(-1))},e.disconnect=function(t){var n=this,r=fc.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),qv=function(){function e(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");dc.connect(this,t)}return e.prototype.observe=function(t,n){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ov(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");dc.observe(this,t,n)},e.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Ov(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");dc.unobserve(this,t)},e.prototype.disconnect=function(){dc.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const{isArray:JM}=Array;const nx=["addListener","removeListener"],rx=["addEventListener","removeEventListener"],ix=["on","off"];function gf(e,t,n,r){if(Q(n)&&(r=n,n=void 0),r)return gf(e,t,n).pipe(function tx(e){return le(t=>function ex(e,t){return JM(t)?e(...t):e(t)}(e,t))}(r));const[i,o]=function ax(e){return Q(e.addEventListener)&&Q(e.removeEventListener)}(e)?rx.map(s=>u=>e[s](t,u,n)):function ox(e){return Q(e.addListener)&&Q(e.removeListener)}(e)?nx.map($v(e,t)):function sx(e){return Q(e.on)&&Q(e.off)}(e)?ix.map($v(e,t)):[];if(!i&&Yn(e))return Nn(s=>gf(s,t,n))(Pt(e));if(!i)throw new TypeError("Invalid event target");return new te(s=>{const u=(...d)=>s.next(1<d.length?d:d[0]);return i(u),()=>o(u)})}function $v(e,t){return n=>r=>e[n](t,r)}function Ls(e,t){return q((n,r)=>{let i=0;n.subscribe(V(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Is(e){return q((t,n)=>{Pt(e).subscribe(V(n,()=>n.complete(),b)),!n.closed&&t.subscribe(n)})}const Xr="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Gv(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const o=n.querySelectorAll(e);for(let s=0;s<i.length;s++)r(i[s],o[s])}}let fx=0;function Kv(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${fx++}`)}function Yv(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(r){}}function Zv(e,t,n,r){const i={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(i.top+=r),t.bottom&&(i.bottom+=r),t.left&&(i.left+=n),t.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}const Qv=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Xv(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function hc({edges:e,initialRectangle:t,newRectangle:n}){const r={};return Object.keys(e).forEach(i=>{r[i]=(n[i]||0)-(t[i]||0)}),r}const Jv="resize-active";let em=(()=>{class e{constructor(n,r,i,o){this.platformId=n,this.renderer=r,this.elm=i,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Qv,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Rt,this.resizing=new Rt,this.resizeEnd=new Rt,this.mouseup=new B,this.mousedown=new B,this.mousemove=new B,this.destroy$=new B,this.pointerEventListeners=bo.getInstance(r,o)}ngOnInit(){const n=qt(this.pointerEventListeners.pointerDown,this.mousedown),r=qt(this.pointerEventListeners.pointerMove,this.mousemove).pipe(function cx(e,t,n){const r=Q(e)||t||n?{next:e,error:t,complete:n}:e;return r?q((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let u=!0;i.subscribe(V(o,d=>{var m;null===(m=r.next)||void 0===m||m.call(r,d),o.next(d)},()=>{var d;u=!1,null===(d=r.complete)||void 0===d||d.call(r),o.complete()},d=>{var m;u=!1,null===(m=r.error)||void 0===m||m.call(r,d),o.error(d)},()=>{var d,m;u&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):H}(({event:m})=>{if(o)try{m.preventDefault()}catch(x){}}),bn()),i=qt(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},u=()=>Object.assign(Object.assign({},Qv),this.resizeCursors);n.pipe(Nn(m=>{function x(W){return{clientX:W.clientX-m.clientX,clientY:W.clientY-m.clientY}}const P=()=>{const W={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?W.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(W.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?W.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(W.y=+this.resizeSnapGrid.bottom)),W};function j(W,Y){return{x:Math.ceil(W.clientX/Y.x),y:Math.ceil(W.clientY/Y.y)}}return qt(r.pipe(Tr(1)).pipe(le(W=>[,W])),r.pipe(function lx(){return q((e,t)=>{let n,r=!1;e.subscribe(V(t,i=>{const o=n;n=i,r&&t.next([o,i]),r=!0}))})}())).pipe(le(([W,Y])=>[W&&x(W),x(Y)])).pipe(Ls(([W,Y])=>{if(!W)return!0;const ne=P(),oe=j(W,ne),se=j(Y,ne);return oe.x!==se.x||oe.y!==se.y})).pipe(le(([,W])=>{const Y=P();return{clientX:Math.round(W.clientX/Y.x)*Y.x,clientY:Math.round(W.clientY/Y.y)*Y.y}})).pipe(Is(qt(i,n)))})).pipe(Ls(()=>!!o)).pipe(le(({clientX:m,clientY:x})=>Zv(o.startingRect,o.edges,m,x))).pipe(Ls(m=>this.allowNegativeResizes||!!(m.height&&m.width&&m.height>0&&m.width>0))).pipe(Ls(m=>!this.validateResize||this.validateResize({rectangle:m,edges:hc({edges:o.edges,initialRectangle:o.startingRect,newRectangle:m})})),Is(this.destroy$)).subscribe(m=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${m.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${m.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${m.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${m.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:hc({edges:o.edges,initialRectangle:o.startingRect,newRectangle:m}),rectangle:m})}),o.currentRect=m}),n.pipe(le(({edges:m})=>m||{}),Ls(m=>Object.keys(m).length>0),Is(this.destroy$)).subscribe(m=>{o&&s();const x=function dx(e,t){let n=0,r=0;const i=e.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(u=>i[u]).find(u=>!!u);if(s&&s.includes("translate")&&(n=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-r,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-r,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const u=e.nativeElement.getBoundingClientRect();return{height:u.height,width:u.width,top:u.top-r,bottom:u.bottom-r,left:u.left-n,right:u.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:m,startingRect:x,currentRect:x};const P=u(),j=Xv(o.edges,P);this.renderer.setStyle(document.body,"cursor",j),this.setElementClass(this.elm,Jv,!0),this.enableGhostResize&&(o.clonedNode=function ux(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();return t.removeAttribute("id"),n.forEach(i=>{i.removeAttribute("id")}),"canvas"===r?Yv(e,t):("input"===r||"select"===r||"textarea"===r)&&Kv(e,t),Gv("canvas",e,t,Yv),Gv("input, textarea, select",e,t,Kv),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Xv(o.edges,P)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:hc({edges:m,initialRectangle:x,newRectangle:x}),rectangle:Zv(x,{},0,0)})})}),i.pipe(Is(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,Jv),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:hc({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(function GE(e){return e===gv})(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(n,r,i){i?this.renderer.addClass(n.nativeElement,r):this.renderer.removeClass(n.nativeElement,r)}}return e.\u0275fac=function(n){return new(n||e)(ye(Ou),ye(gs),ye(Wn),ye(Ct))},e.\u0275dir=At({type:e,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),e})();class bo{constructor(t,n){this.pointerDown=new te(r=>{let i,o;return n.runOutsideAngular(()=>{i=t.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),Xr&&(o=t.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{i(),Xr&&o()}}).pipe(bn()),this.pointerMove=new te(r=>{let i,o;return n.runOutsideAngular(()=>{i=t.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),Xr&&(o=t.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{i(),Xr&&o()}}).pipe(bn()),this.pointerUp=new te(r=>{let i,o,s;return n.runOutsideAngular(()=>{i=t.listen("document","mouseup",u=>{r.next({clientX:u.clientX,clientY:u.clientY,event:u})}),Xr&&(o=t.listen("document","touchend",u=>{r.next({clientX:u.changedTouches[0].clientX,clientY:u.changedTouches[0].clientY,event:u})}),s=t.listen("document","touchcancel",u=>{r.next({clientX:u.changedTouches[0].clientX,clientY:u.changedTouches[0].clientY,event:u})}))}),()=>{i(),Xr&&(o(),s())}}).pipe(bn())}static getInstance(t,n){return bo.instance||(bo.instance=new bo(t,n)),bo.instance}}let _x=(()=>{class e{constructor(n,r,i,o){this.renderer=n,this.element=r,this.zone=i,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new B}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(n=>{this.onMousedown(n,n.clientX,n.clientY)}),this.listenOnTheHost("mouseup").subscribe(n=>{this.onMouseup(n.clientX,n.clientY)}),Xr&&(this.listenOnTheHost("touchstart").subscribe(n=>{this.onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)}),qt(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(n=>{this.onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(n,r,i){n.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(n,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:n,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(n,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:n})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(n=>{this.eventListeners[n](),delete this.eventListeners[n]})}listenOnTheHost(n){return gf(this.element.nativeElement,n).pipe(Is(this.destroy$))}}return e.\u0275fac=function(n){return new(n||e)(ye(gs),ye(Wn),ye(Ct),ye(em,8))},e.\u0275dir=At({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),e})(),gx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Br({type:e}),e.\u0275inj=Xe({}),e})();const vx=["terminal"],mx=["resizeBox"],pc=function(e){return{"handle-active":e}},yx=function(){return{top:!1}},Cx=function(){return{left:!1}},bx=function(){return{right:!0}},Sx=function(){return{right:!1}},wx=function(){return{bottom:!0}},Dx=function(){return{bottom:!1}};let Ex=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Mi({type:e,selectors:[["global-style"]],decls:0,vars:0,template:function(n,r){},styles:[".xterm{position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm{cursor:text}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}\n"],encapsulation:2}),e})(),Mx=(()=>{class e{constructor(n,r,i){this.renderer=n,this.ref=r,this.hostRef=i,this.keyInputSubject=new B,this.keyEventSubject=new B,this.requestRenderFromAPI=new B,this.allLogsSubject=new B,this.resizableObservers=[],this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.paddingSize=5,this.stylesForDiv={display:"block"},this._draggableInput=!1,this._stylesInput={},this.keyInputEmitter=new Rt,this.keyEventEmitter=new Rt,this.releaseNextOne=()=>{if(!this.interval){let o=this.waitingQueue.splice(0,1);1==o.length&&this.allLogsSubject.next(o[0])}},this.waitingQueue=[],this.requestRenderSubscription=this.requestRenderFromAPI.subscribe(o=>{let s=Object.assign({rowChanged:!1,columnChanged:!1},o);this.pushToWaitingQueue(s),this.getNextOrWait()})}set _dataSource(n){null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=n,this.dataSourceSubscription=this.dataSource.subscribe(r=>{this.write(r)})}get _dataSource(){return this.dataSource}set draggable(n){this._draggableInput=n}get draggable(){return this._draggableInput}setMinWidth(n){this._minWidthInput=n}setMinHeight(n){this._minHeightInput=n}setDraggable(n){this._draggableInput=n,this.lastDraggedPosition=void 0,this.ref.markForCheck()}setRows(n){this._rowsInput!=n&&(this._rowsInput=n,this.requestRenderFromAPI.next({rowChanged:!0}))}setCols(n){this._colsInput!=n&&(this._colsInput=n,this.requestRenderFromAPI.next({columnChanged:!0}))}setStyle(n){var r;JSON.stringify(null!==(r=this._stylesInput)&&void 0!==r?r:{})!=JSON.stringify(null!=n?n:{})&&(this._stylesInput=n,this.requestRenderFromAPI.next({}))}getNextOrWait(){this.hostRef.nativeElement.isConnected?this.releaseNextOne():this.stopAndPolling()}pushToWaitingQueue(n){this.waitingQueue.push(n),this.releaseNextOne()}stopAndPolling(){(()=>{if(this.interval)return;const r=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(r),this.interval=void 0,this.releaseNextOne())},500);this.interval=r})()}observableSetup(){this.term.onData(n=>{this.keyInputSubject.next(n)}),this.term.onKey(n=>{this.keyEventSubject.next(n)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(n=>{this.keyInputEmitter.emit(n)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(n=>{this.keyEventEmitter.emit(n)}),this.resizableObservers=[this.observeTerminalDimension(),this.observeHostDimension()],this.allLogsSubjectSubscription=this.allLogsSubject.subscribe(n=>{this.coordinateOuterAndTerminal(n),this.getNextOrWait()}),this.getNextOrWait()}setOuterDimensions(n,r,i,o){this.requestRenderFromAPI.next({rowChanged:!1,columnChanged:!1,dragged:{draggedWidth:`${i}px`,draggedHeight:`${o}px`}})}applyStyleToDiv(){Object.keys(this.stylesForDiv).map(n=>({key:n,value:this.stylesForDiv[n]})).forEach(({key:n,value:r})=>{r?this.renderer.setStyle(this.resizeBox.nativeElement,n,r):this.renderer.removeStyle(this.resizeBox.nativeElement,n)}),this.stylesForDiv=this.stylesForDiv}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new RM.FitAddon,this.term=new IM.Terminal,this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})}ngOnChanges(n){var r,i,o,s;console.group("onChanges"),console.debug("prop: ",n),console.groupEnd(),(null==n?void 0:n._rowsInput)&&(null===(r=null==n?void 0:n._rowsInput)||void 0===r?void 0:r.previousValue)!=(null===(i=null==n?void 0:n._rowsInput)||void 0===i?void 0:i.currentValue)&&this.requestRenderFromAPI.next({rowChanged:!0}),(null==n?void 0:n._colsInput)&&(null===(o=null==n?void 0:n._colsInput)||void 0===o?void 0:o.previousValue)!=(null===(s=null==n?void 0:n._colsInput)||void 0===s?void 0:s.currentValue)&&this.requestRenderFromAPI.next({columnChanged:!0})}coordinateOuterAndTerminal(n){var r,i;console.debug(`changeList: ${JSON.stringify(n)}`),this.stylesForDiv=Object.assign(Object.assign(Object.assign({},this.stylesForDiv),this._stylesInput),{width:this.stylesForDiv.width,height:this.stylesForDiv.height}),n.dragged?(this.stylesForDiv.width=n.dragged.draggedWidth,this.stylesForDiv.height=n.dragged.draggedHeight,this.lastDraggedPosition={width:n.dragged.draggedWidth,height:n.dragged.draggedHeight}):!this._rowsInput&&!this._colsInput&&!(this.draggable&&this.lastDraggedPosition)&&(this.stylesForDiv.width="100%",this.stylesForDiv.height="100%"),this.applyStyleToDiv(),n.rowChanged||n.columnChanged?this.term.resize(null!==(r=this._colsInput)&&void 0!==r?r:this.term.cols,null!==(i=this._rowsInput)&&void 0!==i?i:this.term.rows):(this.term.element.style.paddingLeft=`${this.paddingSize}px`,this.term.element.style.paddingRight=`${this.paddingSize}px`,this.fitAddon.fit(),this.term.element.style.padding="0px");let o=this.term.element.getElementsByClassName("xterm-screen")[0],s=this.term.element.getElementsByClassName("xterm-viewport")[0];const u=o.clientWidth,d=o.clientHeight,x=this.underlying._core.viewport.scrollBarWidth;this.renderer.setStyle(s,"width",`${u+x}px`),console.debug(u+x+2*this.paddingSize,u,x,2*this.paddingSize),console.debug(d+2*this.paddingSize,d),this.stylesForDiv=Object.assign(Object.assign({},this.stylesForDiv),{width:`${u+x+2*this.paddingSize}px`,height:`${d+2*this.paddingSize}px`}),this.applyStyleToDiv(),this.ref.markForCheck()}observeTerminalDimension(){let n=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(n){const r=new qv(i=>{const o=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).width),s=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).height);let u,d;for(let m of i)m.contentBoxSize?m.target instanceof HTMLElement&&(u=parseFloat(getComputedStyle(m.target).width),d=parseFloat(getComputedStyle(m.target).height)):(u=parseFloat(getComputedStyle(m.target).width),d=parseFloat(getComputedStyle(m.target).height));(u>o||d>s)&&this.requestRenderFromAPI.next({whenTerminalDimensionIsOverOuterDiv:{width:`${u}px`,height:`${d}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let n=this.hostRef.nativeElement;if(n){const r=new qv(i=>{let o,s;for(let u of i)u.contentBoxSize?u.target instanceof HTMLElement&&(o=parseFloat(getComputedStyle(u.target).width),s=parseFloat(getComputedStyle(u.target).height)):(o=parseFloat(getComputedStyle(u.target).width),s=parseFloat(getComputedStyle(u.target).height));this.requestRenderFromAPI.next({hostResized:{width:`${o}px`,height:`${s}px`}})});return r.observe(n),r}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.requestRenderSubscription&&this.requestRenderSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.interval&&clearInterval(this.interval),this.term&&this.term.dispose(),this.resizableObservers.forEach(n=>n.disconnect())}write(n){this.term.write(n)}get keyInput(){return this.keyInputSubject}get keyEventInput(){return this.keyEventSubject}get underlying(){return this.term}get isDraggableOnEdgeActivated(){return this._draggableInput}onResizeEnd(n,r,i,o){this.setOuterDimensions(n,r,i,o)}validatorFactory(){return r=>{var i,o;if(this._draggableInput){let m=r.rectangle.height;return!(r.rectangle.width<(null!==(i=this._minWidthInput)&&void 0!==i?i:100)||m<(null!==(o=this._minHeightInput)&&void 0!==o?o:50))}return!1}}}return e.\u0275fac=function(n){return new(n||e)(ye(gs),ye(qg),ye(Wn))},e.\u0275cmp=Mi({type:e,selectors:[["ng-terminal"]],viewQuery:function(n,r){if(1&n&&(Va(vx,7),Va(mx,7)),2&n){let i;ja(i=Ua())&&(r.terminalOuter=i.first),ja(i=Ua())&&(r.resizeBox=i.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable"},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},features:[jo],decls:9,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"]],template:function(n,r){1&n&&(uo(0,"global-style"),co(1,"div",0,1),nu("resizeEnd",function(o){return r.onResizeEnd(o.rectangle.left,o.rectangle.top,o.rectangle.width,o.rectangle.height)}),uo(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),lo()),2&n&&(qi(1),qr("validateResize",r.validatorFactory())("enableGhostResize",!0),qi(4),qr("ngClass",ms(10,pc,r.isDraggableOnEdgeActivated))("resizeEdges",Gr(12,yx)),qi(1),qr("ngClass",ms(13,pc,r.isDraggableOnEdgeActivated))("resizeEdges",Gr(15,Cx)),qi(1),qr("ngClass",ms(16,pc,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?Gr(18,bx):Gr(19,Sx)),qi(1),qr("ngClass",ms(20,pc,r.isDraggableOnEdgeActivated))("resizeEdges",r.isDraggableOnEdgeActivated?Gr(22,wx):Gr(23,Dx)))},directives:[Ex,em,_x,uv],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0px}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0px}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:calc(100%);width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0px;top:0px}.resize-handle-right[_ngcontent-%COMP%]{right:0px;top:0px}"],changeDetection:0}),e})(),xx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Br({type:e}),e.\u0275inj=Xe({imports:[[gx,_v]]}),e})();class vf{static insertBlank(t){return`\x9b${t}@`}static cursorUp(t){return`\x9b${t}A`}static cursorDown(t){return`\x9b${t}B`}static cursorForward(t){return`\x9b${t}C`}static cursorBackward(t){return`\x9b${t}D`}static cursorNextLine(t){return`\x9b${t}E`}static cursorPrecedingLine(t){return`\x9b${t}F`}static cursorColumn(t){return`\x9b${t}G`}static cursorPosition(t,n){return`\x9b${t};${n}H`}static eraseInDisplay(t){return`\x9b${t}J`}static eraseSelectiveThingsInDisplay(t){return`\x9b?${t}J`}static eraseInLine(t){return`\x9b${t}K`}static eraseSelectiveThingsInLine(t){return`\x9b?${t}K`}static insertLines(t){return`\x9b${t}L`}static deleteLines(t){return`\x9b${t}M`}static deleteCharacter(t){return`\x9b${t}P`}static scrollUpLines(t){return`\x9b${t}S`}static scrollDownLines(t){return`\x9b${t}T`}static eraseCharacters(t){return`\x9b${t}X`}}const Tx=["term"];let Ax=(()=>{class e{constructor(){this.currentLine="",this.value="",this.env={}}ngAfterViewInit(){this.env=standard_env(),this.child.write(vf.cursorColumn(1)+"lispy-js> "),this.child.keyEventInput.subscribe(n=>{console.log("keyboard event:"+n.domEvent.keyCode+", "+n.key);const r=n.domEvent,i=!r.altKey&&!r.ctrlKey&&!r.metaKey;if(13===r.keyCode){this.value=evaluate(parse(this.currentLine),this.env);var o=void 0===this.value?"":lispstr(this.value);this.child.write("\n"+vf.cursorColumn(1)+o+"\n"+vf.cursorColumn(1)+"lispy-js> "),this.currentLine=""}else 8===r.keyCode?this.child.underlying.buffer.active.cursorX>10&&(this.child.write("\b \b"),this.currentLine=this.currentLine.slice(0,-1)):i&&(this.currentLine+=n.key,this.child.write(n.key))})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Mi({type:e,selectors:[["app-lispyjs-interpreter"]],viewQuery:function(n,r){if(1&n&&Va(Tx,7),2&n){let i;ja(i=Ua())&&(r.child=i.first)}},decls:2,vars:0,consts:[["term",""]],template:function(n,r){1&n&&uo(0,"ng-terminal",null,0)},directives:[Mx],styles:[""]}),e})(),Lx=(()=>{class e{constructor(){this.title="lispy-js"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Mi({type:e,selectors:[["app-root"]],decls:5,vars:0,template:function(n,r){1&n&&(co(0,"h1"),su(1,"Lispy-JS Scheme Interpreter"),lo(),co(2,"p"),su(3,"This is a JavaScript translation of Peter Norvig's Scheme interpreter written in Python."),lo(),uo(4,"app-lispyjs-interpreter"))},directives:[Ax],styles:[""]}),e})(),Ix=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Br({type:e,bootstrap:[Lx]}),e.\u0275inj=Xe({providers:[],imports:[[CM,xx]]}),e})();(function aD(){Ug=!1})(),mM().bootstrapModule(Ix).catch(e=>console.error(e))},162:hr=>{self,hr.exports=(()=>{"use strict";var Kn={775:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FitAddon=void 0;var A=function(){function y(){}return y.prototype.activate=function(S){this._terminal=S},y.prototype.dispose=function(){},y.prototype.fit=function(){var S=this.proposeDimensions();S&&this._terminal&&(this._terminal.rows===S.rows&&this._terminal.cols===S.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(S.cols,S.rows)))},y.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var S=this._terminal._core;if(0!==S._renderService.dimensions.actualCellWidth&&0!==S._renderService.dimensions.actualCellHeight){var w=window.getComputedStyle(this._terminal.element.parentElement),C=parseInt(w.getPropertyValue("height")),I=Math.max(0,parseInt(w.getPropertyValue("width"))),E=window.getComputedStyle(this._terminal.element),p=C-(parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom"))),v=I-(parseInt(E.getPropertyValue("padding-right"))+parseInt(E.getPropertyValue("padding-left")))-S.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(v/S._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(p/S._renderService.dimensions.actualCellHeight))}}}},y}();_.FitAddon=A}},Tt={};return function Q(_){if(Tt[_])return Tt[_].exports;var A=Tt[_]={exports:{}};return Kn[_](A,A.exports,Q),A.exports}(775)})()},793:hr=>{self,hr.exports=(()=>{"use strict";var Kn={4567:function(Q,_,A){var y,S=this&&this.__extends||(y=function(c,a){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(l[g]=h[g])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=c}y(c,a),c.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0}),_.AccessibilityManager=void 0;var w=A(9042),C=A(6114),I=A(9924),E=A(3656),p=A(844),v=A(5596),b=A(9631),f=function(c){function a(l,h){var g=c.call(this)||this;g._terminal=l,g._renderService=h,g._liveRegionLineCount=0,g._charsToConsume=[],g._charsToAnnounce="",g._accessibilityTreeRoot=document.createElement("div"),g._accessibilityTreeRoot.classList.add("xterm-accessibility"),g._accessibilityTreeRoot.tabIndex=0,g._rowContainer=document.createElement("div"),g._rowContainer.setAttribute("role","list"),g._rowContainer.classList.add("xterm-accessibility-tree"),g._rowElements=[];for(var D=0;D<g._terminal.rows;D++)g._rowElements[D]=g._createAccessibilityTreeNode(),g._rowContainer.appendChild(g._rowElements[D]);if(g._topBoundaryFocusListener=function(M){return g._onBoundaryFocus(M,0)},g._bottomBoundaryFocusListener=function(M){return g._onBoundaryFocus(M,1)},g._rowElements[0].addEventListener("focus",g._topBoundaryFocusListener),g._rowElements[g._rowElements.length-1].addEventListener("focus",g._bottomBoundaryFocusListener),g._refreshRowsDimensions(),g._accessibilityTreeRoot.appendChild(g._rowContainer),g._renderRowsDebouncer=new I.TimeBasedDebouncer(g._renderRows.bind(g)),g._refreshRows(),g._liveRegion=document.createElement("div"),g._liveRegion.classList.add("live-region"),g._liveRegion.setAttribute("aria-live","assertive"),g._accessibilityTreeRoot.appendChild(g._liveRegion),!g._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");return g._terminal.element.insertAdjacentElement("afterbegin",g._accessibilityTreeRoot),g.register(g._renderRowsDebouncer),g.register(g._terminal.onResize(function(M){return g._onResize(M.rows)})),g.register(g._terminal.onRender(function(M){return g._refreshRows(M.start,M.end)})),g.register(g._terminal.onScroll(function(){return g._refreshRows()})),g.register(g._terminal.onA11yChar(function(M){return g._onChar(M)})),g.register(g._terminal.onLineFeed(function(){return g._onChar("\n")})),g.register(g._terminal.onA11yTab(function(M){return g._onTab(M)})),g.register(g._terminal.onKey(function(M){return g._onKey(M.key)})),g.register(g._terminal.onBlur(function(){return g._clearLiveRegion()})),g.register(g._renderService.onDimensionsChange(function(){return g._refreshRowsDimensions()})),g._screenDprMonitor=new v.ScreenDprMonitor,g.register(g._screenDprMonitor),g._screenDprMonitor.setListener(function(){return g._refreshRowsDimensions()}),g.register((0,E.addDisposableDomListener)(window,"resize",function(){return g._refreshRowsDimensions()})),g}return S(a,c),a.prototype.dispose=function(){c.prototype.dispose.call(this),(0,b.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0},a.prototype._onBoundaryFocus=function(l,h){var g=l.target,D=this._rowElements[0===h?1:this._rowElements.length-2];if(g.getAttribute("aria-posinset")!==(0===h?"1":""+this._terminal.buffer.lines.length)&&l.relatedTarget===D){var M,O;if(0===h?(M=g,O=this._rowElements.pop(),this._rowContainer.removeChild(O)):(M=this._rowElements.shift(),O=g,this._rowContainer.removeChild(M)),M.removeEventListener("focus",this._topBoundaryFocusListener),O.removeEventListener("focus",this._bottomBoundaryFocusListener),0===h){var R=this._createAccessibilityTreeNode();this._rowElements.unshift(R),this._rowContainer.insertAdjacentElement("afterbegin",R)}else R=this._createAccessibilityTreeNode(),this._rowElements.push(R),this._rowContainer.appendChild(R);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===h?-1:1),this._rowElements[0===h?1:this._rowElements.length-2].focus(),l.preventDefault(),l.stopImmediatePropagation()}},a.prototype._onResize=function(l){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var h=this._rowContainer.children.length;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);for(;this._rowElements.length>l;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},a.prototype._createAccessibilityTreeNode=function(){var l=document.createElement("div");return l.setAttribute("role","listitem"),l.tabIndex=-1,this._refreshRowDimensions(l),l},a.prototype._onTab=function(l){for(var h=0;h<l;h++)this._onChar(" ")},a.prototype._onChar=function(l){var h=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==l&&(this._charsToAnnounce+=l):this._charsToAnnounce+=l,"\n"===l&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=w.tooMuchOutput)),C.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){h._accessibilityTreeRoot.appendChild(h._liveRegion)},0))},a.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,C.isMac&&(0,b.removeElementFromParent)(this._liveRegion)},a.prototype._onKey=function(l){this._clearLiveRegion(),this._charsToConsume.push(l)},a.prototype._refreshRows=function(l,h){this._renderRowsDebouncer.refresh(l,h,this._terminal.rows)},a.prototype._renderRows=function(l,h){for(var g=this._terminal.buffer,D=g.lines.length.toString(),M=l;M<=h;M++){var O=g.translateBufferLineToString(g.ydisp+M,!0),R=(g.ydisp+M+1).toString(),T=this._rowElements[M];T&&(0===O.length?T.innerText="\xa0":T.textContent=O,T.setAttribute("aria-posinset",R),T.setAttribute("aria-setsize",D))}this._announceCharacters()},a.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var l=0;l<this._terminal.rows;l++)this._refreshRowDimensions(this._rowElements[l])}},a.prototype._refreshRowDimensions=function(l){l.style.height=this._renderService.dimensions.actualCellHeight+"px"},a.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},a}(p.Disposable);_.AccessibilityManager=f},3614:(Q,_)=>{function A(C){return C.replace(/\r?\n/g,"\r")}function y(C,I){return I?"\x1b[200~"+C+"\x1b[201~":C}function S(C,I,E){C=y(C=A(C),E.decPrivateModes.bracketedPasteMode),E.triggerDataEvent(C,!0),I.value=""}function w(C,I,E){var p=E.getBoundingClientRect(),v=C.clientX-p.left-10,b=C.clientY-p.top-10;I.style.width="20px",I.style.height="20px",I.style.left=v+"px",I.style.top=b+"px",I.style.zIndex="1000",I.focus()}Object.defineProperty(_,"__esModule",{value:!0}),_.rightClickHandler=_.moveTextAreaUnderMouseCursor=_.paste=_.handlePasteEvent=_.copyHandler=_.bracketTextForPaste=_.prepareTextForTerminal=void 0,_.prepareTextForTerminal=A,_.bracketTextForPaste=y,_.copyHandler=function(C,I){C.clipboardData&&C.clipboardData.setData("text/plain",I.selectionText),C.preventDefault()},_.handlePasteEvent=function(C,I,E){C.stopPropagation(),C.clipboardData&&S(C.clipboardData.getData("text/plain"),I,E)},_.paste=S,_.moveTextAreaUnderMouseCursor=w,_.rightClickHandler=function(C,I,E,p,v){w(C,I,E),v&&p.rightClickSelect(C),I.value=p.selectionText,I.select()}},4774:(Q,_)=>{var A,y,S,w,E;function C(E){var p=E.toString(16);return p.length<2?"0"+p:p}function I(E,p){return E<p?(p+.05)/(E+.05):(E+.05)/(p+.05)}Object.defineProperty(_,"__esModule",{value:!0}),_.contrastRatio=_.toPaddedHex=_.rgba=_.rgb=_.css=_.color=_.channels=void 0,(E=A=_.channels||(_.channels={})).toCss=function(p,v,b,f){return void 0!==f?"#"+C(p)+C(v)+C(b)+C(f):"#"+C(p)+C(v)+C(b)},E.toRgba=function(p,v,b,f){return void 0===f&&(f=255),(p<<24|v<<16|b<<8|f)>>>0},(y=_.color||(_.color={})).blend=function(E,p){var v=(255&p.rgba)/255;if(1===v)return{css:p.css,rgba:p.rgba};var f=p.rgba>>16&255,c=p.rgba>>8&255,a=E.rgba>>24&255,l=E.rgba>>16&255,h=E.rgba>>8&255,g=a+Math.round(((p.rgba>>24&255)-a)*v),D=l+Math.round((f-l)*v),M=h+Math.round((c-h)*v);return{css:A.toCss(g,D,M),rgba:A.toRgba(g,D,M)}},y.isOpaque=function(E){return 255==(255&E.rgba)},y.ensureContrastRatio=function(E,p,v){var b=w.ensureContrastRatio(E.rgba,p.rgba,v);if(b)return w.toColor(b>>24&255,b>>16&255,b>>8&255)},y.opaque=function(E){var p=(255|E.rgba)>>>0,v=w.toChannels(p);return{css:A.toCss(v[0],v[1],v[2]),rgba:p}},y.opacity=function(E,p){var v=Math.round(255*p),b=w.toChannels(E.rgba),f=b[0],c=b[1],a=b[2];return{css:A.toCss(f,c,a,v),rgba:A.toRgba(f,c,a,v)}},y.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]},(_.css||(_.css={})).toColor=function(E){switch(E.length){case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}throw new Error("css.toColor: Unsupported css format")},function(E){function p(v,b,f){var c=v/255,a=b/255,l=f/255;return.2126*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.7152*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.0722*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))}E.relativeLuminance=function(v){return p(v>>16&255,v>>8&255,255&v)},E.relativeLuminance2=p}(S=_.rgb||(_.rgb={})),function(E){function p(b,f,c){for(var a=b>>24&255,l=b>>16&255,h=b>>8&255,g=f>>24&255,D=f>>16&255,M=f>>8&255,O=I(S.relativeLuminance2(g,M,D),S.relativeLuminance2(a,l,h));O<c&&(g>0||D>0||M>0);)g-=Math.max(0,Math.ceil(.1*g)),D-=Math.max(0,Math.ceil(.1*D)),M-=Math.max(0,Math.ceil(.1*M)),O=I(S.relativeLuminance2(g,M,D),S.relativeLuminance2(a,l,h));return(g<<24|D<<16|M<<8|255)>>>0}function v(b,f,c){for(var a=b>>24&255,l=b>>16&255,h=b>>8&255,g=f>>24&255,D=f>>16&255,M=f>>8&255,O=I(S.relativeLuminance2(g,M,D),S.relativeLuminance2(a,l,h));O<c&&(g<255||D<255||M<255);)g=Math.min(255,g+Math.ceil(.1*(255-g))),D=Math.min(255,D+Math.ceil(.1*(255-D))),M=Math.min(255,M+Math.ceil(.1*(255-M))),O=I(S.relativeLuminance2(g,M,D),S.relativeLuminance2(a,l,h));return(g<<24|D<<16|M<<8|255)>>>0}E.ensureContrastRatio=function(b,f,c){var a=S.relativeLuminance(b>>8),l=S.relativeLuminance(f>>8);if(I(a,l)<c)return l<a?p(b,f,c):v(b,f,c)},E.reduceLuminance=p,E.increaseLuminance=v,E.toChannels=function(b){return[b>>24&255,b>>16&255,b>>8&255,255&b]},E.toColor=function(b,f,c){return{css:A.toCss(b,f,c),rgba:A.toRgba(b,f,c)}}}(w=_.rgba||(_.rgba={})),_.toPaddedHex=C,_.contrastRatio=I},7239:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ColorContrastCache=void 0;var A=function(){function y(){this._color={},this._rgba={}}return y.prototype.clear=function(){this._color={},this._rgba={}},y.prototype.setCss=function(S,w,C){this._rgba[S]||(this._rgba[S]={}),this._rgba[S][w]=C},y.prototype.getCss=function(S,w){return this._rgba[S]?this._rgba[S][w]:void 0},y.prototype.setColor=function(S,w,C){this._color[S]||(this._color[S]={}),this._color[S][w]=C},y.prototype.getColor=function(S,w){return this._color[S]?this._color[S][w]:void 0},y}();_.ColorContrastCache=A},5680:function(Q,_,A){var y=this&&this.__spreadArray||function(f,c,a){if(a||2===arguments.length)for(var l,h=0,g=c.length;h<g;h++)!l&&h in c||(l||(l=Array.prototype.slice.call(c,0,h)),l[h]=c[h]);return f.concat(l||Array.prototype.slice.call(c))};Object.defineProperty(_,"__esModule",{value:!0}),_.ColorManager=_.DEFAULT_ANSI_COLORS=void 0;var S=A(4774),w=A(7239),C=S.css.toColor("#ffffff"),I=S.css.toColor("#000000"),E=S.css.toColor("#ffffff"),p=S.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};_.DEFAULT_ANSI_COLORS=Object.freeze(function(){for(var f=[S.css.toColor("#2e3436"),S.css.toColor("#cc0000"),S.css.toColor("#4e9a06"),S.css.toColor("#c4a000"),S.css.toColor("#3465a4"),S.css.toColor("#75507b"),S.css.toColor("#06989a"),S.css.toColor("#d3d7cf"),S.css.toColor("#555753"),S.css.toColor("#ef2929"),S.css.toColor("#8ae234"),S.css.toColor("#fce94f"),S.css.toColor("#729fcf"),S.css.toColor("#ad7fa8"),S.css.toColor("#34e2e2"),S.css.toColor("#eeeeec")],c=[0,95,135,175,215,255],a=0;a<216;a++){var l=c[a/36%6|0],h=c[a/6%6|0],g=c[a%6];f.push({css:S.channels.toCss(l,h,g),rgba:S.channels.toRgba(l,h,g)})}for(a=0;a<24;a++){var D=8+10*a;f.push({css:S.channels.toCss(D,D,D),rgba:S.channels.toRgba(D,D,D)})}return f}());var b=function(){function f(c,a){this.allowTransparency=a;var l=c.createElement("canvas");l.width=1,l.height=1;var h=l.getContext("2d");if(!h)throw new Error("Could not get rendering context");this._ctx=h,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new w.ColorContrastCache,this.colors={foreground:C,background:I,cursor:E,cursorAccent:p,selectionTransparent:v,selectionOpaque:S.color.blend(I,v),ansi:_.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors()}return f.prototype.onOptionsChange=function(c){"minimumContrastRatio"===c&&this._contrastCache.clear()},f.prototype.setTheme=function(c){void 0===c&&(c={}),this.colors.foreground=this._parseColor(c.foreground,C),this.colors.background=this._parseColor(c.background,I),this.colors.cursor=this._parseColor(c.cursor,E,!0),this.colors.cursorAccent=this._parseColor(c.cursorAccent,p,!0),this.colors.selectionTransparent=this._parseColor(c.selection,v,!0),this.colors.selectionOpaque=S.color.blend(this.colors.background,this.colors.selectionTransparent),S.color.isOpaque(this.colors.selectionTransparent)&&(this.colors.selectionTransparent=S.color.opacity(this.colors.selectionTransparent,.3)),this.colors.ansi[0]=this._parseColor(c.black,_.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(c.red,_.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(c.green,_.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(c.yellow,_.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(c.blue,_.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(c.magenta,_.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(c.cyan,_.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(c.white,_.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(c.brightBlack,_.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(c.brightRed,_.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(c.brightGreen,_.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(c.brightYellow,_.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(c.brightBlue,_.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(c.brightMagenta,_.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(c.brightCyan,_.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(c.brightWhite,_.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear(),this._updateRestoreColors()},f.prototype.restoreColor=function(c){if(void 0!==c)switch(c){case 256:this.colors.foreground=this._restoreColors.foreground;break;case 257:this.colors.background=this._restoreColors.background;break;case 258:this.colors.cursor=this._restoreColors.cursor;break;default:this.colors.ansi[c]=this._restoreColors.ansi[c]}else for(var a=0;a<this._restoreColors.ansi.length;++a)this.colors.ansi[a]=this._restoreColors.ansi[a]},f.prototype._updateRestoreColors=function(){this._restoreColors={foreground:this.colors.foreground,background:this.colors.background,cursor:this.colors.cursor,ansi:y([],this.colors.ansi,!0)}},f.prototype._parseColor=function(c,a,l){if(void 0===l&&(l=this.allowTransparency),void 0===c)return a;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=c,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+c+" is invalid using fallback "+a.css),a;this._ctx.fillRect(0,0,1,1);var h=this._ctx.getImageData(0,0,1,1).data;if(255!==h[3]){if(!l)return console.warn("Color: "+c+" is using transparency, but allowTransparency is false. Using fallback "+a.css+"."),a;var g=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map(function(L){return Number(L)}),D=g[0],M=g[1],O=g[2],T=Math.round(255*g[3]);return{rgba:S.channels.toRgba(D,M,O,T),css:c}}return{css:this._ctx.fillStyle,rgba:S.channels.toRgba(h[0],h[1],h[2],h[3])}},f}();_.ColorManager=b},9631:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.removeElementFromParent=void 0,_.removeElementFromParent=function(){for(var A,y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];for(var w=0,C=y;w<C.length;w++){var I=C[w];null===(A=null==I?void 0:I.parentElement)||void 0===A||A.removeChild(I)}}},3656:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.addDisposableDomListener=void 0,_.addDisposableDomListener=function(A,y,S,w){A.addEventListener(y,S,w);var C=!1;return{dispose:function(){C||(C=!0,A.removeEventListener(y,S,w))}}}},3551:function(Q,_,A){var y=this&&this.__decorate||function(p,v,b,f){var c,a=arguments.length,l=a<3?v:null===f?f=Object.getOwnPropertyDescriptor(v,b):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(p,v,b,f);else for(var h=p.length-1;h>=0;h--)(c=p[h])&&(l=(a<3?c(l):a>3?c(v,b,l):c(v,b))||l);return a>3&&l&&Object.defineProperty(v,b,l),l},S=this&&this.__param||function(p,v){return function(b,f){v(b,f,p)}};Object.defineProperty(_,"__esModule",{value:!0}),_.MouseZone=_.Linkifier=void 0;var w=A(8460),C=A(2585),I=function(){function p(v,b,f){this._bufferService=v,this._logService=b,this._unicodeService=f,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onShowLinkUnderline=new w.EventEmitter,this._onHideLinkUnderline=new w.EventEmitter,this._onLinkTooltip=new w.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(p.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!1,configurable:!0}),p.prototype.attachToDom=function(v,b){this._element=v,this._mouseZoneManager=b},p.prototype.linkifyRows=function(v,b){var f=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=v,this._rowsToLinkify.end=b):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,v),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,b)),this._mouseZoneManager.clearAll(v,b),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return f._linkifyRows()},p._timeBeforeLatency))},p.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var v=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var b=v.ydisp+this._rowsToLinkify.start;if(!(b>=v.lines.length)){for(var f=v.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,c=Math.ceil(2e3/this._bufferService.cols),a=this._bufferService.buffer.iterator(!1,b,f,c,c);a.hasNext();)for(var l=a.next(),h=0;h<this._linkMatchers.length;h++)this._doLinkifyRow(l.range.first,l.content,this._linkMatchers[h]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},p.prototype.registerLinkMatcher=function(v,b,f){if(void 0===f&&(f={}),!b)throw new Error("handler must be defined");var c={id:this._nextLinkMatcherId++,regex:v,handler:b,matchIndex:f.matchIndex,validationCallback:f.validationCallback,hoverTooltipCallback:f.tooltipCallback,hoverLeaveCallback:f.leaveCallback,willLinkActivate:f.willLinkActivate,priority:f.priority||0};return this._addLinkMatcherToList(c),c.id},p.prototype._addLinkMatcherToList=function(v){if(0!==this._linkMatchers.length){for(var b=this._linkMatchers.length-1;b>=0;b--)if(v.priority<=this._linkMatchers[b].priority)return void this._linkMatchers.splice(b+1,0,v);this._linkMatchers.splice(0,0,v)}else this._linkMatchers.push(v)},p.prototype.deregisterLinkMatcher=function(v){for(var b=0;b<this._linkMatchers.length;b++)if(this._linkMatchers[b].id===v)return this._linkMatchers.splice(b,1),!0;return!1},p.prototype._doLinkifyRow=function(v,b,f){for(var c,a=this,l=new RegExp(f.regex.source,(f.regex.flags||"")+"g"),h=-1,g=function(){var M=c["number"!=typeof f.matchIndex?0:f.matchIndex];if(!M)return D._logService.debug("match found without corresponding matchIndex",c,f),"break";if(h=b.indexOf(M,h+1),l.lastIndex=h+M.length,h<0)return"break";var O=D._bufferService.buffer.stringIndexToBufferIndex(v,h);if(O[0]<0)return"break";var R=D._bufferService.buffer.lines.get(O[0]);if(!R)return"break";var T=R.getFg(O[1]),L=T?T>>9&511:void 0;f.validationCallback?f.validationCallback(M,function(N){a._rowsTimeoutId||N&&a._addLink(O[1],O[0]-a._bufferService.buffer.ydisp,M,f,L)}):D._addLink(O[1],O[0]-D._bufferService.buffer.ydisp,M,f,L)},D=this;null!==(c=l.exec(b))&&"break"!==g(););},p.prototype._addLink=function(v,b,f,c,a){var l=this;if(this._mouseZoneManager&&this._element){var h=this._unicodeService.getStringCellWidth(f),g=v%this._bufferService.cols,D=b+Math.floor(v/this._bufferService.cols),M=(g+h)%this._bufferService.cols,O=D+Math.floor((g+h)/this._bufferService.cols);0===M&&(M=this._bufferService.cols,O--),this._mouseZoneManager.add(new E(g+1,D+1,M+1,O+1,function(R){if(c.handler)return c.handler(R,f);var T=window.open();T?(T.opener=null,T.location.href=f):console.warn("Opening link blocked as opener could not be cleared")},function(){l._onShowLinkUnderline.fire(l._createLinkHoverEvent(g,D,M,O,a)),l._element.classList.add("xterm-cursor-pointer")},function(R){l._onLinkTooltip.fire(l._createLinkHoverEvent(g,D,M,O,a)),c.hoverTooltipCallback&&c.hoverTooltipCallback(R,f,{start:{x:g,y:D},end:{x:M,y:O}})},function(){l._onHideLinkUnderline.fire(l._createLinkHoverEvent(g,D,M,O,a)),l._element.classList.remove("xterm-cursor-pointer"),c.hoverLeaveCallback&&c.hoverLeaveCallback()},function(R){return!c.willLinkActivate||c.willLinkActivate(R,f)}))}},p.prototype._createLinkHoverEvent=function(v,b,f,c,a){return{x1:v,y1:b,x2:f,y2:c,cols:this._bufferService.cols,fg:a}},p._timeBeforeLatency=200,p=y([S(0,C.IBufferService),S(1,C.ILogService),S(2,C.IUnicodeService)],p)}();_.Linkifier=I;var E=function(p,v,b,f,c,a,l,h,g){this.x1=p,this.y1=v,this.x2=b,this.y2=f,this.clickCallback=c,this.hoverCallback=a,this.tooltipCallback=l,this.leaveCallback=h,this.willLinkActivate=g};_.MouseZone=E},6465:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Linkifier2=void 0;var I=A(2585),E=A(8460),p=A(844),v=A(3656),b=function(f){function c(a){var l=f.call(this)||this;return l._bufferService=a,l._linkProviders=[],l._linkCacheDisposables=[],l._isMouseOut=!0,l._activeLine=-1,l._onShowLinkUnderline=l.register(new E.EventEmitter),l._onHideLinkUnderline=l.register(new E.EventEmitter),l.register((0,p.getDisposeArrayDisposable)(l._linkCacheDisposables)),l}return S(c,f),Object.defineProperty(c.prototype,"currentLink",{get:function(){return this._currentLink},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onShowLinkUnderline",{get:function(){return this._onShowLinkUnderline.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onHideLinkUnderline",{get:function(){return this._onHideLinkUnderline.event},enumerable:!1,configurable:!0}),c.prototype.registerLinkProvider=function(a){var l=this;return this._linkProviders.push(a),{dispose:function(){var h=l._linkProviders.indexOf(a);-1!==h&&l._linkProviders.splice(h,1)}}},c.prototype.attachToDom=function(a,l,h){var g=this;this._element=a,this._mouseService=l,this._renderService=h,this.register((0,v.addDisposableDomListener)(this._element,"mouseleave",function(){g._isMouseOut=!0,g._clearCurrentLink()})),this.register((0,v.addDisposableDomListener)(this._element,"mousemove",this._onMouseMove.bind(this))),this.register((0,v.addDisposableDomListener)(this._element,"click",this._onClick.bind(this)))},c.prototype._onMouseMove=function(a){if(this._lastMouseEvent=a,this._element&&this._mouseService){var l=this._positionFromMouseEvent(a,this._element,this._mouseService);if(l){this._isMouseOut=!1;for(var h=a.composedPath(),g=0;g<h.length;g++){var D=h[g];if(D.classList.contains("xterm"))break;if(D.classList.contains("xterm-hover"))return}this._lastBufferCell&&l.x===this._lastBufferCell.x&&l.y===this._lastBufferCell.y||(this._onHover(l),this._lastBufferCell=l)}}},c.prototype._onHover=function(a){if(this._activeLine!==a.y)return this._clearCurrentLink(),void this._askForLink(a,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))},c.prototype._askForLink=function(a,l){var h,g=this;this._activeProviderReplies&&l||(null===(h=this._activeProviderReplies)||void 0===h||h.forEach(function(M){null==M||M.forEach(function(O){O.link.dispose&&O.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);var D=!1;this._linkProviders.forEach(function(M,O){var R;l?(null===(R=g._activeProviderReplies)||void 0===R?void 0:R.get(O))&&(D=g._checkLinkProviderResult(O,a,D)):M.provideLinks(a.y,function(T){var L,N;if(!g._isMouseOut){var F=null==T?void 0:T.map(function(G){return{link:G}});null===(L=g._activeProviderReplies)||void 0===L||L.set(O,F),D=g._checkLinkProviderResult(O,a,D),(null===(N=g._activeProviderReplies)||void 0===N?void 0:N.size)===g._linkProviders.length&&g._removeIntersectingLinks(a.y,g._activeProviderReplies)}})})},c.prototype._removeIntersectingLinks=function(a,l){for(var h=new Set,g=0;g<l.size;g++){var D=l.get(g);if(D)for(var M=0;M<D.length;M++)for(var O=D[M],T=O.link.range.end.y>a?this._bufferService.cols:O.link.range.end.x,L=O.link.range.start.y<a?0:O.link.range.start.x;L<=T;L++){if(h.has(L)){D.splice(M--,1);break}h.add(L)}}},c.prototype._checkLinkProviderResult=function(a,l,h){var g,D=this;if(!this._activeProviderReplies)return h;for(var M=this._activeProviderReplies.get(a),O=!1,R=0;R<a;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(O=!0);if(!O&&M){var T=M.find(function(N){return D._linkAtPosition(N.link,l)});T&&(h=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(R=0;R<this._activeProviderReplies.size;R++){var L=null===(g=this._activeProviderReplies.get(R))||void 0===g?void 0:g.find(function(N){return D._linkAtPosition(N.link,l)});if(L){h=!0,this._handleNewLink(L);break}}return h},c.prototype._onClick=function(a){if(this._element&&this._mouseService&&this._currentLink){var l=this._positionFromMouseEvent(a,this._element,this._mouseService);l&&this._linkAtPosition(this._currentLink.link,l)&&this._currentLink.link.activate(a,this._currentLink.link.text)}},c.prototype._clearCurrentLink=function(a,l){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!l||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=l)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,p.disposeArray)(this._linkCacheDisposables))},c.prototype._handleNewLink=function(a){var l=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var h=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);h&&this._linkAtPosition(a.link,h)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:void 0===a.link.decorations||a.link.decorations.underline,pointerCursor:void 0===a.link.decorations||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:function(){var g,D;return null===(D=null===(g=l._currentLink)||void 0===g?void 0:g.state)||void 0===D?void 0:D.decorations.pointerCursor},set:function(g){var D,M;(null===(D=l._currentLink)||void 0===D?void 0:D.state)&&l._currentLink.state.decorations.pointerCursor!==g&&(l._currentLink.state.decorations.pointerCursor=g,l._currentLink.state.isHovered&&(null===(M=l._element)||void 0===M||M.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:function(){var g,D;return null===(D=null===(g=l._currentLink)||void 0===g?void 0:g.state)||void 0===D?void 0:D.decorations.underline},set:function(g){var D,M,O;(null===(D=l._currentLink)||void 0===D?void 0:D.state)&&(null===(O=null===(M=l._currentLink)||void 0===M?void 0:M.state)||void 0===O?void 0:O.decorations.underline)!==g&&(l._currentLink.state.decorations.underline=g,l._currentLink.state.isHovered&&l._fireUnderlineEvent(a.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedBufferChange(function(g){l._clearCurrentLink(0===g.start?0:g.start+1+l._bufferService.buffer.ydisp,g.end+1+l._bufferService.buffer.ydisp)})))}},c.prototype._linkHover=function(a,l,h){var g;(null===(g=this._currentLink)||void 0===g?void 0:g.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),l.hover&&l.hover(h,l.text)},c.prototype._fireUnderlineEvent=function(a,l){var h=a.range,g=this._bufferService.buffer.ydisp,D=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-g-1,h.end.x,h.end.y-g-1,void 0);(l?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(D)},c.prototype._linkLeave=function(a,l,h){var g;(null===(g=this._currentLink)||void 0===g?void 0:g.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(l,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),l.leave&&l.leave(h,l.text)},c.prototype._linkAtPosition=function(a,l){var g=a.range.start.y<l.y,D=a.range.end.y>l.y;return(a.range.start.y===a.range.end.y&&a.range.start.x<=l.x&&a.range.end.x>=l.x||g&&a.range.end.x>=l.x||D&&a.range.start.x<=l.x||g&&D)&&a.range.start.y<=l.y&&a.range.end.y>=l.y},c.prototype._positionFromMouseEvent=function(a,l,h){var g=h.getCoords(a,l,this._bufferService.cols,this._bufferService.rows);if(g)return{x:g[0],y:g[1]+this._bufferService.buffer.ydisp}},c.prototype._createLinkUnderlineEvent=function(a,l,h,g,D){return{x1:a,y1:l,x2:h,y2:g,cols:this._bufferService.cols,fg:D}},w([C(0,I.IBufferService)],c)}(p.Disposable);_.Linkifier2=b},9042:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.tooMuchOutput=_.promptLabel=void 0,_.promptLabel="Terminal input",_.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},6954:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.MouseZoneManager=void 0;var I=A(844),E=A(3656),p=A(4725),v=A(2585),b=function(f){function c(a,l,h,g,D,M){var O=f.call(this)||this;return O._element=a,O._screenElement=l,O._bufferService=h,O._mouseService=g,O._selectionService=D,O._optionsService=M,O._zones=[],O._areZonesActive=!1,O._lastHoverCoords=[void 0,void 0],O._initialSelectionLength=0,O.register((0,E.addDisposableDomListener)(O._element,"mousedown",function(R){return O._onMouseDown(R)})),O._mouseMoveListener=function(R){return O._onMouseMove(R)},O._mouseLeaveListener=function(R){return O._onMouseLeave(R)},O._clickListener=function(R){return O._onClick(R)},O}return S(c,f),c.prototype.dispose=function(){f.prototype.dispose.call(this),this._deactivate()},c.prototype.add=function(a){this._zones.push(a),1===this._zones.length&&this._activate()},c.prototype.clearAll=function(a,l){if(0!==this._zones.length){a&&l||(a=0,l=this._bufferService.rows-1);for(var h=0;h<this._zones.length;h++){var g=this._zones[h];(g.y1>a&&g.y1<=l+1||g.y2>a&&g.y2<=l+1||g.y1<a&&g.y2>l+1)&&(this._currentZone&&this._currentZone===g&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(h--,1))}0===this._zones.length&&this._deactivate()}},c.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},c.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},c.prototype._onMouseMove=function(a){this._lastHoverCoords[0]===a.pageX&&this._lastHoverCoords[1]===a.pageY||(this._onHover(a),this._lastHoverCoords=[a.pageX,a.pageY])},c.prototype._onHover=function(a){var l=this,h=this._findZoneEventAt(a);h!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),h&&(this._currentZone=h,h.hoverCallback&&h.hoverCallback(a),this._tooltipTimeout=window.setTimeout(function(){return l._onTooltip(a)},this._optionsService.rawOptions.linkTooltipHoverDuration)))},c.prototype._onTooltip=function(a){this._tooltipTimeout=void 0;var l=this._findZoneEventAt(a);null==l||l.tooltipCallback(a)},c.prototype._onMouseDown=function(a){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var l=this._findZoneEventAt(a);(null==l?void 0:l.willLinkActivate(a))&&(a.preventDefault(),a.stopImmediatePropagation())}},c.prototype._onMouseLeave=function(a){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},c.prototype._onClick=function(a){var l=this._findZoneEventAt(a),h=this._getSelectionLength();l&&h===this._initialSelectionLength&&(l.clickCallback(a),a.preventDefault(),a.stopImmediatePropagation())},c.prototype._getSelectionLength=function(){var a=this._selectionService.selectionText;return a?a.length:0},c.prototype._findZoneEventAt=function(a){var l=this._mouseService.getCoords(a,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(l)for(var h=l[0],g=l[1],D=0;D<this._zones.length;D++){var M=this._zones[D];if(M.y1===M.y2){if(g===M.y1&&h>=M.x1&&h<M.x2)return M}else if(g===M.y1&&h>=M.x1||g===M.y2&&h<M.x2||g>M.y1&&g<M.y2)return M}},w([C(2,v.IBufferService),C(3,p.IMouseService),C(4,p.ISelectionService),C(5,v.IOptionsService)],c)}(I.Disposable);_.MouseZoneManager=b},6193:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.RenderDebouncer=void 0;var A=function(){function y(S){this._renderCallback=S}return y.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},y.prototype.refresh=function(S,w,C){var I=this;this._rowCount=C,S=void 0!==S?S:0,w=void 0!==w?w:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,S):S,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,w):w,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return I._innerRefresh()}))},y.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var S=Math.max(this._rowStart,0),w=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0,this._renderCallback(S,w)}},y}();_.RenderDebouncer=A},5596:function(Q,_,A){var y,S=this&&this.__extends||(y=function(C,I){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,p){E.__proto__=p}||function(E,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(E[v]=p[v])})(C,I)},function(C,I){if("function"!=typeof I&&null!==I)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function E(){this.constructor=C}y(C,I),C.prototype=null===I?Object.create(I):(E.prototype=I.prototype,new E)});Object.defineProperty(_,"__esModule",{value:!0}),_.ScreenDprMonitor=void 0;var w=function(C){function I(){var E=null!==C&&C.apply(this,arguments)||this;return E._currentDevicePixelRatio=window.devicePixelRatio,E}return S(I,C),I.prototype.setListener=function(E){var p=this;this._listener&&this.clearListener(),this._listener=E,this._outerListener=function(){p._listener&&(p._listener(window.devicePixelRatio,p._currentDevicePixelRatio),p._updateDpr())},this._updateDpr()},I.prototype.dispose=function(){C.prototype.dispose.call(this),this.clearListener()},I.prototype._updateDpr=function(){var E;this._outerListener&&(null===(E=this._resolutionMediaMatchList)||void 0===E||E.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},I.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},I}(A(844).Disposable);_.ScreenDprMonitor=w},3236:function(Q,_,A){var y,S=this&&this.__extends||(y=function(B,ee){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,q){z.__proto__=q}||function(z,q){for(var V in q)Object.prototype.hasOwnProperty.call(q,V)&&(z[V]=q[V])})(B,ee)},function(B,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function z(){this.constructor=B}y(B,ee),B.prototype=null===ee?Object.create(ee):(z.prototype=ee.prototype,new z)});Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;var w=A(2950),C=A(1680),I=A(3614),E=A(2584),p=A(5435),v=A(3525),b=A(3551),f=A(9312),c=A(6114),a=A(3656),l=A(9042),h=A(357),g=A(6954),D=A(4567),M=A(1296),O=A(7399),R=A(8460),T=A(8437),L=A(5680),N=A(3230),F=A(4725),G=A(428),U=A(8934),k=A(6465),H=A(5114),$=A(8969),K=A(4774),te=A(4269),ie=A(5941),Ce=A(7641),he="undefined"!=typeof window?window.document:null,Pe=function(B){function ee(z){void 0===z&&(z={});var q=B.call(this,z)||this;return q.browser=c,q._keyDownHandled=!1,q._keyPressHandled=!1,q._unprocessedDeadKey=!1,q._onCursorMove=new R.EventEmitter,q._onKey=new R.EventEmitter,q._onRender=new R.EventEmitter,q._onSelectionChange=new R.EventEmitter,q._onTitleChange=new R.EventEmitter,q._onBell=new R.EventEmitter,q._onFocus=new R.EventEmitter,q._onBlur=new R.EventEmitter,q._onA11yCharEmitter=new R.EventEmitter,q._onA11yTabEmitter=new R.EventEmitter,q._setup(),q.linkifier=q._instantiationService.createInstance(b.Linkifier),q.linkifier2=q.register(q._instantiationService.createInstance(k.Linkifier2)),q.decorationService=q.register(q._instantiationService.createInstance(Ce.DecorationService)),q.register(q._inputHandler.onRequestBell(function(){return q.bell()})),q.register(q._inputHandler.onRequestRefreshRows(function(V,de){return q.refresh(V,de)})),q.register(q._inputHandler.onRequestSendFocus(function(){return q._reportFocus()})),q.register(q._inputHandler.onRequestReset(function(){return q.reset()})),q.register(q._inputHandler.onRequestWindowsOptionsReport(function(V){return q._reportWindowsOptions(V)})),q.register(q._inputHandler.onColor(function(V){return q._handleColorEvent(V)})),q.register((0,R.forwardEvent)(q._inputHandler.onCursorMove,q._onCursorMove)),q.register((0,R.forwardEvent)(q._inputHandler.onTitleChange,q._onTitleChange)),q.register((0,R.forwardEvent)(q._inputHandler.onA11yChar,q._onA11yCharEmitter)),q.register((0,R.forwardEvent)(q._inputHandler.onA11yTab,q._onA11yTabEmitter)),q.register(q._bufferService.onResize(function(V){return q._afterResize(V.cols,V.rows)})),q}return S(ee,B),Object.defineProperty(ee.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onBell",{get:function(){return this._onBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onA11yChar",{get:function(){return this._onA11yCharEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"onA11yTab",{get:function(){return this._onA11yTabEmitter.event},enumerable:!1,configurable:!0}),ee.prototype._handleColorEvent=function(z){var q,V;if(this._colorManager){for(var de=0,le=z;de<le.length;de++){var ge=le[de],ze=void 0,qe="";switch(ge.index){case 256:ze="foreground",qe="10";break;case 257:ze="background",qe="11";break;case 258:ze="cursor",qe="12";break;default:ze="ansi",qe="4;"+ge.index}if(ze)switch(ge.type){case 0:var zt=K.color.toColorRGB("ansi"===ze?this._colorManager.colors.ansi[ge.index]:this._colorManager.colors[ze]);this.coreService.triggerDataEvent(E.C0.ESC+"]"+qe+";"+(0,ie.toRgbString)(zt)+E.C0.BEL);break;case 1:"ansi"===ze?this._colorManager.colors.ansi[ge.index]=K.rgba.toColor.apply(K.rgba,ge.color):this._colorManager.colors[ze]=K.rgba.toColor.apply(K.rgba,ge.color);break;case 2:this._colorManager.restoreColor(ge.index)}}null===(q=this._renderService)||void 0===q||q.setColors(this._colorManager.colors),null===(V=this.viewport)||void 0===V||V.onThemeChange(this._colorManager.colors)}},ee.prototype.dispose=function(){var z,q,V;this._isDisposed||(B.prototype.dispose.call(this),null===(z=this._renderService)||void 0===z||z.dispose(),this._customKeyEventHandler=void 0,this.write=function(){},null===(V=null===(q=this.element)||void 0===q?void 0:q.parentNode)||void 0===V||V.removeChild(this.element))},ee.prototype._setup=function(){B.prototype._setup.call(this),this._customKeyEventHandler=void 0},Object.defineProperty(ee.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),ee.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},ee.prototype._updateOptions=function(z){var q,V,de,le;switch(B.prototype._updateOptions.call(this,z),z){case"fontFamily":case"fontSize":null===(q=this._renderService)||void 0===q||q.clear(),null===(V=this._charSizeService)||void 0===V||V.measure();break;case"cursorBlink":case"cursorStyle":this.refresh(this.buffer.y,this.buffer.y);break;case"customGlyphs":case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":this._renderService&&(this._renderService.clear(),this._renderService.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderService&&(this._renderService.setRenderer(this._createRenderer()),this._renderService.onResize(this.cols,this.rows));break;case"scrollback":null===(de=this.viewport)||void 0===de||de.syncScrollArea();break;case"screenReaderMode":this.optionsService.rawOptions.screenReaderMode?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new D.AccessibilityManager(this,this._renderService)):(null===(le=this._accessibilityManager)||void 0===le||le.dispose(),this._accessibilityManager=void 0);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"theme":this._setTheme(this.optionsService.rawOptions.theme)}},ee.prototype._onTextAreaFocus=function(z){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[I"),this.updateCursorStyle(z),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()},ee.prototype.blur=function(){var z;return null===(z=this.textarea)||void 0===z?void 0:z.blur()},ee.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},ee.prototype._syncTextArea=function(){if(this.textarea&&this.buffer.isCursorInViewport&&!this._compositionHelper.isComposing&&this._renderService){var q=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(q){var V=Math.min(this.buffer.x,this.cols-1),de=this._renderService.dimensions.actualCellHeight,le=q.getWidth(V),ge=this._renderService.dimensions.actualCellWidth*le,ze=this.buffer.y*this._renderService.dimensions.actualCellHeight;this.textarea.style.left=V*this._renderService.dimensions.actualCellWidth+"px",this.textarea.style.top=ze+"px",this.textarea.style.width=ge+"px",this.textarea.style.height=de+"px",this.textarea.style.lineHeight=de+"px",this.textarea.style.zIndex="-5"}}},ee.prototype._initGlobal=function(){var z=this;this._bindKeys(),this.register((0,a.addDisposableDomListener)(this.element,"copy",function(V){z.hasSelection()&&(0,I.copyHandler)(V,z._selectionService)}));var q=function(V){return(0,I.handlePasteEvent)(V,z.textarea,z.coreService)};this.register((0,a.addDisposableDomListener)(this.textarea,"paste",q)),this.register((0,a.addDisposableDomListener)(this.element,"paste",q)),this.register(c.isFirefox?(0,a.addDisposableDomListener)(this.element,"mousedown",function(V){2===V.button&&(0,I.rightClickHandler)(V,z.textarea,z.screenElement,z._selectionService,z.options.rightClickSelectsWord)}):(0,a.addDisposableDomListener)(this.element,"contextmenu",function(V){(0,I.rightClickHandler)(V,z.textarea,z.screenElement,z._selectionService,z.options.rightClickSelectsWord)})),c.isLinux&&this.register((0,a.addDisposableDomListener)(this.element,"auxclick",function(V){1===V.button&&(0,I.moveTextAreaUnderMouseCursor)(V,z.textarea,z.screenElement)}))},ee.prototype._bindKeys=function(){var z=this;this.register((0,a.addDisposableDomListener)(this.textarea,"keyup",function(q){return z._keyUp(q)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keydown",function(q){return z._keyDown(q)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keypress",function(q){return z._keyPress(q)},!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionstart",function(){return z._compositionHelper.compositionstart()})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionupdate",function(q){return z._compositionHelper.compositionupdate(q)})),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionend",function(){return z._compositionHelper.compositionend()})),this.register((0,a.addDisposableDomListener)(this.textarea,"input",function(q){return z._inputEvent(q)},!0)),this.register(this.onRender(function(){return z._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(q){return z._queueLinkification(q.start,q.end)}))},ee.prototype.open=function(z){var q=this;if(!z)throw new Error("Terminal requires a parent element.");z.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=z.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),z.appendChild(this.element);var V=he.createDocumentFragment();this._viewportElement=he.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),V.appendChild(this._viewportElement),this._viewportScrollArea=he.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=he.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=he.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),V.appendChild(this.screenElement),this.textarea=he.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",l.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register((0,a.addDisposableDomListener)(this.textarea,"focus",function(ge){return q._onTextAreaFocus(ge)})),this.register((0,a.addDisposableDomListener)(this.textarea,"blur",function(){return q._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea);var de=this._instantiationService.createInstance(H.CoreBrowserService,this.textarea);this._instantiationService.setService(F.ICoreBrowserService,de),this._charSizeService=this._instantiationService.createInstance(G.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(F.ICharSizeService,this._charSizeService),this._theme=this.options.theme||this._theme,this._colorManager=new L.ColorManager(he,this.options.allowTransparency),this.register(this.optionsService.onOptionChange(function(ge){return q._colorManager.onOptionsChange(ge)})),this._colorManager.setTheme(this._theme),this._characterJoinerService=this._instantiationService.createInstance(te.CharacterJoinerService),this._instantiationService.setService(F.ICharacterJoinerService,this._characterJoinerService);var le=this._createRenderer();this._renderService=this.register(this._instantiationService.createInstance(N.RenderService,le,this.rows,this.screenElement)),this._instantiationService.setService(F.IRenderService,this._renderService),this.register(this._renderService.onRenderedBufferChange(function(ge){return q._onRender.fire(ge)})),this.onResize(function(ge){return q._renderService.resize(ge.cols,ge.rows)}),this._compositionView=he.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(w.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(V),this._soundService=this._instantiationService.createInstance(h.SoundService),this._instantiationService.setService(F.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(U.MouseService),this._instantiationService.setService(F.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,function(ge){return q.scrollLines(ge,!0,1)},this._viewportElement,this._viewportScrollArea,this.element),this.viewport.onThemeChange(this._colorManager.colors),this.register(this._inputHandler.onRequestSyncScrollBar(function(){return q.viewport.syncScrollArea()})),this.register(this.viewport),this.register(this.onCursorMove(function(){q._renderService.onCursorMove(),q._syncTextArea()})),this.register(this.onResize(function(){return q._renderService.onResize(q.cols,q.rows)})),this.register(this.onBlur(function(){return q._renderService.onBlur()})),this.register(this.onFocus(function(){return q._renderService.onFocus()})),this.register(this._renderService.onDimensionsChange(function(){return q.viewport.syncScrollArea()})),this._selectionService=this.register(this._instantiationService.createInstance(f.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(F.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(function(ge){return q.scrollLines(ge.amount,ge.suppressScrollEvent)})),this.register(this._selectionService.onSelectionChange(function(){return q._onSelectionChange.fire()})),this.register(this._selectionService.onRequestRedraw(function(ge){return q._renderService.onSelectionChanged(ge.start,ge.end,ge.columnSelectMode)})),this.register(this._selectionService.onLinuxMouseSelection(function(ge){q.textarea.value=ge,q.textarea.focus(),q.textarea.select()})),this.register(this._onScroll.event(function(ge){q.viewport.syncScrollArea(),q._selectionService.refresh()})),this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",function(){return q._selectionService.refresh()})),this._mouseZoneManager=this._instantiationService.createInstance(g.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return q._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.decorationService.attachToDom(this.screenElement,this._renderService,this._bufferService),this.register((0,a.addDisposableDomListener)(this.element,"mousedown",function(ge){return q._selectionService.onMouseDown(ge)})),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new D.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},ee.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(v.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(M.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},ee.prototype._setTheme=function(z){var q,V,de;this._theme=z,null===(q=this._colorManager)||void 0===q||q.setTheme(z),null===(V=this._renderService)||void 0===V||V.setColors(this._colorManager.colors),null===(de=this.viewport)||void 0===de||de.onThemeChange(this._colorManager.colors)},ee.prototype.bindMouse=function(){var z=this,q=this,V=this.element;function de(fe){var ht,kt,Wt=q._mouseService.getRawByteCoords(fe,q.screenElement,q.cols,q.rows);if(!Wt)return!1;switch(fe.overrideType||fe.type){case"mousemove":kt=32,void 0===fe.buttons?(ht=3,void 0!==fe.button&&(ht=fe.button<3?fe.button:3)):ht=1&fe.buttons?0:4&fe.buttons?1:2&fe.buttons?2:3;break;case"mouseup":kt=0,ht=fe.button<3?fe.button:3;break;case"mousedown":kt=1,ht=fe.button<3?fe.button:3;break;case"wheel":0!==fe.deltaY&&(kt=fe.deltaY<0?0:1),ht=4;break;default:return!1}return!(void 0===kt||void 0===ht||ht>4)&&q.coreMouseService.triggerMouseEvent({col:Wt.x-33,row:Wt.y-33,button:ht,action:kt,ctrl:fe.ctrlKey,alt:fe.altKey,shift:fe.shiftKey})}var le={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ge=function(fe){return de(fe),fe.buttons||(z._document.removeEventListener("mouseup",le.mouseup),le.mousedrag&&z._document.removeEventListener("mousemove",le.mousedrag)),z.cancel(fe)},ze=function(fe){return de(fe),z.cancel(fe,!0)},qe=function(fe){fe.buttons&&de(fe)},zt=function(fe){fe.buttons||de(fe)};this.register(this.coreMouseService.onProtocolChange(function(fe){fe?("debug"===z.optionsService.rawOptions.logLevel&&z._logService.debug("Binding to mouse events:",z.coreMouseService.explainEvents(fe)),z.element.classList.add("enable-mouse-events"),z._selectionService.disable()):(z._logService.debug("Unbinding from mouse events."),z.element.classList.remove("enable-mouse-events"),z._selectionService.enable()),8&fe?le.mousemove||(V.addEventListener("mousemove",zt),le.mousemove=zt):(V.removeEventListener("mousemove",le.mousemove),le.mousemove=null),16&fe?le.wheel||(V.addEventListener("wheel",ze,{passive:!1}),le.wheel=ze):(V.removeEventListener("wheel",le.wheel),le.wheel=null),2&fe?le.mouseup||(le.mouseup=ge):(z._document.removeEventListener("mouseup",le.mouseup),le.mouseup=null),4&fe?le.mousedrag||(le.mousedrag=qe):(z._document.removeEventListener("mousemove",le.mousedrag),le.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,a.addDisposableDomListener)(V,"mousedown",function(fe){if(fe.preventDefault(),z.focus(),z.coreMouseService.areMouseEventsActive&&!z._selectionService.shouldForceSelection(fe))return de(fe),le.mouseup&&z._document.addEventListener("mouseup",le.mouseup),le.mousedrag&&z._document.addEventListener("mousemove",le.mousedrag),z.cancel(fe)})),this.register((0,a.addDisposableDomListener)(V,"wheel",function(fe){if(!le.wheel){if(!z.buffer.hasScrollback){var ht=z.viewport.getLinesScrolled(fe);if(0===ht)return;for(var kt=E.C0.ESC+(z.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(fe.deltaY<0?"A":"B"),Wt="",pr=0;pr<Math.abs(ht);pr++)Wt+=kt;return z.coreService.triggerDataEvent(Wt,!0),z.cancel(fe,!0)}return z.viewport.onWheel(fe)?z.cancel(fe):void 0}},{passive:!1})),this.register((0,a.addDisposableDomListener)(V,"touchstart",function(fe){if(!z.coreMouseService.areMouseEventsActive)return z.viewport.onTouchStart(fe),z.cancel(fe)},{passive:!0})),this.register((0,a.addDisposableDomListener)(V,"touchmove",function(fe){if(!z.coreMouseService.areMouseEventsActive)return z.viewport.onTouchMove(fe)?void 0:z.cancel(fe)},{passive:!1}))},ee.prototype.refresh=function(z,q){var V;null===(V=this._renderService)||void 0===V||V.refreshRows(z,q)},ee.prototype._queueLinkification=function(z,q){var V;null===(V=this.linkifier)||void 0===V||V.linkifyRows(z,q)},ee.prototype.updateCursorStyle=function(z){var q;(null===(q=this._selectionService)||void 0===q?void 0:q.shouldColumnSelect(z))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},ee.prototype._showCursor=function(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},ee.prototype.scrollLines=function(z,q,V){void 0===V&&(V=0),B.prototype.scrollLines.call(this,z,q,V),this.refresh(0,this.rows-1)},ee.prototype.paste=function(z){(0,I.paste)(z,this.textarea,this.coreService)},ee.prototype.attachCustomKeyEventHandler=function(z){this._customKeyEventHandler=z},ee.prototype.registerLinkMatcher=function(z,q,V){var de=this.linkifier.registerLinkMatcher(z,q,V);return this.refresh(0,this.rows-1),de},ee.prototype.deregisterLinkMatcher=function(z){this.linkifier.deregisterLinkMatcher(z)&&this.refresh(0,this.rows-1)},ee.prototype.registerLinkProvider=function(z){return this.linkifier2.registerLinkProvider(z)},ee.prototype.registerCharacterJoiner=function(z){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");var q=this._characterJoinerService.register(z);return this.refresh(0,this.rows-1),q},ee.prototype.deregisterCharacterJoiner=function(z){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(z)&&this.refresh(0,this.rows-1)},Object.defineProperty(ee.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!1,configurable:!0}),ee.prototype.addMarker=function(z){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+z)},ee.prototype.registerDecoration=function(z){return this.decorationService.registerDecoration(z)},ee.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},ee.prototype.select=function(z,q,V){this._selectionService.setSelection(z,q,V)},ee.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},ee.prototype.getSelectionPosition=function(){if(this._selectionService&&this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},ee.prototype.clearSelection=function(){var z;null===(z=this._selectionService)||void 0===z||z.clearSelection()},ee.prototype.selectAll=function(){var z;null===(z=this._selectionService)||void 0===z||z.selectAll()},ee.prototype.selectLines=function(z,q){var V;null===(V=this._selectionService)||void 0===V||V.selectLines(z,q)},ee.prototype._keyDown=function(z){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(z))return!1;if(!this._compositionHelper.keydown(z))return this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;"Dead"!==z.key&&"AltGraph"!==z.key||(this._unprocessedDeadKey=!0);var q=(0,O.evaluateKeyboardEvent)(z,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(z),3===q.type||2===q.type){var V=this.rows-1;return this.scrollLines(2===q.type?-V:V),this.cancel(z,!0)}return 1===q.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,z)||(q.cancel&&this.cancel(z,!0),!q.key||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(q.key!==E.C0.ETX&&q.key!==E.C0.CR||(this.textarea.value=""),this._onKey.fire({key:q.key,domEvent:z}),this._showCursor(),this.coreService.triggerDataEvent(q.key,!0),this.optionsService.rawOptions.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(z,!0))))},ee.prototype._isThirdLevelShift=function(z,q){var V=z.isMac&&!this.options.macOptionIsMeta&&q.altKey&&!q.ctrlKey&&!q.metaKey||z.isWindows&&q.altKey&&q.ctrlKey&&!q.metaKey||z.isWindows&&q.getModifierState("AltGraph");return"keypress"===q.type?V:V&&(!q.keyCode||q.keyCode>47)},ee.prototype._keyUp=function(z){var q;this._customKeyEventHandler&&!1===this._customKeyEventHandler(z)||(16===(q=z).keyCode||17===q.keyCode||18===q.keyCode||this.focus(),this.updateCursorStyle(z),this._keyPressHandled=!1)},ee.prototype._keyPress=function(z){var q;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(z))return!1;if(this.cancel(z),z.charCode)q=z.charCode;else if(null==z.which)q=z.keyCode;else{if(0===z.which||0===z.charCode)return!1;q=z.which}return!(!q||(z.altKey||z.ctrlKey||z.metaKey)&&!this._isThirdLevelShift(this.browser,z)||(q=String.fromCharCode(q),this._onKey.fire({key:q,domEvent:z}),this._showCursor(),this.coreService.triggerDataEvent(q,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))},ee.prototype._inputEvent=function(z){return!(!z.data||"insertText"!==z.inputType||z.composed||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(z.data,!0),this.cancel(z),0))},ee.prototype.bell=function(){var z;this._soundBell()&&(null===(z=this._soundService)||void 0===z||z.playBellSound()),this._onBell.fire()},ee.prototype.resize=function(z,q){z!==this.cols||q!==this.rows?B.prototype.resize.call(this,z,q):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()},ee.prototype._afterResize=function(z,q){var V,de;null===(V=this._charSizeService)||void 0===V||V.measure(),null===(de=this.viewport)||void 0===de||de.syncScrollArea(!0)},ee.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var z=1;z<this.rows;z++)this.buffer.lines.push(this.buffer.getBlankLine(T.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}},ee.prototype.reset=function(){var z,q;this.options.rows=this.rows,this.options.cols=this.cols;var V=this._customKeyEventHandler;this._setup(),B.prototype.reset.call(this),null===(z=this._selectionService)||void 0===z||z.reset(),this._customKeyEventHandler=V,this.refresh(0,this.rows-1),null===(q=this.viewport)||void 0===q||q.syncScrollArea()},ee.prototype.clearTextureAtlas=function(){var z;null===(z=this._renderService)||void 0===z||z.clearTextureAtlas()},ee.prototype._reportFocus=function(){var z;(null===(z=this.element)||void 0===z?void 0:z.classList.contains("focus"))?this.coreService.triggerDataEvent(E.C0.ESC+"[I"):this.coreService.triggerDataEvent(E.C0.ESC+"[O")},ee.prototype._reportWindowsOptions=function(z){if(this._renderService)switch(z){case p.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:var q=this._renderService.dimensions.scaledCanvasWidth.toFixed(0),V=this._renderService.dimensions.scaledCanvasHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[4;"+V+";"+q+"t");break;case p.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:var de=this._renderService.dimensions.scaledCellWidth.toFixed(0),le=this._renderService.dimensions.scaledCellHeight.toFixed(0);this.coreService.triggerDataEvent(E.C0.ESC+"[6;"+le+";"+de+"t")}},ee.prototype.cancel=function(z,q){if(this.options.cancelEvents||q)return z.preventDefault(),z.stopPropagation(),!1},ee.prototype._visualBell=function(){return!1},ee.prototype._soundBell=function(){return"sound"===this.options.bellStyle},ee}($.CoreTerminal);_.Terminal=Pe},9924:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TimeBasedDebouncer=void 0;var A=function(){function y(S,w){void 0===w&&(w=1e3),this._renderCallback=S,this._debounceThresholdMS=w,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}return y.prototype.dispose=function(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)},y.prototype.refresh=function(S,w,C){var I=this;this._rowCount=C,S=void 0!==S?S:0,w=void 0!==w?w:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,S):S,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,w):w;var E=Date.now();if(E-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=E,this._innerRefresh();else if(!this._additionalRefreshRequested){var v=this._debounceThresholdMS-(E-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(function(){I._lastRefreshMs=Date.now(),I._innerRefresh(),I._additionalRefreshRequested=!1,I._refreshTimeoutID=void 0},v)}},y.prototype._innerRefresh=function(){if(void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount){var S=Math.max(this._rowStart,0),w=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(S,w)}},y}();_.TimeBasedDebouncer=A},1680:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Viewport=void 0;var I=A(844),E=A(3656),p=A(4725),v=A(2585),b=function(f){function c(a,l,h,g,D,M,O,R){var T=f.call(this)||this;return T._scrollLines=a,T._viewportElement=l,T._scrollArea=h,T._element=g,T._bufferService=D,T._optionsService=M,T._charSizeService=O,T._renderService=R,T.scrollBarWidth=0,T._currentRowHeight=0,T._currentScaledCellHeight=0,T._lastRecordedBufferLength=0,T._lastRecordedViewportHeight=0,T._lastRecordedBufferHeight=0,T._lastTouchY=0,T._lastScrollTop=0,T._lastHadScrollBar=!1,T._wheelPartialScroll=0,T._refreshAnimationFrame=null,T._ignoreNextScrollEvent=!1,T.scrollBarWidth=T._viewportElement.offsetWidth-T._scrollArea.offsetWidth||15,T._lastHadScrollBar=!0,T.register((0,E.addDisposableDomListener)(T._viewportElement,"scroll",T._onScroll.bind(T))),T._activeBuffer=T._bufferService.buffer,T.register(T._bufferService.buffers.onBufferActivate(function(L){return T._activeBuffer=L.activeBuffer})),T._renderDimensions=T._renderService.dimensions,T.register(T._renderService.onDimensionsChange(function(L){return T._renderDimensions=L})),setTimeout(function(){return T.syncScrollArea()},0),T}return S(c,f),c.prototype.onThemeChange=function(a){this._viewportElement.style.backgroundColor=a.background.css},c.prototype._refresh=function(a){var l=this;if(a)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return l._innerRefresh()}))},c.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._currentScaledCellHeight=this._renderService.dimensions.scaledCellHeight,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this.scrollBarWidth=0===this._optionsService.rawOptions.scrollback?0:this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this._lastHadScrollBar=this.scrollBarWidth>0;var h=window.getComputedStyle(this._element),g=parseInt(h.paddingLeft)+parseInt(h.paddingRight);this._viewportElement.style.width=(this._renderService.dimensions.actualCellWidth*this._bufferService.cols+this.scrollBarWidth+(this._lastHadScrollBar?g:0)).toString()+"px",this._refreshAnimationFrame=null},c.prototype.syncScrollArea=function(a){if(void 0===a&&(a=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.scaledCellHeight===this._currentScaledCellHeight?this._lastHadScrollBar!==this._optionsService.rawOptions.scrollback>0&&this._refresh(a):this._refresh(a)},c.prototype._onScroll=function(a){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);var l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(l)}},c.prototype._bubbleScroll=function(a,l){return!(l<0&&0!==this._viewportElement.scrollTop||l>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)},c.prototype.onWheel=function(a){var l=this._getPixelsScrolled(a);return 0!==l&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(a,l))},c.prototype._getPixelsScrolled=function(a){if(0===a.deltaY||a.shiftKey)return 0;var l=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l},c.prototype.getLinesScrolled=function(a){if(0===a.deltaY||a.shiftKey)return 0;var l=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(this._wheelPartialScroll+=l/=this._currentRowHeight+0,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l},c.prototype._applyScrollModifier=function(a,l){var h=this._optionsService.rawOptions.fastScrollModifier;return"alt"===h&&l.altKey||"ctrl"===h&&l.ctrlKey||"shift"===h&&l.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity},c.prototype.onTouchStart=function(a){this._lastTouchY=a.touches[0].pageY},c.prototype.onTouchMove=function(a){var l=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,0!==l&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(a,l))},w([C(4,v.IBufferService),C(5,v.IOptionsService),C(6,p.ICharSizeService),C(7,p.IRenderService)],c)}(I.Disposable);_.Viewport=b},2950:function(Q,_,A){var y=this&&this.__decorate||function(E,p,v,b){var f,c=arguments.length,a=c<3?p:null===b?b=Object.getOwnPropertyDescriptor(p,v):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(E,p,v,b);else for(var l=E.length-1;l>=0;l--)(f=E[l])&&(a=(c<3?f(a):c>3?f(p,v,a):f(p,v))||a);return c>3&&a&&Object.defineProperty(p,v,a),a},S=this&&this.__param||function(E,p){return function(v,b){p(v,b,E)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CompositionHelper=void 0;var w=A(4725),C=A(2585),I=function(){function E(p,v,b,f,c,a){this._textarea=p,this._compositionView=v,this._bufferService=b,this._optionsService=f,this._coreService=c,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}return Object.defineProperty(E.prototype,"isComposing",{get:function(){return this._isComposing},enumerable:!1,configurable:!0}),E.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")},E.prototype.compositionupdate=function(p){var v=this;this._compositionView.textContent=p.data,this.updateCompositionElements(),setTimeout(function(){v._compositionPosition.end=v._textarea.value.length},0)},E.prototype.compositionend=function(){this._finalizeComposition(!0)},E.prototype.keydown=function(p){if(this._isComposing||this._isSendingComposition){if(229===p.keyCode||16===p.keyCode||17===p.keyCode||18===p.keyCode)return!1;this._finalizeComposition(!1)}return 229!==p.keyCode||(this._handleAnyTextareaChanges(),!1)},E.prototype._finalizeComposition=function(p){var v=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,p){var b={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){var c;v._isSendingComposition&&(v._isSendingComposition=!1,b.start+=v._dataAlreadySent.length,(c=v._isComposing?v._textarea.value.substring(b.start,b.end):v._textarea.value.substring(b.start)).length>0&&v._coreService.triggerDataEvent(c,!0))},0)}else{this._isSendingComposition=!1;var f=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(f,!0)}},E.prototype._handleAnyTextareaChanges=function(){var p=this,v=this._textarea.value;setTimeout(function(){if(!p._isComposing){var b=p._textarea.value.replace(v,"");b.length>0&&(p._dataAlreadySent=b,p._coreService.triggerDataEvent(b,!0))}},0)},E.prototype.updateCompositionElements=function(p){var v=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var b=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.actualCellHeight,c=this._bufferService.buffer.y*this._renderService.dimensions.actualCellHeight,a=b*this._renderService.dimensions.actualCellWidth;this._compositionView.style.left=a+"px",this._compositionView.style.top=c+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var l=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=c+"px",this._textarea.style.width=Math.max(l.width,1)+"px",this._textarea.style.height=Math.max(l.height,1)+"px",this._textarea.style.lineHeight=l.height+"px"}p||setTimeout(function(){return v.updateCompositionElements(!0)},0)}},y([S(2,C.IBufferService),S(3,C.IOptionsService),S(4,C.ICoreService),S(5,w.IRenderService)],E)}();_.CompositionHelper=I},9806:(Q,_)=>{function A(y,S){var w=S.getBoundingClientRect();return[y.clientX-w.left,y.clientY-w.top]}Object.defineProperty(_,"__esModule",{value:!0}),_.getRawByteCoords=_.getCoords=_.getCoordsRelativeToElement=void 0,_.getCoordsRelativeToElement=A,_.getCoords=function(y,S,w,C,I,E,p,v){if(I){var b=A(y,S);if(b)return b[0]=Math.ceil((b[0]+(v?E/2:0))/E),b[1]=Math.ceil(b[1]/p),b[0]=Math.min(Math.max(b[0],1),w+(v?1:0)),b[1]=Math.min(Math.max(b[1],1),C),b}},_.getRawByteCoords=function(y){if(y)return{x:y[0]+32,y:y[1]+32}}},9504:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.moveToCellSequence=void 0;var y=A(2584);function S(v,b,f,c){var a=v-w(f,v),l=b-w(f,b);return p(Math.abs(a-l)-function(g,D,M){for(var O=0,R=g-w(M,g),T=D-w(M,D),L=0;L<Math.abs(R-T);L++){var N="A"===C(g,D)?-1:1,F=M.buffer.lines.get(R+N*L);(null==F?void 0:F.isWrapped)&&O++}return O}(v,b,f),E(C(v,b),c))}function w(v,b){for(var f=0,c=v.buffer.lines.get(b),a=null==c?void 0:c.isWrapped;a&&b>=0&&b<v.rows;)f++,a=null==(c=v.buffer.lines.get(--b))?void 0:c.isWrapped;return f}function C(v,b){return v>b?"A":"B"}function I(v,b,f,c,a,l){for(var h=v,g=b,D="";h!==f||g!==c;)h+=a?1:-1,a&&h>l.cols-1?(D+=l.buffer.translateBufferLineToString(g,!1,v,h),h=0,v=0,g++):!a&&h<0&&(D+=l.buffer.translateBufferLineToString(g,!1,0,v+1),v=h=l.cols-1,g--);return D+l.buffer.translateBufferLineToString(g,!1,v,h)}function E(v,b){return y.C0.ESC+(b?"O":"[")+v}function p(v,b){v=Math.floor(v);for(var f="",c=0;c<v;c++)f+=b;return f}_.moveToCellSequence=function(v,b,f,c){var a,D,M,T,L,l=f.buffer.x,h=f.buffer.y;if(!f.buffer.hasScrollback)return D=l,(0===S(M=h,b,T=f,L=c).length?"":p(I(D,M,D,M-w(T,M),!1,T).length,E("D",L)))+S(h,b,f,c)+function(D,M,O,R,T,L){var N;N=S(M,R,T,L).length>0?R-w(T,R):M;var U,k,H,$,K,ie,F=R,G=(U=D,k=M,ie=S(H=O,$=R,K=T,L).length>0?$-w(K,$):k,U<H&&ie<=$||U>=H&&ie<$?"C":"D");return p(I(D,N,O,F,"C"===G,T).length,E(G,L))}(l,h,v,b,f,c);if(h===b)return a=l>v?"D":"C",p(Math.abs(l-v),E(a,c));a=h>b?"D":"C";var g=Math.abs(h-b);return p(function(D,M){return M.cols-D}(h>b?v:l,f)+(g-1)*f.cols+1+((h>b?l:v)-1),E(a,c))}},4389:function(Q,_,A){var y=this&&this.__assign||function(){return y=Object.assign||function(f){for(var c,a=1,l=arguments.length;a<l;a++)for(var h in c=arguments[a])Object.prototype.hasOwnProperty.call(c,h)&&(f[h]=c[h]);return f},y.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Terminal=void 0;var S=A(3236),w=A(9042),C=A(7975),I=A(7090),E=A(5741),p=A(8285),v=["cols","rows"],b=function(){function f(c){var a=this;this._core=new S.Terminal(c),this._addonManager=new E.AddonManager,this._publicOptions=y({},this._core.options);var l=function(M){return a._core.options[M]},h=function(M,O){a._checkReadonlyOptions(M),a._core.options[M]=O};for(var g in this._core.options){var D={get:l.bind(this,g),set:h.bind(this,g)};Object.defineProperty(this._publicOptions,g,D)}}return f.prototype._checkReadonlyOptions=function(c){if(v.includes(c))throw new Error('Option "'+c+'" can only be set in the constructor')},f.prototype._checkProposedApi=function(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")},Object.defineProperty(f.prototype,"onBell",{get:function(){return this._core.onBell},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onData",{get:function(){return this._core.onData},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"element",{get:function(){return this._core.element},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parser",{get:function(){return this._checkProposedApi(),this._parser||(this._parser=new C.ParserApi(this._core)),this._parser},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"unicode",{get:function(){return this._checkProposedApi(),new I.UnicodeApi(this._core)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rows",{get:function(){return this._core.rows},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cols",{get:function(){return this._core.cols},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"buffer",{get:function(){return this._checkProposedApi(),this._buffer||(this._buffer=new p.BufferNamespaceApi(this._core)),this._buffer},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"markers",{get:function(){return this._checkProposedApi(),this._core.markers},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"modes",{get:function(){var c=this._core.coreService.decPrivateModes,a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:c.applicationCursorKeys,applicationKeypadMode:c.applicationKeypad,bracketedPasteMode:c.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:c.origin,reverseWraparoundMode:c.reverseWraparound,sendFocusMode:c.sendFocus,wraparoundMode:c.wraparound}},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"options",{get:function(){return this._publicOptions},set:function(c){for(var a in c)this._publicOptions[a]=c[a]},enumerable:!1,configurable:!0}),f.prototype.blur=function(){this._core.blur()},f.prototype.focus=function(){this._core.focus()},f.prototype.resize=function(c,a){this._verifyIntegers(c,a),this._core.resize(c,a)},f.prototype.open=function(c){this._core.open(c)},f.prototype.attachCustomKeyEventHandler=function(c){this._core.attachCustomKeyEventHandler(c)},f.prototype.registerLinkMatcher=function(c,a,l){return this._checkProposedApi(),this._core.registerLinkMatcher(c,a,l)},f.prototype.deregisterLinkMatcher=function(c){this._checkProposedApi(),this._core.deregisterLinkMatcher(c)},f.prototype.registerLinkProvider=function(c){return this._checkProposedApi(),this._core.registerLinkProvider(c)},f.prototype.registerCharacterJoiner=function(c){return this._checkProposedApi(),this._core.registerCharacterJoiner(c)},f.prototype.deregisterCharacterJoiner=function(c){this._checkProposedApi(),this._core.deregisterCharacterJoiner(c)},f.prototype.registerMarker=function(c){return void 0===c&&(c=0),this._checkProposedApi(),this._verifyIntegers(c),this._core.addMarker(c)},f.prototype.registerDecoration=function(c){var a,l,h;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(a=c.x)&&void 0!==a?a:0,null!==(l=c.width)&&void 0!==l?l:0,null!==(h=c.height)&&void 0!==h?h:0),this._core.registerDecoration(c)},f.prototype.addMarker=function(c){return this.registerMarker(c)},f.prototype.hasSelection=function(){return this._core.hasSelection()},f.prototype.select=function(c,a,l){this._verifyIntegers(c,a,l),this._core.select(c,a,l)},f.prototype.getSelection=function(){return this._core.getSelection()},f.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},f.prototype.clearSelection=function(){this._core.clearSelection()},f.prototype.selectAll=function(){this._core.selectAll()},f.prototype.selectLines=function(c,a){this._verifyIntegers(c,a),this._core.selectLines(c,a)},f.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},f.prototype.scrollLines=function(c){this._verifyIntegers(c),this._core.scrollLines(c)},f.prototype.scrollPages=function(c){this._verifyIntegers(c),this._core.scrollPages(c)},f.prototype.scrollToTop=function(){this._core.scrollToTop()},f.prototype.scrollToBottom=function(){this._core.scrollToBottom()},f.prototype.scrollToLine=function(c){this._verifyIntegers(c),this._core.scrollToLine(c)},f.prototype.clear=function(){this._core.clear()},f.prototype.write=function(c,a){this._core.write(c,a)},f.prototype.writeUtf8=function(c,a){this._core.write(c,a)},f.prototype.writeln=function(c,a){this._core.write(c),this._core.write("\r\n",a)},f.prototype.paste=function(c){this._core.paste(c)},f.prototype.getOption=function(c){return this._core.optionsService.getOption(c)},f.prototype.setOption=function(c,a){this._checkReadonlyOptions(c),this._core.optionsService.setOption(c,a)},f.prototype.refresh=function(c,a){this._verifyIntegers(c,a),this._core.refresh(c,a)},f.prototype.reset=function(){this._core.reset()},f.prototype.clearTextureAtlas=function(){this._core.clearTextureAtlas()},f.prototype.loadAddon=function(c){return this._addonManager.loadAddon(this,c)},Object.defineProperty(f,"strings",{get:function(){return w},enumerable:!1,configurable:!0}),f.prototype._verifyIntegers=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var l=0,h=c;l<h.length;l++){var g=h[l];if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}},f.prototype._verifyPositiveIntegers=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var l=0,h=c;l<h.length;l++){var g=h[l];if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}},f}();_.Terminal=b},1546:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseRenderLayer=void 0;var y=A(643),S=A(8803),w=A(1420),C=A(3734),I=A(1752),E=A(4774),p=A(9631),v=A(8978),b=function(){function f(c,a,l,h,g,D,M,O){this._container=c,this._alpha=h,this._colors=g,this._rendererId=D,this._bufferService=M,this._optionsService=O,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+a+"-layer"),this._canvas.style.zIndex=l.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return f.prototype.dispose=function(){var c;(0,p.removeElementFromParent)(this._canvas),null===(c=this._charAtlas)||void 0===c||c.dispose()},f.prototype._initCanvas=function(){this._ctx=(0,I.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},f.prototype.onOptionsChanged=function(){},f.prototype.onBlur=function(){},f.prototype.onFocus=function(){},f.prototype.onCursorMove=function(){},f.prototype.onGridChanged=function(c,a){},f.prototype.onSelectionChanged=function(c,a,l){void 0===l&&(l=!1)},f.prototype.setColors=function(c){this._refreshCharAtlas(c)},f.prototype._setTransparency=function(c){if(c!==this._alpha){var a=this._canvas;this._alpha=c,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,a),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},f.prototype._refreshCharAtlas=function(c){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,w.acquireCharAtlas)(this._optionsService.rawOptions,this._rendererId,c,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},f.prototype.resize=function(c){this._scaledCellWidth=c.scaledCellWidth,this._scaledCellHeight=c.scaledCellHeight,this._scaledCharWidth=c.scaledCharWidth,this._scaledCharHeight=c.scaledCharHeight,this._scaledCharLeft=c.scaledCharLeft,this._scaledCharTop=c.scaledCharTop,this._canvas.width=c.scaledCanvasWidth,this._canvas.height=c.scaledCanvasHeight,this._canvas.style.width=c.canvasWidth+"px",this._canvas.style.height=c.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},f.prototype.clearTextureAtlas=function(){var c;null===(c=this._charAtlas)||void 0===c||c.clear()},f.prototype._fillCells=function(c,a,l,h){this._ctx.fillRect(c*this._scaledCellWidth,a*this._scaledCellHeight,l*this._scaledCellWidth,h*this._scaledCellHeight)},f.prototype._fillMiddleLineAtCells=function(c,a,l){void 0===l&&(l=1);var h=Math.ceil(.5*this._scaledCellHeight);this._ctx.fillRect(c*this._scaledCellWidth,(a+1)*this._scaledCellHeight-h-window.devicePixelRatio,l*this._scaledCellWidth,window.devicePixelRatio)},f.prototype._fillBottomLineAtCells=function(c,a,l){void 0===l&&(l=1),this._ctx.fillRect(c*this._scaledCellWidth,(a+1)*this._scaledCellHeight-window.devicePixelRatio-1,l*this._scaledCellWidth,window.devicePixelRatio)},f.prototype._fillLeftLineAtCell=function(c,a,l){this._ctx.fillRect(c*this._scaledCellWidth,a*this._scaledCellHeight,window.devicePixelRatio*l,this._scaledCellHeight)},f.prototype._strokeRectAtCell=function(c,a,l,h){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(c*this._scaledCellWidth+window.devicePixelRatio/2,a*this._scaledCellHeight+window.devicePixelRatio/2,l*this._scaledCellWidth-window.devicePixelRatio,h*this._scaledCellHeight-window.devicePixelRatio)},f.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},f.prototype._clearCells=function(c,a,l,h){this._alpha?this._ctx.clearRect(c*this._scaledCellWidth,a*this._scaledCellHeight,l*this._scaledCellWidth,h*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(c*this._scaledCellWidth,a*this._scaledCellHeight,l*this._scaledCellWidth,h*this._scaledCellHeight))},f.prototype._fillCharTrueColor=function(c,a,l){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=S.TEXT_BASELINE,this._clipRow(l);var h=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(h=(0,v.tryDrawCustomChar)(this._ctx,c.getChars(),a*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),h||this._ctx.fillText(c.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},f.prototype._drawChars=function(c,a,l){var h,g,D,M=this._getContrastColor(c);M||c.isFgRGB()||c.isBgRGB()?this._drawUncachedChars(c,a,l,M):(c.isInverse()?(g=c.isBgDefault()?S.INVERTED_DEFAULT_COLOR:c.getBgColor(),D=c.isFgDefault()?S.INVERTED_DEFAULT_COLOR:c.getFgColor()):(D=c.isBgDefault()?y.DEFAULT_COLOR:c.getBgColor(),g=c.isFgDefault()?y.DEFAULT_COLOR:c.getFgColor()),g+=this._optionsService.rawOptions.drawBoldTextInBrightColors&&c.isBold()&&g<8?8:0,this._currentGlyphIdentifier.chars=c.getChars()||y.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=c.getCode()||y.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=D,this._currentGlyphIdentifier.fg=g,this._currentGlyphIdentifier.bold=!!c.isBold(),this._currentGlyphIdentifier.dim=!!c.isDim(),this._currentGlyphIdentifier.italic=!!c.isItalic(),(null===(h=this._charAtlas)||void 0===h?void 0:h.draw(this._ctx,this._currentGlyphIdentifier,a*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop))||this._drawUncachedChars(c,a,l))},f.prototype._drawUncachedChars=function(c,a,l,h){if(this._ctx.save(),this._ctx.font=this._getFont(!!c.isBold(),!!c.isItalic()),this._ctx.textBaseline=S.TEXT_BASELINE,c.isInverse())if(h)this._ctx.fillStyle=h.css;else if(c.isBgDefault())this._ctx.fillStyle=E.color.opaque(this._colors.background).css;else if(c.isBgRGB())this._ctx.fillStyle="rgb("+C.AttributeData.toColorRGB(c.getBgColor()).join(",")+")";else{var g=c.getBgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&c.isBold()&&g<8&&(g+=8),this._ctx.fillStyle=this._colors.ansi[g].css}else if(h)this._ctx.fillStyle=h.css;else if(c.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(c.isFgRGB())this._ctx.fillStyle="rgb("+C.AttributeData.toColorRGB(c.getFgColor()).join(",")+")";else{var D=c.getFgColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&c.isBold()&&D<8&&(D+=8),this._ctx.fillStyle=this._colors.ansi[D].css}this._clipRow(l),c.isDim()&&(this._ctx.globalAlpha=S.DIM_OPACITY);var M=!1;!1!==this._optionsService.rawOptions.customGlyphs&&(M=(0,v.tryDrawCustomChar)(this._ctx,c.getChars(),a*this._scaledCellWidth,l*this._scaledCellHeight,this._scaledCellWidth,this._scaledCellHeight)),M||this._ctx.fillText(c.getChars(),a*this._scaledCellWidth+this._scaledCharLeft,l*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight),this._ctx.restore()},f.prototype._clipRow=function(c){this._ctx.beginPath(),this._ctx.rect(0,c*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},f.prototype._getFont=function(c,a){return(a?"italic":"")+" "+(c?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight)+" "+this._optionsService.rawOptions.fontSize*window.devicePixelRatio+"px "+this._optionsService.rawOptions.fontFamily},f.prototype._getContrastColor=function(c){if(1!==this._optionsService.rawOptions.minimumContrastRatio){var a=this._colors.contrastCache.getColor(c.bg,c.fg);if(void 0!==a)return a||void 0;var l=c.getFgColor(),h=c.getFgColorMode(),g=c.getBgColor(),D=c.getBgColorMode(),M=!!c.isInverse(),O=!!c.isInverse();if(M){var R=l;l=g,g=R;var T=h;h=D,D=T}var L=this._resolveBackgroundRgba(D,g,M),N=this._resolveForegroundRgba(h,l,M,O),F=E.rgba.ensureContrastRatio(L,N,this._optionsService.rawOptions.minimumContrastRatio);if(F){var G={css:E.channels.toCss(F>>24&255,F>>16&255,F>>8&255),rgba:F};return this._colors.contrastCache.setColor(c.bg,c.fg,G),G}this._colors.contrastCache.setColor(c.bg,c.fg,null)}},f.prototype._resolveBackgroundRgba=function(c,a,l){switch(c){case 16777216:case 33554432:return this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return l?this._colors.foreground.rgba:this._colors.background.rgba}},f.prototype._resolveForegroundRgba=function(c,a,l,h){switch(c){case 16777216:case 33554432:return this._optionsService.rawOptions.drawBoldTextInBrightColors&&h&&a<8&&(a+=8),this._colors.ansi[a].rgba;case 50331648:return a<<8;default:return l?this._colors.background.rgba:this._colors.foreground.rgba}},f}();_.BaseRenderLayer=b},2512:function(Q,_,A){var y,S=this&&this.__extends||(y=function(a,l){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var D in g)Object.prototype.hasOwnProperty.call(g,D)&&(h[D]=g[D])})(a,l)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=a}y(a,l),a.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}),w=this&&this.__decorate||function(a,l,h,g){var D,M=arguments.length,O=M<3?l:null===g?g=Object.getOwnPropertyDescriptor(l,h):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(a,l,h,g);else for(var R=a.length-1;R>=0;R--)(D=a[R])&&(O=(M<3?D(O):M>3?D(l,h,O):D(l,h))||O);return M>3&&O&&Object.defineProperty(l,h,O),O},C=this&&this.__param||function(a,l){return function(h,g){l(h,g,a)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CursorRenderLayer=void 0;var I=A(1546),E=A(511),p=A(2585),v=A(4725),b=600,f=function(a){function l(h,g,D,M,O,R,T,L,N){var F=a.call(this,h,"cursor",g,!0,D,M,R,T)||this;return F._onRequestRedraw=O,F._coreService=L,F._coreBrowserService=N,F._cell=new E.CellData,F._state={x:0,y:0,isFocused:!1,style:"",width:0},F._cursorRenderers={bar:F._renderBarCursor.bind(F),block:F._renderBlockCursor.bind(F),underline:F._renderUnderlineCursor.bind(F)},F}return S(l,a),l.prototype.dispose=function(){this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0),a.prototype.dispose.call(this)},l.prototype.resize=function(h){a.prototype.resize.call(this,h),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},l.prototype.reset=function(){var h;this._clearCursor(),null===(h=this._cursorBlinkStateManager)||void 0===h||h.restartBlinkAnimation(),this.onOptionsChanged()},l.prototype.onBlur=function(){var h;null===(h=this._cursorBlinkStateManager)||void 0===h||h.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onFocus=function(){var h;null===(h=this._cursorBlinkStateManager)||void 0===h||h.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onOptionsChanged=function(){var h,g=this;this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new c(this._coreBrowserService.isFocused,function(){g._render(!0)})):(null===(h=this._cursorBlinkStateManager)||void 0===h||h.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},l.prototype.onCursorMove=function(){var h;null===(h=this._cursorBlinkStateManager)||void 0===h||h.restartBlinkAnimation()},l.prototype.onGridChanged=function(h,g){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},l.prototype._render=function(h){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var g=this._bufferService.buffer.ybase+this._bufferService.buffer.y,D=g-this._bufferService.buffer.ydisp;if(D<0||D>=this._bufferService.rows)this._clearCursor();else{var M=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(g).loadCell(M,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var O=this._optionsService.rawOptions.cursorStyle;return O&&"block"!==O?this._cursorRenderers[O](M,D,this._cell):this._renderBlurCursor(M,D,this._cell),this._ctx.restore(),this._state.x=M,this._state.y=D,this._state.isFocused=!1,this._state.style=O,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===M&&this._state.y===D&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](M,D,this._cell),this._ctx.restore(),this._state.x=M,this._state.y=D,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},l.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},l.prototype._renderBarCursor=function(h,g,D){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(h,g,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()},l.prototype._renderBlockCursor=function(h,g,D){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(h,g,D.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(D,h,g),this._ctx.restore()},l.prototype._renderUnderlineCursor=function(h,g,D){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(h,g),this._ctx.restore()},l.prototype._renderBlurCursor=function(h,g,D){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(h,g,D.getWidth(),1),this._ctx.restore()},w([C(5,p.IBufferService),C(6,p.IOptionsService),C(7,p.ICoreService),C(8,v.ICoreBrowserService)],l)}(I.BaseRenderLayer);_.CursorRenderLayer=f;var c=function(){function a(l,h){this._renderCallback=h,this.isCursorVisible=!0,l&&this._restartInterval()}return Object.defineProperty(a.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),a.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.restartBlinkAnimation=function(){var l=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){l._renderCallback(),l._animationFrame=void 0})))},a.prototype._restartInterval=function(l){var h=this;void 0===l&&(l=b),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout(function(){if(h._animationTimeRestarted){var g=b-(Date.now()-h._animationTimeRestarted);if(h._animationTimeRestarted=void 0,g>0)return void h._restartInterval(g)}h.isCursorVisible=!1,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0}),h._blinkInterval=window.setInterval(function(){if(h._animationTimeRestarted){var D=b-(Date.now()-h._animationTimeRestarted);return h._animationTimeRestarted=void 0,void h._restartInterval(D)}h.isCursorVisible=!h.isCursorVisible,h._animationFrame=window.requestAnimationFrame(function(){h._renderCallback(),h._animationFrame=void 0})},b)},l)},a.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},a.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},a}()},8978:(Q,_,A)=>{var y,S,w,C,I,E,p,v,b,f,c,a,l,h,g,D,M,O,R,T,L,N,F,G,U,k,H,$,K,te,ie,Ce,he,Pe,B,ee,z,q,V,de,le,ge,ze,qe,zt,fe,ht,kt,Wt,pr,Jr,ks,ei,wo,Ps,Fs,Bs,nn,Do,Ns,Eo,Hs,ti,Mo,xo,To,Ao,Lo,Yn,_r,gr,vr,mr,ni,yr,Cr,br,Sr,Pt,ri,ii,oi,si,wr,ai,ci,Ft,li,Nn,ui,Zn,Io,fi,di,Qn,Ro,hi,pi,Dr,Er,_i,gi,vi,mi,Mr,yi,Ci,xr,qt,Tr,bn,Xn,ke,Ar,Oe,Lr,Oo,Ir,be,bi,js,Ie,Rr,me,Qe,ko,Vs,Us;Object.defineProperty(_,"__esModule",{value:!0}),_.tryDrawCustomChar=_.boxDrawingDefinitions=_.blockElementDefinitions=void 0;var Or=A(1752);_.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u{1fb70}":[{x:1,y:0,w:1,h:8}],"\u{1fb71}":[{x:2,y:0,w:1,h:8}],"\u{1fb72}":[{x:3,y:0,w:1,h:8}],"\u{1fb73}":[{x:4,y:0,w:1,h:8}],"\u{1fb74}":[{x:5,y:0,w:1,h:8}],"\u{1fb75}":[{x:6,y:0,w:1,h:8}],"\u{1fb76}":[{x:0,y:1,w:8,h:1}],"\u{1fb77}":[{x:0,y:2,w:8,h:1}],"\u{1fb78}":[{x:0,y:3,w:8,h:1}],"\u{1fb79}":[{x:0,y:4,w:8,h:1}],"\u{1fb7a}":[{x:0,y:5,w:8,h:1}],"\u{1fb7b}":[{x:0,y:6,w:8,h:1}],"\u{1fb7c}":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb7d}":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7e}":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\u{1fb7f}":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\u{1fb80}":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb81}":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\u{1fb82}":[{x:0,y:0,w:8,h:2}],"\u{1fb83}":[{x:0,y:0,w:8,h:3}],"\u{1fb84}":[{x:0,y:0,w:8,h:5}],"\u{1fb85}":[{x:0,y:0,w:8,h:6}],"\u{1fb86}":[{x:0,y:0,w:8,h:7}],"\u{1fb87}":[{x:6,y:0,w:2,h:8}],"\u{1fb88}":[{x:5,y:0,w:3,h:8}],"\u{1fb89}":[{x:3,y:0,w:5,h:8}],"\u{1fb8a}":[{x:2,y:0,w:6,h:8}],"\u{1fb8b}":[{x:1,y:0,w:7,h:8}],"\u{1fb95}":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\u{1fb96}":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\u{1fb97}":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var bt={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};_.boxDrawingDefinitions={"\u2500":(y={},y[1]="M0,.5 L1,.5",y),"\u2501":(S={},S[3]="M0,.5 L1,.5",S),"\u2502":(w={},w[1]="M.5,0 L.5,1",w),"\u2503":(C={},C[3]="M.5,0 L.5,1",C),"\u250c":(I={},I[1]="M0.5,1 L.5,.5 L1,.5",I),"\u250f":(E={},E[3]="M0.5,1 L.5,.5 L1,.5",E),"\u2510":(p={},p[1]="M0,.5 L.5,.5 L.5,1",p),"\u2513":(v={},v[3]="M0,.5 L.5,.5 L.5,1",v),"\u2514":(b={},b[1]="M.5,0 L.5,.5 L1,.5",b),"\u2517":(f={},f[3]="M.5,0 L.5,.5 L1,.5",f),"\u2518":(c={},c[1]="M.5,0 L.5,.5 L0,.5",c),"\u251b":(a={},a[3]="M.5,0 L.5,.5 L0,.5",a),"\u251c":(l={},l[1]="M.5,0 L.5,1 M.5,.5 L1,.5",l),"\u2523":(h={},h[3]="M.5,0 L.5,1 M.5,.5 L1,.5",h),"\u2524":(g={},g[1]="M.5,0 L.5,1 M.5,.5 L0,.5",g),"\u252b":(D={},D[3]="M.5,0 L.5,1 M.5,.5 L0,.5",D),"\u252c":(M={},M[1]="M0,.5 L1,.5 M.5,.5 L.5,1",M),"\u2533":(O={},O[3]="M0,.5 L1,.5 M.5,.5 L.5,1",O),"\u2534":(R={},R[1]="M0,.5 L1,.5 M.5,.5 L.5,0",R),"\u253b":(T={},T[3]="M0,.5 L1,.5 M.5,.5 L.5,0",T),"\u253c":(L={},L[1]="M0,.5 L1,.5 M.5,0 L.5,1",L),"\u254b":(N={},N[3]="M0,.5 L1,.5 M.5,0 L.5,1",N),"\u2574":(F={},F[1]="M.5,.5 L0,.5",F),"\u2578":(G={},G[3]="M.5,.5 L0,.5",G),"\u2575":(U={},U[1]="M.5,.5 L.5,0",U),"\u2579":(k={},k[3]="M.5,.5 L.5,0",k),"\u2576":(H={},H[1]="M.5,.5 L1,.5",H),"\u257a":($={},$[3]="M.5,.5 L1,.5",$),"\u2577":(K={},K[1]="M.5,.5 L.5,1",K),"\u257b":(te={},te[3]="M.5,.5 L.5,1",te),"\u2550":(ie={},ie[1]=function(X,Z){return"M0,"+(.5-Z)+" L1,"+(.5-Z)+" M0,"+(.5+Z)+" L1,"+(.5+Z)},ie),"\u2551":(Ce={},Ce[1]=function(X,Z){return"M"+(.5-X)+",0 L"+(.5-X)+",1 M"+(.5+X)+",0 L"+(.5+X)+",1"},Ce),"\u2552":(he={},he[1]=function(X,Z){return"M.5,1 L.5,"+(.5-Z)+" L1,"+(.5-Z)+" M.5,"+(.5+Z)+" L1,"+(.5+Z)},he),"\u2553":(Pe={},Pe[1]=function(X,Z){return"M"+(.5-X)+",1 L"+(.5-X)+",.5 L1,.5 M"+(.5+X)+",.5 L"+(.5+X)+",1"},Pe),"\u2554":(B={},B[1]=function(X,Z){return"M1,"+(.5-Z)+" L"+(.5-X)+","+(.5-Z)+" L"+(.5-X)+",1 M1,"+(.5+Z)+" L"+(.5+X)+","+(.5+Z)+" L"+(.5+X)+",1"},B),"\u2555":(ee={},ee[1]=function(X,Z){return"M0,"+(.5-Z)+" L.5,"+(.5-Z)+" L.5,1 M0,"+(.5+Z)+" L.5,"+(.5+Z)},ee),"\u2556":(z={},z[1]=function(X,Z){return"M"+(.5+X)+",1 L"+(.5+X)+",.5 L0,.5 M"+(.5-X)+",.5 L"+(.5-X)+",1"},z),"\u2557":(q={},q[1]=function(X,Z){return"M0,"+(.5+Z)+" L"+(.5-X)+","+(.5+Z)+" L"+(.5-X)+",1 M0,"+(.5-Z)+" L"+(.5+X)+","+(.5-Z)+" L"+(.5+X)+",1"},q),"\u2558":(V={},V[1]=function(X,Z){return"M.5,0 L.5,"+(.5+Z)+" L1,"+(.5+Z)+" M.5,"+(.5-Z)+" L1,"+(.5-Z)},V),"\u2559":(de={},de[1]=function(X,Z){return"M1,.5 L"+(.5-X)+",.5 L"+(.5-X)+",0 M"+(.5+X)+",.5 L"+(.5+X)+",0"},de),"\u255a":(le={},le[1]=function(X,Z){return"M1,"+(.5-Z)+" L"+(.5+X)+","+(.5-Z)+" L"+(.5+X)+",0 M1,"+(.5+Z)+" L"+(.5-X)+","+(.5+Z)+" L"+(.5-X)+",0"},le),"\u255b":(ge={},ge[1]=function(X,Z){return"M0,"+(.5+Z)+" L.5,"+(.5+Z)+" L.5,0 M0,"+(.5-Z)+" L.5,"+(.5-Z)},ge),"\u255c":(ze={},ze[1]=function(X,Z){return"M0,.5 L"+(.5+X)+",.5 L"+(.5+X)+",0 M"+(.5-X)+",.5 L"+(.5-X)+",0"},ze),"\u255d":(qe={},qe[1]=function(X,Z){return"M0,"+(.5-Z)+" L"+(.5-X)+","+(.5-Z)+" L"+(.5-X)+",0 M0,"+(.5+Z)+" L"+(.5+X)+","+(.5+Z)+" L"+(.5+X)+",0"},qe),"\u255e":(zt={},zt[1]=function(X,Z){return"M.5,0 L.5,1 M.5,"+(.5-Z)+" L1,"+(.5-Z)+" M.5,"+(.5+Z)+" L1,"+(.5+Z)},zt),"\u255f":(fe={},fe[1]=function(X,Z){return"M"+(.5-X)+",0 L"+(.5-X)+",1 M"+(.5+X)+",0 L"+(.5+X)+",1 M"+(.5+X)+",.5 L1,.5"},fe),"\u2560":(ht={},ht[1]=function(X,Z){return"M"+(.5-X)+",0 L"+(.5-X)+",1 M1,"+(.5+Z)+" L"+(.5+X)+","+(.5+Z)+" L"+(.5+X)+",1 M1,"+(.5-Z)+" L"+(.5+X)+","+(.5-Z)+" L"+(.5+X)+",0"},ht),"\u2561":(kt={},kt[1]=function(X,Z){return"M.5,0 L.5,1 M0,"+(.5-Z)+" L.5,"+(.5-Z)+" M0,"+(.5+Z)+" L.5,"+(.5+Z)},kt),"\u2562":(Wt={},Wt[1]=function(X,Z){return"M0,.5 L"+(.5-X)+",.5 M"+(.5-X)+",0 L"+(.5-X)+",1 M"+(.5+X)+",0 L"+(.5+X)+",1"},Wt),"\u2563":(pr={},pr[1]=function(X,Z){return"M"+(.5+X)+",0 L"+(.5+X)+",1 M0,"+(.5+Z)+" L"+(.5-X)+","+(.5+Z)+" L"+(.5-X)+",1 M0,"+(.5-Z)+" L"+(.5-X)+","+(.5-Z)+" L"+(.5-X)+",0"},pr),"\u2564":(Jr={},Jr[1]=function(X,Z){return"M0,"+(.5-Z)+" L1,"+(.5-Z)+" M0,"+(.5+Z)+" L1,"+(.5+Z)+" M.5,"+(.5+Z)+" L.5,1"},Jr),"\u2565":(ks={},ks[1]=function(X,Z){return"M0,.5 L1,.5 M"+(.5-X)+",.5 L"+(.5-X)+",1 M"+(.5+X)+",.5 L"+(.5+X)+",1"},ks),"\u2566":(ei={},ei[1]=function(X,Z){return"M0,"+(.5-Z)+" L1,"+(.5-Z)+" M0,"+(.5+Z)+" L"+(.5-X)+","+(.5+Z)+" L"+(.5-X)+",1 M1,"+(.5+Z)+" L"+(.5+X)+","+(.5+Z)+" L"+(.5+X)+",1"},ei),"\u2567":(wo={},wo[1]=function(X,Z){return"M.5,0 L.5,"+(.5-Z)+" M0,"+(.5-Z)+" L1,"+(.5-Z)+" M0,"+(.5+Z)+" L1,"+(.5+Z)},wo),"\u2568":(Ps={},Ps[1]=function(X,Z){return"M0,.5 L1,.5 M"+(.5-X)+",.5 L"+(.5-X)+",0 M"+(.5+X)+",.5 L"+(.5+X)+",0"},Ps),"\u2569":(Fs={},Fs[1]=function(X,Z){return"M0,"+(.5+Z)+" L1,"+(.5+Z)+" M0,"+(.5-Z)+" L"+(.5-X)+","+(.5-Z)+" L"+(.5-X)+",0 M1,"+(.5-Z)+" L"+(.5+X)+","+(.5-Z)+" L"+(.5+X)+",0"},Fs),"\u256a":(Bs={},Bs[1]=function(X,Z){return"M.5,0 L.5,1 M0,"+(.5-Z)+" L1,"+(.5-Z)+" M0,"+(.5+Z)+" L1,"+(.5+Z)},Bs),"\u256b":(nn={},nn[1]=function(X,Z){return"M0,.5 L1,.5 M"+(.5-X)+",0 L"+(.5-X)+",1 M"+(.5+X)+",0 L"+(.5+X)+",1"},nn),"\u256c":(Do={},Do[1]=function(X,Z){return"M0,"+(.5+Z)+" L"+(.5-X)+","+(.5+Z)+" L"+(.5-X)+",1 M1,"+(.5+Z)+" L"+(.5+X)+","+(.5+Z)+" L"+(.5+X)+",1 M0,"+(.5-Z)+" L"+(.5-X)+","+(.5-Z)+" L"+(.5-X)+",0 M1,"+(.5-Z)+" L"+(.5+X)+","+(.5-Z)+" L"+(.5+X)+",0"},Do),"\u2571":(Ns={},Ns[1]="M1,0 L0,1",Ns),"\u2572":(Eo={},Eo[1]="M0,0 L1,1",Eo),"\u2573":(Hs={},Hs[1]="M1,0 L0,1 M0,0 L1,1",Hs),"\u257c":(ti={},ti[1]="M.5,.5 L0,.5",ti[3]="M.5,.5 L1,.5",ti),"\u257d":(Mo={},Mo[1]="M.5,.5 L.5,0",Mo[3]="M.5,.5 L.5,1",Mo),"\u257e":(xo={},xo[1]="M.5,.5 L1,.5",xo[3]="M.5,.5 L0,.5",xo),"\u257f":(To={},To[1]="M.5,.5 L.5,1",To[3]="M.5,.5 L.5,0",To),"\u250d":(Ao={},Ao[1]="M.5,.5 L.5,1",Ao[3]="M.5,.5 L1,.5",Ao),"\u250e":(Lo={},Lo[1]="M.5,.5 L1,.5",Lo[3]="M.5,.5 L.5,1",Lo),"\u2511":(Yn={},Yn[1]="M.5,.5 L.5,1",Yn[3]="M.5,.5 L0,.5",Yn),"\u2512":(_r={},_r[1]="M.5,.5 L0,.5",_r[3]="M.5,.5 L.5,1",_r),"\u2515":(gr={},gr[1]="M.5,.5 L.5,0",gr[3]="M.5,.5 L1,.5",gr),"\u2516":(vr={},vr[1]="M.5,.5 L1,.5",vr[3]="M.5,.5 L.5,0",vr),"\u2519":(mr={},mr[1]="M.5,.5 L.5,0",mr[3]="M.5,.5 L0,.5",mr),"\u251a":(ni={},ni[1]="M.5,.5 L0,.5",ni[3]="M.5,.5 L.5,0",ni),"\u251d":(yr={},yr[1]="M.5,0 L.5,1",yr[3]="M.5,.5 L1,.5",yr),"\u251e":(Cr={},Cr[1]="M0.5,1 L.5,.5 L1,.5",Cr[3]="M.5,.5 L.5,0",Cr),"\u251f":(br={},br[1]="M.5,0 L.5,.5 L1,.5",br[3]="M.5,.5 L.5,1",br),"\u2520":(Sr={},Sr[1]="M.5,.5 L1,.5",Sr[3]="M.5,0 L.5,1",Sr),"\u2521":(Pt={},Pt[1]="M.5,.5 L.5,1",Pt[3]="M.5,0 L.5,.5 L1,.5",Pt),"\u2522":(ri={},ri[1]="M.5,.5 L.5,0",ri[3]="M0.5,1 L.5,.5 L1,.5",ri),"\u2525":(ii={},ii[1]="M.5,0 L.5,1",ii[3]="M.5,.5 L0,.5",ii),"\u2526":(oi={},oi[1]="M0,.5 L.5,.5 L.5,1",oi[3]="M.5,.5 L.5,0",oi),"\u2527":(si={},si[1]="M.5,0 L.5,.5 L0,.5",si[3]="M.5,.5 L.5,1",si),"\u2528":(wr={},wr[1]="M.5,.5 L0,.5",wr[3]="M.5,0 L.5,1",wr),"\u2529":(ai={},ai[1]="M.5,.5 L.5,1",ai[3]="M.5,0 L.5,.5 L0,.5",ai),"\u252a":(ci={},ci[1]="M.5,.5 L.5,0",ci[3]="M0,.5 L.5,.5 L.5,1",ci),"\u252d":(Ft={},Ft[1]="M0.5,1 L.5,.5 L1,.5",Ft[3]="M.5,.5 L0,.5",Ft),"\u252e":(li={},li[1]="M0,.5 L.5,.5 L.5,1",li[3]="M.5,.5 L1,.5",li),"\u252f":(Nn={},Nn[1]="M.5,.5 L.5,1",Nn[3]="M0,.5 L1,.5",Nn),"\u2530":(ui={},ui[1]="M0,.5 L1,.5",ui[3]="M.5,.5 L.5,1",ui),"\u2531":(Zn={},Zn[1]="M.5,.5 L1,.5",Zn[3]="M0,.5 L.5,.5 L.5,1",Zn),"\u2532":(Io={},Io[1]="M.5,.5 L0,.5",Io[3]="M0.5,1 L.5,.5 L1,.5",Io),"\u2535":(fi={},fi[1]="M.5,0 L.5,.5 L1,.5",fi[3]="M.5,.5 L0,.5",fi),"\u2536":(di={},di[1]="M.5,0 L.5,.5 L0,.5",di[3]="M.5,.5 L1,.5",di),"\u2537":(Qn={},Qn[1]="M.5,.5 L.5,0",Qn[3]="M0,.5 L1,.5",Qn),"\u2538":(Ro={},Ro[1]="M0,.5 L1,.5",Ro[3]="M.5,.5 L.5,0",Ro),"\u2539":(hi={},hi[1]="M.5,.5 L1,.5",hi[3]="M.5,0 L.5,.5 L0,.5",hi),"\u253a":(pi={},pi[1]="M.5,.5 L0,.5",pi[3]="M.5,0 L.5,.5 L1,.5",pi),"\u253d":(Dr={},Dr[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Dr[3]="M.5,.5 L0,.5",Dr),"\u253e":(Er={},Er[1]="M.5,0 L.5,1 M.5,.5 L0,.5",Er[3]="M.5,.5 L1,.5",Er),"\u253f":(_i={},_i[1]="M.5,0 L.5,1",_i[3]="M0,.5 L1,.5",_i),"\u2540":(gi={},gi[1]="M0,.5 L1,.5 M.5,.5 L.5,1",gi[3]="M.5,.5 L.5,0",gi),"\u2541":(vi={},vi[1]="M.5,.5 L.5,0 M0,.5 L1,.5",vi[3]="M.5,.5 L.5,1",vi),"\u2542":(mi={},mi[1]="M0,.5 L1,.5",mi[3]="M.5,0 L.5,1",mi),"\u2543":(Mr={},Mr[1]="M0.5,1 L.5,.5 L1,.5",Mr[3]="M.5,0 L.5,.5 L0,.5",Mr),"\u2544":(yi={},yi[1]="M0,.5 L.5,.5 L.5,1",yi[3]="M.5,0 L.5,.5 L1,.5",yi),"\u2545":(Ci={},Ci[1]="M.5,0 L.5,.5 L1,.5",Ci[3]="M0,.5 L.5,.5 L.5,1",Ci),"\u2546":(xr={},xr[1]="M.5,0 L.5,.5 L0,.5",xr[3]="M0.5,1 L.5,.5 L1,.5",xr),"\u2547":(qt={},qt[1]="M.5,.5 L.5,1",qt[3]="M.5,.5 L.5,0 M0,.5 L1,.5",qt),"\u2548":(Tr={},Tr[1]="M.5,.5 L.5,0",Tr[3]="M0,.5 L1,.5 M.5,.5 L.5,1",Tr),"\u2549":(bn={},bn[1]="M.5,.5 L1,.5",bn[3]="M.5,0 L.5,1 M.5,.5 L0,.5",bn),"\u254a":(Xn={},Xn[1]="M.5,.5 L0,.5",Xn[3]="M.5,0 L.5,1 M.5,.5 L1,.5",Xn),"\u254c":(ke={},ke[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",ke),"\u254d":(Ar={},Ar[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",Ar),"\u2504":(Oe={},Oe[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Oe),"\u2505":(Lr={},Lr[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",Lr),"\u2508":(Oo={},Oo[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Oo),"\u2509":(Ir={},Ir[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",Ir),"\u254e":(be={},be[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",be),"\u254f":(bi={},bi[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",bi),"\u2506":(js={},js[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",js),"\u2507":(Ie={},Ie[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",Ie),"\u250a":(Rr={},Rr[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Rr),"\u250b":(me={},me[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",me),"\u256d":(Qe={},Qe[1]="C.5,1,.5,.5,1,.5",Qe),"\u256e":(ko={},ko[1]="C.5,1,.5,.5,0,.5",ko),"\u256f":(Vs={},Vs[1]="C.5,0,.5,.5,0,.5",Vs),"\u2570":(Us={},Us[1]="C.5,0,.5,.5,1,.5",Us)},_.tryDrawCustomChar=function(X,Z,on,Si,kr,ot){var $t=_.blockElementDefinitions[Z];if($t)return function(Ee,an,wi,Di,Fe,Pr){for(var Xe=0;Xe<an.length;Xe++){var pt=an[Xe],$e=Fe/8,cn=Pr/8;Ee.fillRect(wi+pt.x*$e,Di+pt.y*cn,pt.w*$e,pt.h*cn)}}(X,$t,on,Si,kr,ot),!0;var sn=bt[Z];if(sn)return function(Ee,an,wi,Di,Fe,Pr){var Xe,pt=_c.get(an);pt||_c.set(an,pt=new Map);var $e=Ee.fillStyle;if("string"!=typeof $e)throw new Error('Unexpected fillStyle type "'+$e+'"');var cn=pt.get($e);if(!cn){var Bt=an[0].length,Sn=an.length,Gt=document.createElement("canvas");Gt.width=Bt,Gt.height=Sn;var Jn=(0,Or.throwIfFalsy)(Gt.getContext("2d")),ln=new ImageData(Bt,Sn),er=void 0,pe=void 0,Fr=void 0,Po=void 0;if($e.startsWith("#"))er=parseInt($e.substr(1,2),16),pe=parseInt($e.substr(3,2),16),Fr=parseInt($e.substr(5,2),16),Po=$e.length>7&&parseInt($e.substr(7,2),16)||1;else{if(!$e.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+$e+'" when drawing pattern glyph');er=(Xe=$e.substring(5,$e.length-1).split(",").map(function(wf){return parseFloat(wf)}))[0],pe=Xe[1],Fr=Xe[2],Po=Xe[3]}for(var _t=0;_t<Sn;_t++)for(var wn=0;wn<Bt;wn++)ln.data[4*(_t*Bt+wn)]=er,ln.data[4*(_t*Bt+wn)+1]=pe,ln.data[4*(_t*Bt+wn)+2]=Fr,ln.data[4*(_t*Bt+wn)+3]=an[_t][wn]*(255*Po);Jn.putImageData(ln,0,0),cn=(0,Or.throwIfFalsy)(Ee.createPattern(Gt,null)),pt.set($e,cn)}Ee.fillStyle=cn,Ee.fillRect(wi,Di,Fe,Pr)}(X,sn,on,Si,kr,ot),!0;var st=_.boxDrawingDefinitions[Z];return!!st&&(function(Ee,an,wi,Di,Fe,Pr){Ee.strokeStyle=Ee.fillStyle;for(var Xe=0,pt=Object.entries(an);Xe<pt.length;Xe++){var $e=pt[Xe],cn=$e[0],Bt=$e[1];Ee.beginPath(),Ee.lineWidth=window.devicePixelRatio*Number.parseInt(cn);for(var Sn=0,Gt=("function"==typeof Bt?Bt(.15,.15/Pr*Fe):Bt).split(" ");Sn<Gt.length;Sn++){var Jn=Gt[Sn],ln=Jn[0],er=Sf[ln];if(er){var pe=Jn.substring(1).split(",");pe[0]&&pe[1]&&er(Ee,rn(pe,Fe,Pr,wi,Di))}else console.error('Could not find drawing instructions for "'+ln+'"')}Ee.stroke(),Ee.closePath()}}(X,st,on,Si,kr,ot),!0)};var _c=new Map;function zs(X,Z,on){return void 0===on&&(on=0),Math.max(Math.min(X,Z),on)}var Sf={C:function(X,Z){return X.bezierCurveTo(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])},L:function(X,Z){return X.lineTo(Z[0],Z[1])},M:function(X,Z){return X.moveTo(Z[0],Z[1])}};function rn(X,Z,on,Si,kr){var ot=X.map(function(st){return parseFloat(st)||parseInt(st)});if(ot.length<2)throw new Error("Too few arguments for instruction");for(var $t=0;$t<ot.length;$t+=2)ot[$t]*=Z,0!==ot[$t]&&(ot[$t]=zs(Math.round(ot[$t]+.5)-.5,Z,0)),ot[$t]+=Si;for(var sn=1;sn<ot.length;sn+=2)ot[sn]*=on,0!==ot[sn]&&(ot[sn]=zs(Math.round(ot[sn]+.5)-.5,on,0)),ot[sn]+=kr;return ot}},3700:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GridCache=void 0;var A=function(){function y(){this.cache=[]}return y.prototype.resize=function(S,w){for(var C=0;C<S;C++){this.cache.length<=C&&this.cache.push([]);for(var I=this.cache[C].length;I<w;I++)this.cache[C].push(void 0);this.cache[C].length=w}this.cache.length=S},y.prototype.clear=function(){for(var S=0;S<this.cache.length;S++)for(var w=0;w<this.cache[S].length;w++)this.cache[S][w]=void 0},y}();_.GridCache=A},5098:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.LinkRenderLayer=void 0;var I=A(1546),E=A(8803),p=A(2040),v=A(2585),b=function(f){function c(a,l,h,g,D,M,O,R){var T=f.call(this,a,"link",l,!0,h,g,O,R)||this;return D.onShowLinkUnderline(function(L){return T._onShowLinkUnderline(L)}),D.onHideLinkUnderline(function(L){return T._onHideLinkUnderline(L)}),M.onShowLinkUnderline(function(L){return T._onShowLinkUnderline(L)}),M.onHideLinkUnderline(function(L){return T._onHideLinkUnderline(L)}),T}return S(c,f),c.prototype.resize=function(a){f.prototype.resize.call(this,a),this._state=void 0},c.prototype.reset=function(){this._clearCurrentLink()},c.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var a=this._state.y2-this._state.y1-1;a>0&&this._clearCells(0,this._state.y1+1,this._state.cols,a),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},c.prototype._onShowLinkUnderline=function(a){if(this._ctx.fillStyle=a.fg===E.INVERTED_DEFAULT_COLOR?this._colors.background.css:a.fg&&(0,p.is256Color)(a.fg)?this._colors.ansi[a.fg].css:this._colors.foreground.css,a.y1===a.y2)this._fillBottomLineAtCells(a.x1,a.y1,a.x2-a.x1);else{this._fillBottomLineAtCells(a.x1,a.y1,a.cols-a.x1);for(var l=a.y1+1;l<a.y2;l++)this._fillBottomLineAtCells(0,l,a.cols);this._fillBottomLineAtCells(0,a.y2,a.x2)}this._state=a},c.prototype._onHideLinkUnderline=function(a){this._clearCurrentLink()},w([C(6,v.IBufferService),C(7,v.IOptionsService)],c)}(I.BaseRenderLayer);_.LinkRenderLayer=b},3525:function(Q,_,A){var y,S=this&&this.__extends||(y=function(D,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,R){O.__proto__=R}||function(O,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(O[T]=R[T])})(D,M)},function(D,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function O(){this.constructor=D}y(D,M),D.prototype=null===M?Object.create(M):(O.prototype=M.prototype,new O)}),w=this&&this.__decorate||function(D,M,O,R){var T,L=arguments.length,N=L<3?M:null===R?R=Object.getOwnPropertyDescriptor(M,O):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(D,M,O,R);else for(var F=D.length-1;F>=0;F--)(T=D[F])&&(N=(L<3?T(N):L>3?T(M,O,N):T(M,O))||N);return L>3&&N&&Object.defineProperty(M,O,N),N},C=this&&this.__param||function(D,M){return function(O,R){M(O,R,D)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Renderer=void 0;var I=A(9596),E=A(4149),p=A(2512),v=A(5098),b=A(844),f=A(4725),c=A(2585),a=A(1420),l=A(8460),h=1,g=function(D){function M(O,R,T,L,N,F,G,U){var k=D.call(this)||this;return k._colors=O,k._screenElement=R,k._bufferService=F,k._charSizeService=G,k._optionsService=U,k._id=h++,k._onRequestRedraw=new l.EventEmitter,k._renderLayers=[N.createInstance(I.TextRenderLayer,k._screenElement,0,k._colors,k._optionsService.rawOptions.allowTransparency,k._id),N.createInstance(E.SelectionRenderLayer,k._screenElement,1,k._colors,k._id),N.createInstance(v.LinkRenderLayer,k._screenElement,2,k._colors,k._id,T,L),N.createInstance(p.CursorRenderLayer,k._screenElement,3,k._colors,k._id,k._onRequestRedraw)],k.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},k._devicePixelRatio=window.devicePixelRatio,k._updateDimensions(),k.onOptionsChanged(),k}return S(M,D),Object.defineProperty(M.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),M.prototype.dispose=function(){for(var O=0,R=this._renderLayers;O<R.length;O++)R[O].dispose();D.prototype.dispose.call(this),(0,a.removeTerminalFromCache)(this._id)},M.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},M.prototype.setColors=function(O){this._colors=O;for(var R=0,T=this._renderLayers;R<T.length;R++){var L=T[R];L.setColors(this._colors),L.reset()}},M.prototype.onResize=function(O,R){this._updateDimensions();for(var T=0,L=this._renderLayers;T<L.length;T++)L[T].resize(this.dimensions);this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},M.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},M.prototype.onBlur=function(){this._runOperation(function(O){return O.onBlur()})},M.prototype.onFocus=function(){this._runOperation(function(O){return O.onFocus()})},M.prototype.onSelectionChanged=function(O,R,T){void 0===T&&(T=!1),this._runOperation(function(L){return L.onSelectionChanged(O,R,T)})},M.prototype.onCursorMove=function(){this._runOperation(function(O){return O.onCursorMove()})},M.prototype.onOptionsChanged=function(){this._runOperation(function(O){return O.onOptionsChanged()})},M.prototype.clear=function(){this._runOperation(function(O){return O.reset()})},M.prototype._runOperation=function(O){for(var R=0,T=this._renderLayers;R<T.length;R++)O(T[R])},M.prototype.renderRows=function(O,R){for(var T=0,L=this._renderLayers;T<L.length;T++)L[T].onGridChanged(O,R)},M.prototype.clearTextureAtlas=function(){for(var O=0,R=this._renderLayers;O<R.length;O++)R[O].clearTextureAtlas()},M.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.rawOptions.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},w([C(4,c.IInstantiationService),C(5,c.IBufferService),C(6,f.ICharSizeService),C(7,c.IOptionsService)],M)}(b.Disposable);_.Renderer=g},1752:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.throwIfFalsy=void 0,_.throwIfFalsy=function(A){if(!A)throw new Error("value must not be falsy");return A}},4149:function(Q,_,A){var y,S=this&&this.__extends||(y=function(v,b){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(f[a]=c[a])})(v,b)},function(v,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function f(){this.constructor=v}y(v,b),v.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)}),w=this&&this.__decorate||function(v,b,f,c){var a,l=arguments.length,h=l<3?b:null===c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(v,b,f,c);else for(var g=v.length-1;g>=0;g--)(a=v[g])&&(h=(l<3?a(h):l>3?a(b,f,h):a(b,f))||h);return l>3&&h&&Object.defineProperty(b,f,h),h},C=this&&this.__param||function(v,b){return function(f,c){b(f,c,v)}};Object.defineProperty(_,"__esModule",{value:!0}),_.SelectionRenderLayer=void 0;var I=A(1546),E=A(2585),p=function(v){function b(f,c,a,l,h,g){var D=v.call(this,f,"selection",c,!0,a,l,h,g)||this;return D._clearState(),D}return S(b,v),b.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},b.prototype.resize=function(f){v.prototype.resize.call(this,f),this._clearState()},b.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},b.prototype.onSelectionChanged=function(f,c,a){if(this._didStateChange(f,c,a,this._bufferService.buffer.ydisp))if(this._clearAll(),f&&c){var l=f[1]-this._bufferService.buffer.ydisp,h=c[1]-this._bufferService.buffer.ydisp,g=Math.max(l,0),D=Math.min(h,this._bufferService.rows-1);if(g>=this._bufferService.rows||D<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=this._colors.selectionTransparent.css,a){var M=f[0];this._fillCells(M,g,c[0]-M,D-g+1)}else{this._fillCells(M=l===g?f[0]:0,g,(g===h?c[0]:this._bufferService.cols)-M,1);var L=Math.max(D-g-1,0);this._fillCells(0,g+1,this._bufferService.cols,L),g!==D&&this._fillCells(0,D,h===D?c[0]:this._bufferService.cols,1)}this._state.start=[f[0],f[1]],this._state.end=[c[0],c[1]],this._state.columnSelectMode=a,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},b.prototype._didStateChange=function(f,c,a,l){return!this._areCoordinatesEqual(f,this._state.start)||!this._areCoordinatesEqual(c,this._state.end)||a!==this._state.columnSelectMode||l!==this._state.ydisp},b.prototype._areCoordinatesEqual=function(f,c){return!(!f||!c)&&f[0]===c[0]&&f[1]===c[1]},w([C(4,E.IBufferService),C(5,E.IOptionsService)],b)}(I.BaseRenderLayer);_.SelectionRenderLayer=p},9596:function(Q,_,A){var y,S=this&&this.__extends||(y=function(h,g){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,M){D.__proto__=M}||function(D,M){for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(D[O]=M[O])})(h,g)},function(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function D(){this.constructor=h}y(h,g),h.prototype=null===g?Object.create(g):(D.prototype=g.prototype,new D)}),w=this&&this.__decorate||function(h,g,D,M){var O,R=arguments.length,T=R<3?g:null===M?M=Object.getOwnPropertyDescriptor(g,D):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(h,g,D,M);else for(var L=h.length-1;L>=0;L--)(O=h[L])&&(T=(R<3?O(T):R>3?O(g,D,T):O(g,D))||T);return R>3&&T&&Object.defineProperty(g,D,T),T},C=this&&this.__param||function(h,g){return function(D,M){g(D,M,h)}};Object.defineProperty(_,"__esModule",{value:!0}),_.TextRenderLayer=void 0;var I=A(3700),E=A(1546),p=A(3734),v=A(643),b=A(511),f=A(2585),c=A(4725),a=A(4269),l=function(h){function g(D,M,O,R,T,L,N,F){var G=h.call(this,D,"text",M,R,O,T,L,N)||this;return G._characterJoinerService=F,G._characterWidth=0,G._characterFont="",G._characterOverlapCache={},G._workCell=new b.CellData,G._state=new I.GridCache,G}return S(g,h),g.prototype.resize=function(D){h.prototype.resize.call(this,D);var M=this._getFont(!1,!1);this._characterWidth===D.scaledCharWidth&&this._characterFont===M||(this._characterWidth=D.scaledCharWidth,this._characterFont=M,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},g.prototype.reset=function(){this._state.clear(),this._clearAll()},g.prototype._forEachCell=function(D,M,O){for(var R=D;R<=M;R++)for(var T=R+this._bufferService.buffer.ydisp,L=this._bufferService.buffer.lines.get(T),N=this._characterJoinerService.getJoinedCharacters(T),F=0;F<this._bufferService.cols;F++){L.loadCell(F,this._workCell);var G=this._workCell,U=!1,k=F;if(0!==G.getWidth()){if(N.length>0&&F===N[0][0]){U=!0;var H=N.shift();G=new a.JoinedCellData(this._workCell,L.translateToString(!0,H[0],H[1]),H[1]-H[0]),k=H[1]-1}!U&&this._isOverlapping(G)&&k<L.length-1&&L.getCodePoint(k+1)===v.NULL_CELL_CODE&&(G.content&=-12582913,G.content|=2<<22),O(G,F,R),F=k}}},g.prototype._drawBackground=function(D,M){var O=this,R=this._ctx,T=this._bufferService.cols,L=0,N=0,F=null;R.save(),this._forEachCell(D,M,function(G,U,k){var H=null;G.isInverse()?H=G.isFgDefault()?O._colors.foreground.css:G.isFgRGB()?"rgb("+p.AttributeData.toColorRGB(G.getFgColor()).join(",")+")":O._colors.ansi[G.getFgColor()].css:G.isBgRGB()?H="rgb("+p.AttributeData.toColorRGB(G.getBgColor()).join(",")+")":G.isBgPalette()&&(H=O._colors.ansi[G.getBgColor()].css),null===F&&(L=U,N=k),k!==N?(R.fillStyle=F||"",O._fillCells(L,N,T-L,1),L=U,N=k):F!==H&&(R.fillStyle=F||"",O._fillCells(L,N,U-L,1),L=U,N=k),F=H}),null!==F&&(R.fillStyle=F,this._fillCells(L,N,T-L,1)),R.restore()},g.prototype._drawForeground=function(D,M){var O=this;this._forEachCell(D,M,function(R,T,L){if(!R.isInvisible()&&(O._drawChars(R,T,L),R.isUnderline()||R.isStrikethrough())){if(O._ctx.save(),R.isInverse())if(R.isBgDefault())O._ctx.fillStyle=O._colors.background.css;else if(R.isBgRGB())O._ctx.fillStyle="rgb("+p.AttributeData.toColorRGB(R.getBgColor()).join(",")+")";else{var N=R.getBgColor();O._optionsService.rawOptions.drawBoldTextInBrightColors&&R.isBold()&&N<8&&(N+=8),O._ctx.fillStyle=O._colors.ansi[N].css}else if(R.isFgDefault())O._ctx.fillStyle=O._colors.foreground.css;else if(R.isFgRGB())O._ctx.fillStyle="rgb("+p.AttributeData.toColorRGB(R.getFgColor()).join(",")+")";else{var F=R.getFgColor();O._optionsService.rawOptions.drawBoldTextInBrightColors&&R.isBold()&&F<8&&(F+=8),O._ctx.fillStyle=O._colors.ansi[F].css}R.isStrikethrough()&&O._fillMiddleLineAtCells(T,L,R.getWidth()),R.isUnderline()&&O._fillBottomLineAtCells(T,L,R.getWidth()),O._ctx.restore()}})},g.prototype.onGridChanged=function(D,M){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,D,this._bufferService.cols,M-D+1),this._drawBackground(D,M),this._drawForeground(D,M))},g.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.rawOptions.allowTransparency)},g.prototype._isOverlapping=function(D){if(1!==D.getWidth()||D.getCode()<256)return!1;var M=D.getChars();if(this._characterOverlapCache.hasOwnProperty(M))return this._characterOverlapCache[M];this._ctx.save(),this._ctx.font=this._characterFont;var O=Math.floor(this._ctx.measureText(M).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[M]=O,O},w([C(5,f.IBufferService),C(6,f.IOptionsService),C(7,c.ICharacterJoinerService)],g)}(E.BaseRenderLayer);_.TextRenderLayer=l},9616:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BaseCharAtlas=void 0;var A=function(){function y(){this._didWarmUp=!1}return y.prototype.dispose=function(){},y.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},y.prototype._doWarmUp=function(){},y.prototype.clear=function(){},y.prototype.beginFrame=function(){},y}();_.BaseCharAtlas=A},1420:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.removeTerminalFromCache=_.acquireCharAtlas=void 0;var y=A(2040),S=A(1906),w=[];_.acquireCharAtlas=function(C,I,E,p,v){for(var b=(0,y.generateConfig)(p,v,C,E),f=0;f<w.length;f++){var c=(a=w[f]).ownedBy.indexOf(I);if(c>=0){if((0,y.configEquals)(a.config,b))return a.atlas;1===a.ownedBy.length?(a.atlas.dispose(),w.splice(f,1)):a.ownedBy.splice(c,1);break}}for(f=0;f<w.length;f++){var a=w[f];if((0,y.configEquals)(a.config,b))return a.ownedBy.push(I),a.atlas}var l={atlas:new S.DynamicCharAtlas(document,b),config:b,ownedBy:[I]};return w.push(l),l.atlas},_.removeTerminalFromCache=function(C){for(var I=0;I<w.length;I++){var E=w[I].ownedBy.indexOf(C);if(-1!==E){1===w[I].ownedBy.length?(w[I].atlas.dispose(),w.splice(I,1)):w[I].ownedBy.splice(E,1);break}}}},2040:function(Q,_,A){var y=this&&this.__spreadArray||function(w,C,I){if(I||2===arguments.length)for(var E,p=0,v=C.length;p<v;p++)!E&&p in C||(E||(E=Array.prototype.slice.call(C,0,p)),E[p]=C[p]);return w.concat(E||Array.prototype.slice.call(C))};Object.defineProperty(_,"__esModule",{value:!0}),_.is256Color=_.configEquals=_.generateConfig=void 0;var S=A(643);_.generateConfig=function(w,C,I,E){var p={foreground:E.foreground,background:E.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:y([],E.ansi,!0)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:w,scaledCharHeight:C,fontFamily:I.fontFamily,fontSize:I.fontSize,fontWeight:I.fontWeight,fontWeightBold:I.fontWeightBold,allowTransparency:I.allowTransparency,colors:p}},_.configEquals=function(w,C){for(var I=0;I<w.colors.ansi.length;I++)if(w.colors.ansi[I].rgba!==C.colors.ansi[I].rgba)return!1;return w.devicePixelRatio===C.devicePixelRatio&&w.fontFamily===C.fontFamily&&w.fontSize===C.fontSize&&w.fontWeight===C.fontWeight&&w.fontWeightBold===C.fontWeightBold&&w.allowTransparency===C.allowTransparency&&w.scaledCharWidth===C.scaledCharWidth&&w.scaledCharHeight===C.scaledCharHeight&&w.colors.foreground===C.colors.foreground&&w.colors.background===C.colors.background},_.is256Color=function(w){return w<S.DEFAULT_COLOR}},8803:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CHAR_ATLAS_CELL_SPACING=_.TEXT_BASELINE=_.DIM_OPACITY=_.INVERTED_DEFAULT_COLOR=void 0;var y=A(6114);_.INVERTED_DEFAULT_COLOR=257,_.DIM_OPACITY=.5,_.TEXT_BASELINE=y.isFirefox||y.isLegacyEdge?"bottom":"ideographic",_.CHAR_ATLAS_CELL_SPACING=1},1906:function(Q,_,A){var y,S=this&&this.__extends||(y=function(M,O){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,T){R.__proto__=T}||function(R,T){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(R[L]=T[L])})(M,O)},function(M,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function R(){this.constructor=M}y(M,O),M.prototype=null===O?Object.create(O):(R.prototype=O.prototype,new R)});Object.defineProperty(_,"__esModule",{value:!0}),_.NoneCharAtlas=_.DynamicCharAtlas=_.getGlyphCacheKey=void 0;var w=A(8803),C=A(9616),I=A(5680),E=A(7001),p=A(6114),v=A(1752),b=A(4774),f=1024,c=1024,a={css:"rgba(0, 0, 0, 0)",rgba:0};function l(M){return M.code<<21|M.bg<<12|M.fg<<3|(M.bold?0:4)+(M.dim?0:2)+(M.italic?0:1)}_.getGlyphCacheKey=l;var h=function(M){function O(R,T){var L=M.call(this)||this;L._config=T,L._drawToCacheCount=0,L._glyphsWaitingOnBitmap=[],L._bitmapCommitTimeout=null,L._bitmap=null,L._cacheCanvas=R.createElement("canvas"),L._cacheCanvas.width=f,L._cacheCanvas.height=c,L._cacheCtx=(0,v.throwIfFalsy)(L._cacheCanvas.getContext("2d",{alpha:!0}));var N=R.createElement("canvas");N.width=L._config.scaledCharWidth,N.height=L._config.scaledCharHeight,L._tmpCtx=(0,v.throwIfFalsy)(N.getContext("2d",{alpha:L._config.allowTransparency})),L._width=Math.floor(f/L._config.scaledCharWidth),L._height=Math.floor(c/L._config.scaledCharHeight);var F=L._width*L._height;return L._cacheMap=new E.LRUMap(F),L._cacheMap.prealloc(F),L}return S(O,M),O.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},O.prototype.beginFrame=function(){this._drawToCacheCount=0},O.prototype.clear=function(){if(this._cacheMap.size>0){var R=this._width*this._height;this._cacheMap=new E.LRUMap(R),this._cacheMap.prealloc(R)}this._cacheCtx.clearRect(0,0,f,c),this._tmpCtx.clearRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight)},O.prototype.draw=function(R,T,L,N){if(32===T.code)return!0;if(!this._canCache(T))return!1;var F=l(T),G=this._cacheMap.get(F);if(null!=G)return this._drawFromCache(R,G,L,N),!0;if(this._drawToCacheCount<100){var U;U=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var k=this._drawToCache(T,U);return this._cacheMap.set(F,k),this._drawFromCache(R,k,L,N),!0}return!1},O.prototype._canCache=function(R){return R.code<256},O.prototype._toCoordinateX=function(R){return R%this._width*this._config.scaledCharWidth},O.prototype._toCoordinateY=function(R){return Math.floor(R/this._width)*this._config.scaledCharHeight},O.prototype._drawFromCache=function(R,T,L,N){if(!T.isEmpty){var F=this._toCoordinateX(T.index),G=this._toCoordinateY(T.index);R.drawImage(T.inBitmap?this._bitmap:this._cacheCanvas,F,G,this._config.scaledCharWidth,this._config.scaledCharHeight,L,N,this._config.scaledCharWidth,this._config.scaledCharHeight)}},O.prototype._getColorFromAnsiIndex=function(R){return R<this._config.colors.ansi.length?this._config.colors.ansi[R]:I.DEFAULT_ANSI_COLORS[R]},O.prototype._getBackgroundColor=function(R){return this._config.allowTransparency?a:R.bg===w.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:R.bg<256?this._getColorFromAnsiIndex(R.bg):this._config.colors.background},O.prototype._getForegroundColor=function(R){return R.fg===w.INVERTED_DEFAULT_COLOR?b.color.opaque(this._config.colors.background):R.fg<256?this._getColorFromAnsiIndex(R.fg):this._config.colors.foreground},O.prototype._drawToCache=function(R,T){this._drawToCacheCount++,this._tmpCtx.save();var L=this._getBackgroundColor(R);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=L.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over",this._tmpCtx.font=(R.italic?"italic":"")+" "+(R.bold?this._config.fontWeightBold:this._config.fontWeight)+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=w.TEXT_BASELINE,this._tmpCtx.fillStyle=this._getForegroundColor(R).css,R.dim&&(this._tmpCtx.globalAlpha=w.DIM_OPACITY),this._tmpCtx.fillText(R.chars,0,this._config.scaledCharHeight);var G=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),U=!1;if(this._config.allowTransparency||(U=D(G,L)),U&&"_"===R.chars&&!this._config.allowTransparency)for(var k=1;k<=5&&(this._tmpCtx.fillText(R.chars,0,this._config.scaledCharHeight-k),U=D(G=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),L));k++);this._tmpCtx.restore();var H=this._toCoordinateX(T),$=this._toCoordinateY(T);this._cacheCtx.putImageData(G,H,$);var K={index:T,isEmpty:U,inBitmap:!1};return this._addGlyphToBitmap(K),K},O.prototype._addGlyphToBitmap=function(R){var T=this;!("createImageBitmap"in window)||p.isFirefox||p.isSafari||(this._glyphsWaitingOnBitmap.push(R),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return T._generateBitmap()},100)))},O.prototype._generateBitmap=function(){var R=this,T=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(L){R._bitmap=L;for(var N=0;N<T.length;N++)T[N].inBitmap=!0}),this._bitmapCommitTimeout=null},O}(C.BaseCharAtlas);_.DynamicCharAtlas=h;var g=function(M){function O(R,T){return M.call(this)||this}return S(O,M),O.prototype.draw=function(R,T,L,N){return!1},O}(C.BaseCharAtlas);function D(M,O){for(var R=!0,T=O.rgba>>>24,L=O.rgba>>>16&255,N=O.rgba>>>8&255,F=0;F<M.data.length;F+=4)M.data[F]===T&&M.data[F+1]===L&&M.data[F+2]===N?M.data[F+3]=0:R=!1;return R}_.NoneCharAtlas=g},7001:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.LRUMap=void 0;var A=function(){function y(S){this.capacity=S,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return y.prototype._unlinkNode=function(S){var w=S.prev,C=S.next;S===this._head&&(this._head=C),S===this._tail&&(this._tail=w),null!==w&&(w.next=C),null!==C&&(C.prev=w)},y.prototype._appendNode=function(S){var w=this._tail;null!==w&&(w.next=S),S.prev=w,S.next=null,this._tail=S,null===this._head&&(this._head=S)},y.prototype.prealloc=function(S){for(var w=this._nodePool,C=0;C<S;C++)w.push({prev:null,next:null,key:null,value:null})},y.prototype.get=function(S){var w=this._map[S];return void 0!==w?(this._unlinkNode(w),this._appendNode(w),w.value):null},y.prototype.peekValue=function(S){var w=this._map[S];return void 0!==w?w.value:null},y.prototype.peek=function(){var S=this._head;return null===S?null:S.value},y.prototype.set=function(S,w){var C=this._map[S];if(void 0!==C)this._unlinkNode(C=this._map[S]),C.value=w;else if(this.size>=this.capacity)this._unlinkNode(C=this._head),delete this._map[C.key],C.key=S,C.value=w,this._map[S]=C;else{var I=this._nodePool;I.length>0?((C=I.pop()).key=S,C.value=w):C={prev:null,next:null,key:S,value:w},this._map[S]=C,this.size++}this._appendNode(C)},y}();_.LRUMap=A},1296:function(Q,_,A){var y,S=this&&this.__extends||(y=function(R,T){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,N){L.__proto__=N}||function(L,N){for(var F in N)Object.prototype.hasOwnProperty.call(N,F)&&(L[F]=N[F])})(R,T)},function(R,T){if("function"!=typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function L(){this.constructor=R}y(R,T),R.prototype=null===T?Object.create(T):(L.prototype=T.prototype,new L)}),w=this&&this.__decorate||function(R,T,L,N){var F,G=arguments.length,U=G<3?T:null===N?N=Object.getOwnPropertyDescriptor(T,L):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(R,T,L,N);else for(var k=R.length-1;k>=0;k--)(F=R[k])&&(U=(G<3?F(U):G>3?F(T,L,U):F(T,L))||U);return G>3&&U&&Object.defineProperty(T,L,U),U},C=this&&this.__param||function(R,T){return function(L,N){T(L,N,R)}};Object.defineProperty(_,"__esModule",{value:!0}),_.DomRenderer=void 0;var I=A(3787),E=A(8803),p=A(844),v=A(4725),b=A(2585),f=A(8460),c=A(4774),a=A(9631),l="xterm-dom-renderer-owner-",h="xterm-fg-",g="xterm-bg-",D="xterm-focus",M=1,O=function(R){function T(L,N,F,G,U,k,H,$,K,te){var ie=R.call(this)||this;return ie._colors=L,ie._element=N,ie._screenElement=F,ie._viewportElement=G,ie._linkifier=U,ie._linkifier2=k,ie._charSizeService=$,ie._optionsService=K,ie._bufferService=te,ie._terminalClass=M++,ie._rowElements=[],ie._rowContainer=document.createElement("div"),ie._rowContainer.classList.add("xterm-rows"),ie._rowContainer.style.lineHeight="normal",ie._rowContainer.setAttribute("aria-hidden","true"),ie._refreshRowElements(ie._bufferService.cols,ie._bufferService.rows),ie._selectionContainer=document.createElement("div"),ie._selectionContainer.classList.add("xterm-selection"),ie._selectionContainer.setAttribute("aria-hidden","true"),ie.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},ie._updateDimensions(),ie._injectCss(),ie._rowFactory=H.createInstance(I.DomRendererRowFactory,document,ie._colors),ie._element.classList.add(l+ie._terminalClass),ie._screenElement.appendChild(ie._rowContainer),ie._screenElement.appendChild(ie._selectionContainer),ie._linkifier.onShowLinkUnderline(function(Ce){return ie._onLinkHover(Ce)}),ie._linkifier.onHideLinkUnderline(function(Ce){return ie._onLinkLeave(Ce)}),ie._linkifier2.onShowLinkUnderline(function(Ce){return ie._onLinkHover(Ce)}),ie._linkifier2.onHideLinkUnderline(function(Ce){return ie._onLinkLeave(Ce)}),ie}return S(T,R),Object.defineProperty(T.prototype,"onRequestRedraw",{get:function(){return(new f.EventEmitter).event},enumerable:!1,configurable:!0}),T.prototype.dispose=function(){this._element.classList.remove(l+this._terminalClass),(0,a.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement),R.prototype.dispose.call(this)},T.prototype._updateDimensions=function(){this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.rawOptions.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows;for(var L=0,N=this._rowElements;L<N.length;L++){var F=N[L];F.style.width=this.dimensions.canvasWidth+"px",F.style.height=this.dimensions.actualCellHeight+"px",F.style.lineHeight=this.dimensions.actualCellHeight+"px",F.style.overflow="hidden"}this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}",this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},T.prototype.setColors=function(L){this._colors=L,this._injectCss()},T.prototype._injectCss=function(){var L=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var N=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.rawOptions.fontFamily+"; font-size: "+this._optionsService.rawOptions.fontSize+"px;}";N+=this._terminalSelector+" span:not(."+I.BOLD_CLASS+") { font-weight: "+this._optionsService.rawOptions.fontWeight+";}"+this._terminalSelector+" span."+I.BOLD_CLASS+" { font-weight: "+this._optionsService.rawOptions.fontWeightBold+";}"+this._terminalSelector+" span."+I.ITALIC_CLASS+" { font-style: italic;}",N+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",N+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",N+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+I.CURSOR_CLASS+"."+I.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+I.CURSOR_CLASS+"."+I.CURSOR_BLINK_CLASS+":not(."+I.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+I.CURSOR_CLASS+"."+I.CURSOR_BLINK_CLASS+"."+I.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+I.CURSOR_CLASS+"."+I.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+I.CURSOR_CLASS+"."+I.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.rawOptions.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+I.CURSOR_CLASS+"."+I.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",N+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selectionTransparent.css+";}",this._colors.ansi.forEach(function(F,G){N+=L._terminalSelector+" ."+h+G+" { color: "+F.css+"; }"+L._terminalSelector+" ."+g+G+" { background-color: "+F.css+"; }"}),N+=this._terminalSelector+" ."+h+E.INVERTED_DEFAULT_COLOR+" { color: "+c.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" ."+g+E.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.textContent=N},T.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},T.prototype._refreshRowElements=function(L,N){for(var F=this._rowElements.length;F<=N;F++){var G=document.createElement("div");this._rowContainer.appendChild(G),this._rowElements.push(G)}for(;this._rowElements.length>N;)this._rowContainer.removeChild(this._rowElements.pop())},T.prototype.onResize=function(L,N){this._refreshRowElements(L,N),this._updateDimensions()},T.prototype.onCharSizeChanged=function(){this._updateDimensions()},T.prototype.onBlur=function(){this._rowContainer.classList.remove(D)},T.prototype.onFocus=function(){this._rowContainer.classList.add(D)},T.prototype.onSelectionChanged=function(L,N,F){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(L&&N){var G=L[1]-this._bufferService.buffer.ydisp,U=N[1]-this._bufferService.buffer.ydisp,k=Math.max(G,0),H=Math.min(U,this._bufferService.rows-1);if(!(k>=this._bufferService.rows||H<0)){var $=document.createDocumentFragment();F?$.appendChild(this._createSelectionElement(k,L[0],N[0],H-k+1)):($.appendChild(this._createSelectionElement(k,G===k?L[0]:0,k===U?N[0]:this._bufferService.cols)),$.appendChild(this._createSelectionElement(k+1,0,this._bufferService.cols,H-k-1)),k!==H&&$.appendChild(this._createSelectionElement(H,0,U===H?N[0]:this._bufferService.cols))),this._selectionContainer.appendChild($)}}},T.prototype._createSelectionElement=function(L,N,F,G){void 0===G&&(G=1);var U=document.createElement("div");return U.style.height=G*this.dimensions.actualCellHeight+"px",U.style.top=L*this.dimensions.actualCellHeight+"px",U.style.left=N*this.dimensions.actualCellWidth+"px",U.style.width=this.dimensions.actualCellWidth*(F-N)+"px",U},T.prototype.onCursorMove=function(){},T.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},T.prototype.clear=function(){for(var L=0,N=this._rowElements;L<N.length;L++)N[L].innerText=""},T.prototype.renderRows=function(L,N){for(var F=this._bufferService.buffer.ybase+this._bufferService.buffer.y,G=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),U=this._optionsService.rawOptions.cursorBlink,k=L;k<=N;k++){var H=this._rowElements[k];H.innerText="";var $=k+this._bufferService.buffer.ydisp,K=this._bufferService.buffer.lines.get($);H.appendChild(this._rowFactory.createRow(K,$,$===F,this._optionsService.rawOptions.cursorStyle,G,U,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(T.prototype,"_terminalSelector",{get:function(){return"."+l+this._terminalClass},enumerable:!1,configurable:!0}),T.prototype._onLinkHover=function(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!0)},T.prototype._onLinkLeave=function(L){this._setCellUnderline(L.x1,L.x2,L.y1,L.y2,L.cols,!1)},T.prototype._setCellUnderline=function(L,N,F,G,U,k){for(;L!==N||F!==G;){var H=this._rowElements[F];if(!H)return;var $=H.children[L];$&&($.style.textDecoration=k?"underline":"none"),++L>=U&&(L=0,F++)}},w([C(6,b.IInstantiationService),C(7,v.ICharSizeService),C(8,b.IOptionsService),C(9,b.IBufferService)],T)}(p.Disposable);_.DomRenderer=O},3787:function(Q,_,A){var y=this&&this.__decorate||function(a,l,h,g){var D,M=arguments.length,O=M<3?l:null===g?g=Object.getOwnPropertyDescriptor(l,h):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(a,l,h,g);else for(var R=a.length-1;R>=0;R--)(D=a[R])&&(O=(M<3?D(O):M>3?D(l,h,O):D(l,h))||O);return M>3&&O&&Object.defineProperty(l,h,O),O},S=this&&this.__param||function(a,l){return function(h,g){l(h,g,a)}};Object.defineProperty(_,"__esModule",{value:!0}),_.DomRendererRowFactory=_.CURSOR_STYLE_UNDERLINE_CLASS=_.CURSOR_STYLE_BAR_CLASS=_.CURSOR_STYLE_BLOCK_CLASS=_.CURSOR_BLINK_CLASS=_.CURSOR_CLASS=_.STRIKETHROUGH_CLASS=_.UNDERLINE_CLASS=_.ITALIC_CLASS=_.DIM_CLASS=_.BOLD_CLASS=void 0;var w=A(8803),C=A(643),I=A(511),E=A(2585),p=A(4774),v=A(4725),b=A(4269);_.BOLD_CLASS="xterm-bold",_.DIM_CLASS="xterm-dim",_.ITALIC_CLASS="xterm-italic",_.UNDERLINE_CLASS="xterm-underline",_.STRIKETHROUGH_CLASS="xterm-strikethrough",_.CURSOR_CLASS="xterm-cursor",_.CURSOR_BLINK_CLASS="xterm-cursor-blink",_.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",_.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",_.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var f=function(){function a(l,h,g,D,M){this._document=l,this._colors=h,this._characterJoinerService=g,this._optionsService=D,this._coreService=M,this._workCell=new I.CellData}return a.prototype.setColors=function(l){this._colors=l},a.prototype.createRow=function(l,h,g,D,M,O,R,T){for(var L=this._document.createDocumentFragment(),N=this._characterJoinerService.getJoinedCharacters(h),F=0,G=Math.min(l.length,T)-1;G>=0;G--)if(l.loadCell(G,this._workCell).getCode()!==C.NULL_CELL_CODE||g&&G===M){F=G+1;break}for(G=0;G<F;G++){l.loadCell(G,this._workCell);var U=this._workCell.getWidth();if(0!==U){var k=!1,H=G,$=this._workCell;if(N.length>0&&G===N[0][0]){k=!0;var K=N.shift();$=new b.JoinedCellData(this._workCell,l.translateToString(!0,K[0],K[1]),K[1]-K[0]),H=K[1]-1,U=$.getWidth()}var te=this._document.createElement("span");if(U>1&&(te.style.width=R*U+"px"),k&&(te.style.display="inline",M>=G&&M<=H&&(M=G)),!this._coreService.isCursorHidden&&g&&G===M)switch(te.classList.add(_.CURSOR_CLASS),O&&te.classList.add(_.CURSOR_BLINK_CLASS),D){case"bar":te.classList.add(_.CURSOR_STYLE_BAR_CLASS);break;case"underline":te.classList.add(_.CURSOR_STYLE_UNDERLINE_CLASS);break;default:te.classList.add(_.CURSOR_STYLE_BLOCK_CLASS)}$.isBold()&&te.classList.add(_.BOLD_CLASS),$.isItalic()&&te.classList.add(_.ITALIC_CLASS),$.isDim()&&te.classList.add(_.DIM_CLASS),$.isUnderline()&&te.classList.add(_.UNDERLINE_CLASS),te.textContent=$.isInvisible()?C.WHITESPACE_CELL_CHAR:$.getChars()||C.WHITESPACE_CELL_CHAR,$.isStrikethrough()&&te.classList.add(_.STRIKETHROUGH_CLASS);var ie=$.getFgColor(),Ce=$.getFgColorMode(),he=$.getBgColor(),Pe=$.getBgColorMode(),B=!!$.isInverse();if(B){var ee=ie;ie=he,he=ee;var z=Ce;Ce=Pe,Pe=z}switch(Ce){case 16777216:case 33554432:$.isBold()&&ie<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ie+=8),this._applyMinimumContrast(te,this._colors.background,this._colors.ansi[ie])||te.classList.add("xterm-fg-"+ie);break;case 50331648:var q=p.rgba.toColor(ie>>16&255,ie>>8&255,255&ie);this._applyMinimumContrast(te,this._colors.background,q)||this._addStyle(te,"color:#"+c(ie.toString(16),"0",6));break;default:this._applyMinimumContrast(te,this._colors.background,this._colors.foreground)||B&&te.classList.add("xterm-fg-"+w.INVERTED_DEFAULT_COLOR)}switch(Pe){case 16777216:case 33554432:te.classList.add("xterm-bg-"+he);break;case 50331648:this._addStyle(te,"background-color:#"+c(he.toString(16),"0",6));break;default:B&&te.classList.add("xterm-bg-"+w.INVERTED_DEFAULT_COLOR)}L.appendChild(te),G=H}}return L},a.prototype._applyMinimumContrast=function(l,h,g){if(1===this._optionsService.rawOptions.minimumContrastRatio)return!1;var D=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===D&&(D=p.color.ensureContrastRatio(h,g,this._optionsService.rawOptions.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=D?D:null)),!!D&&(this._addStyle(l,"color:"+D.css),!0)},a.prototype._addStyle=function(l,h){l.setAttribute("style",""+(l.getAttribute("style")||"")+h+";")},y([S(2,v.ICharacterJoinerService),S(3,E.IOptionsService),S(4,E.ICoreService)],a)}();function c(a,l,h){for(;a.length<h;)a=l+a;return a}_.DomRendererRowFactory=f},456:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.SelectionModel=void 0;var A=function(){function y(S){this._bufferService=S,this.isSelectAllActive=!1,this.selectionStartLength=0}return y.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(y.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var S=this.selectionStart[0]+this.selectionStartLength;return S>this._bufferService.cols?S%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(S/this._bufferService.cols)-1]:[S%this._bufferService.cols,this.selectionStart[1]+Math.floor(S/this._bufferService.cols)]:[S,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!1,configurable:!0}),y.prototype.areSelectionValuesReversed=function(){var S=this.selectionStart,w=this.selectionEnd;return!(!S||!w)&&(S[1]>w[1]||S[1]===w[1]&&S[0]>w[0])},y.prototype.onTrim=function(S){return this.selectionStart&&(this.selectionStart[1]-=S),this.selectionEnd&&(this.selectionEnd[1]-=S),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},y}();_.SelectionModel=A},428:function(Q,_,A){var y=this&&this.__decorate||function(p,v,b,f){var c,a=arguments.length,l=a<3?v:null===f?f=Object.getOwnPropertyDescriptor(v,b):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(p,v,b,f);else for(var h=p.length-1;h>=0;h--)(c=p[h])&&(l=(a<3?c(l):a>3?c(v,b,l):c(v,b))||l);return a>3&&l&&Object.defineProperty(v,b,l),l},S=this&&this.__param||function(p,v){return function(b,f){v(b,f,p)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CharSizeService=void 0;var w=A(2585),C=A(8460),I=function(){function p(v,b,f){this._optionsService=f,this.width=0,this.height=0,this._onCharSizeChange=new C.EventEmitter,this._measureStrategy=new E(v,b,this._optionsService)}return Object.defineProperty(p.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!1,configurable:!0}),p.prototype.measure=function(){var v=this._measureStrategy.measure();v.width===this.width&&v.height===this.height||(this.width=v.width,this.height=v.height,this._onCharSizeChange.fire())},y([S(2,w.IOptionsService)],p)}();_.CharSizeService=I;var E=function(){function p(v,b,f){this._document=v,this._parentElement=b,this._optionsService=f,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return p.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=this._optionsService.rawOptions.fontSize+"px";var v=this._measureElement.getBoundingClientRect();return 0!==v.width&&0!==v.height&&(this._result.width=v.width,this._result.height=Math.ceil(v.height)),this._result},p}()},4269:function(Q,_,A){var y,S=this&&this.__extends||(y=function(c,a){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(l[g]=h[g])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=c}y(c,a),c.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)}),w=this&&this.__decorate||function(c,a,l,h){var g,D=arguments.length,M=D<3?a:null===h?h=Object.getOwnPropertyDescriptor(a,l):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(c,a,l,h);else for(var O=c.length-1;O>=0;O--)(g=c[O])&&(M=(D<3?g(M):D>3?g(a,l,M):g(a,l))||M);return D>3&&M&&Object.defineProperty(a,l,M),M},C=this&&this.__param||function(c,a){return function(l,h){a(l,h,c)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CharacterJoinerService=_.JoinedCellData=void 0;var I=A(3734),E=A(643),p=A(511),v=A(2585),b=function(c){function a(l,h,g){var D=c.call(this)||this;return D.content=0,D.combinedData="",D.fg=l.fg,D.bg=l.bg,D.combinedData=h,D._width=g,D}return S(a,c),a.prototype.isCombined=function(){return 2097152},a.prototype.getWidth=function(){return this._width},a.prototype.getChars=function(){return this.combinedData},a.prototype.getCode=function(){return 2097151},a.prototype.setFromCharData=function(l){throw new Error("not implemented")},a.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},a}(I.AttributeData);_.JoinedCellData=b;var f=function(){function c(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new p.CellData}return c.prototype.register=function(a){var l={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(l),l.id},c.prototype.deregister=function(a){for(var l=0;l<this._characterJoiners.length;l++)if(this._characterJoiners[l].id===a)return this._characterJoiners.splice(l,1),!0;return!1},c.prototype.getJoinedCharacters=function(a){if(0===this._characterJoiners.length)return[];var l=this._bufferService.buffer.lines.get(a);if(!l||0===l.length)return[];for(var h=[],g=l.translateToString(!0),D=0,M=0,O=0,R=l.getFg(0),T=l.getBg(0),L=0;L<l.getTrimmedLength();L++)if(l.loadCell(L,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==R||this._workCell.bg!==T){if(L-D>1)for(var N=this._getJoinedRanges(g,O,M,l,D),F=0;F<N.length;F++)h.push(N[F]);D=L,O=M,R=this._workCell.fg,T=this._workCell.bg}M+=this._workCell.getChars().length||E.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-D>1)for(N=this._getJoinedRanges(g,O,M,l,D),F=0;F<N.length;F++)h.push(N[F]);return h},c.prototype._getJoinedRanges=function(a,l,h,g,D){var M=a.substring(l,h),O=[];try{O=this._characterJoiners[0].handler(M)}catch(N){console.error(N)}for(var R=1;R<this._characterJoiners.length;R++)try{for(var T=this._characterJoiners[R].handler(M),L=0;L<T.length;L++)c._mergeRanges(O,T[L])}catch(N){console.error(N)}return this._stringRangesToCellRanges(O,g,D),O},c.prototype._stringRangesToCellRanges=function(a,l,h){var g=0,D=!1,M=0,O=a[g];if(O){for(var R=h;R<this._bufferService.cols;R++){var T=l.getWidth(R),L=l.getString(R).length||E.WHITESPACE_CELL_CHAR.length;if(0!==T){if(!D&&O[0]<=M&&(O[0]=R,D=!0),O[1]<=M){if(O[1]=R,!(O=a[++g]))break;O[0]<=M?(O[0]=R,D=!0):D=!1}M+=L}}O&&(O[1]=this._bufferService.cols)}},c._mergeRanges=function(a,l){for(var h=!1,g=0;g<a.length;g++){var D=a[g];if(h){if(l[1]<=D[0])return a[g-1][1]=l[1],a;if(l[1]<=D[1])return a[g-1][1]=Math.max(l[1],D[1]),a.splice(g,1),a;a.splice(g,1),g--}else{if(l[1]<=D[0])return a.splice(g,0,l),a;if(l[1]<=D[1])return D[0]=Math.min(l[0],D[0]),a;l[0]<D[1]&&(D[0]=Math.min(l[0],D[0]),h=!0)}}return h?a[a.length-1][1]=l[1]:a.push(l),a},c=w([C(0,v.IBufferService)],c)}();_.CharacterJoinerService=f},5114:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CoreBrowserService=void 0;var A=function(){function y(S){this._textarea=S}return Object.defineProperty(y.prototype,"isFocused",{get:function(){return(this._textarea.getRootNode?this._textarea.getRootNode():document).activeElement===this._textarea&&document.hasFocus()},enumerable:!1,configurable:!0}),y}();_.CoreBrowserService=A},7641:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.Decoration=_.DecorationService=void 0;var I=A(8460),E=A(844),p=A(2585),v=function(f){function c(a){var l=f.call(this)||this;return l._instantiationService=a,l._decorations=[],l}return S(c,f),c.prototype.attachToDom=function(a,l){var h=this;this._renderService=l,this._screenElement=a,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),a.appendChild(this._container),this.register(this._renderService.onRenderedBufferChange(function(){return h.refresh()})),this.register(this._renderService.onDimensionsChange(function(){return h.refresh(!0)}))},c.prototype.registerDecoration=function(a){var l=this;if(!a.marker.isDisposed&&this._container){var h=this._instantiationService.createInstance(b,a,this._container);return this._decorations.push(h),h.onDispose(function(){return l._decorations.splice(l._decorations.indexOf(h),1)}),this._queueRefresh(),h}},c.prototype._queueRefresh=function(){var a=this;void 0===this._animationFrame&&(this._animationFrame=window.requestAnimationFrame(function(){a.refresh(),a._animationFrame=void 0}))},c.prototype.refresh=function(a){if(this._renderService)for(var l=0,h=this._decorations;l<h.length;l++)h[l].render(this._renderService,a)},c.prototype.dispose=function(){for(var a=0,l=this._decorations;a<l.length;a++)l[a].dispose();this._screenElement&&this._container&&this._screenElement.contains(this._container)&&this._screenElement.removeChild(this._container)},w([C(0,p.IInstantiationService)],c)}(E.Disposable);_.DecorationService=v;var b=function(f){function c(a,l,h){var g,D=f.call(this)||this;return D._container=l,D._bufferService=h,D.isDisposed=!1,D._onDispose=new I.EventEmitter,D._onRender=new I.EventEmitter,D.x=null!==(g=a.x)&&void 0!==g?g:0,D._marker=a.marker,D._marker.onDispose(function(){return D.dispose()}),D.anchor=a.anchor||"left",D.width=a.width||1,D.height=a.height||1,D}return S(c,f),Object.defineProperty(c.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"marker",{get:function(){return this._marker},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),c.prototype.render=function(a,l){this._element&&!l||this._createElement(a,l),this._container&&this._element&&!this._container.contains(this._element)&&this._container.append(this._element),this._refreshStyle(a),this._element&&this._onRender.fire(this._element)},c.prototype._createElement=function(a,l){l&&this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this._element=document.createElement("div"),this._element.classList.add("xterm-decoration"),this._element.style.width=this.width*a.dimensions.actualCellWidth+"px",this._element.style.height=this.height*a.dimensions.actualCellHeight+"px",this._element.style.top=(this.marker.line-this._bufferService.buffers.active.ydisp)*a.dimensions.actualCellHeight+"px",this._element.style.lineHeight=a.dimensions.actualCellHeight+"px",this.x&&this.x>this._bufferService.cols&&(this._element.style.display="none"),"right"===this.anchor?this._element.style.right=this.x?this.x*a.dimensions.actualCellWidth+"px":"":this._element.style.left=this.x?this.x*a.dimensions.actualCellWidth+"px":""},c.prototype._refreshStyle=function(a){if(this._element){var l=this.marker.line-this._bufferService.buffers.active.ydisp;l<0||l>this._bufferService.rows?this._element.style.display="none":(this._element.style.top=l*a.dimensions.actualCellHeight+"px",this._element.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block")}},c.prototype.dispose=function(){this.isDisposed||(this._element&&this._container.contains(this._element)&&this._container.removeChild(this._element),this.isDisposed=!0,this._onDispose.fire())},w([C(2,p.IBufferService)],c)}(E.Disposable);_.Decoration=b},8934:function(Q,_,A){var y=this&&this.__decorate||function(E,p,v,b){var f,c=arguments.length,a=c<3?p:null===b?b=Object.getOwnPropertyDescriptor(p,v):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(E,p,v,b);else for(var l=E.length-1;l>=0;l--)(f=E[l])&&(a=(c<3?f(a):c>3?f(p,v,a):f(p,v))||a);return c>3&&a&&Object.defineProperty(p,v,a),a},S=this&&this.__param||function(E,p){return function(v,b){p(v,b,E)}};Object.defineProperty(_,"__esModule",{value:!0}),_.MouseService=void 0;var w=A(4725),C=A(9806),I=function(){function E(p,v){this._renderService=p,this._charSizeService=v}return E.prototype.getCoords=function(p,v,b,f,c){return(0,C.getCoords)(p,v,b,f,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,c)},E.prototype.getRawByteCoords=function(p,v,b,f){var c=this.getCoords(p,v,b,f);return(0,C.getRawByteCoords)(c)},y([S(0,w.IRenderService),S(1,w.ICharSizeService)],E)}();_.MouseService=I},3230:function(Q,_,A){var y,S=this&&this.__extends||(y=function(l,h){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,D){g.__proto__=D}||function(g,D){for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(g[M]=D[M])})(l,h)},function(l,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function g(){this.constructor=l}y(l,h),l.prototype=null===h?Object.create(h):(g.prototype=h.prototype,new g)}),w=this&&this.__decorate||function(l,h,g,D){var M,O=arguments.length,R=O<3?h:null===D?D=Object.getOwnPropertyDescriptor(h,g):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(l,h,g,D);else for(var T=l.length-1;T>=0;T--)(M=l[T])&&(R=(O<3?M(R):O>3?M(h,g,R):M(h,g))||R);return O>3&&R&&Object.defineProperty(h,g,R),R},C=this&&this.__param||function(l,h){return function(g,D){h(g,D,l)}};Object.defineProperty(_,"__esModule",{value:!0}),_.RenderService=void 0;var I=A(6193),E=A(8460),p=A(844),v=A(5596),b=A(3656),f=A(2585),c=A(4725),a=function(l){function h(g,D,M,O,R,T){var L=l.call(this)||this;if(L._renderer=g,L._rowCount=D,L._charSizeService=R,L._isPaused=!1,L._needsFullRefresh=!1,L._isNextRenderRedrawOnly=!0,L._needsSelectionRefresh=!1,L._canvasWidth=0,L._canvasHeight=0,L._selectionState={start:void 0,end:void 0,columnSelectMode:!1},L._onDimensionsChange=new E.EventEmitter,L._onRender=new E.EventEmitter,L._onRefreshRequest=new E.EventEmitter,L.register({dispose:function(){return L._renderer.dispose()}}),L._renderDebouncer=new I.RenderDebouncer(function(F,G){return L._renderRows(F,G)}),L.register(L._renderDebouncer),L._screenDprMonitor=new v.ScreenDprMonitor,L._screenDprMonitor.setListener(function(){return L.onDevicePixelRatioChange()}),L.register(L._screenDprMonitor),L.register(T.onResize(function(){return L._fullRefresh()})),L.register(T.buffers.onBufferActivate(function(){var F;return null===(F=L._renderer)||void 0===F?void 0:F.clear()})),L.register(O.onOptionChange(function(){return L._renderer.onOptionsChanged()})),L.register(L._charSizeService.onCharSizeChange(function(){return L.onCharSizeChanged()})),L._renderer.onRequestRedraw(function(F){return L.refreshRows(F.start,F.end,!0)}),L.register((0,b.addDisposableDomListener)(window,"resize",function(){return L.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var N=new IntersectionObserver(function(F){return L._onIntersectionChange(F[F.length-1])},{threshold:0});N.observe(M),L.register({dispose:function(){return N.disconnect()}})}return L}return S(h,l),Object.defineProperty(h.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRenderedBufferChange",{get:function(){return this._onRender.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!1,configurable:!0}),h.prototype._onIntersectionChange=function(g){this._isPaused=void 0===g.isIntersecting?0===g.intersectionRatio:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},h.prototype.refreshRows=function(g,D,M){void 0===M&&(M=!1),this._isPaused?this._needsFullRefresh=!0:(M||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,D,this._rowCount))},h.prototype._renderRows=function(g,D){this._renderer.renderRows(g,D),this._needsSelectionRefresh&&(this._renderer.onSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRender.fire({start:g,end:D}),this._isNextRenderRedrawOnly=!0},h.prototype.resize=function(g,D){this._rowCount=D,this._fireOnCanvasResize()},h.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},h.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},h.prototype.dispose=function(){l.prototype.dispose.call(this)},h.prototype.setRenderer=function(g){var D=this;this._renderer.dispose(),this._renderer=g,this._renderer.onRequestRedraw(function(M){return D.refreshRows(M.start,M.end,!0)}),this._needsSelectionRefresh=!0,this._fullRefresh()},h.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},h.prototype.clearTextureAtlas=function(){var g,D;null===(D=null===(g=this._renderer)||void 0===g?void 0:g.clearTextureAtlas)||void 0===D||D.call(g),this._fullRefresh()},h.prototype.setColors=function(g){this._renderer.setColors(g),this._fullRefresh()},h.prototype.onDevicePixelRatioChange=function(){this._charSizeService.measure(),this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},h.prototype.onResize=function(g,D){this._renderer.onResize(g,D),this._fullRefresh()},h.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},h.prototype.onBlur=function(){this._renderer.onBlur()},h.prototype.onFocus=function(){this._renderer.onFocus()},h.prototype.onSelectionChanged=function(g,D,M){this._selectionState.start=g,this._selectionState.end=D,this._selectionState.columnSelectMode=M,this._renderer.onSelectionChanged(g,D,M)},h.prototype.onCursorMove=function(){this._renderer.onCursorMove()},h.prototype.clear=function(){this._renderer.clear()},w([C(3,f.IOptionsService),C(4,c.ICharSizeService),C(5,f.IBufferService)],h)}(p.Disposable);_.RenderService=a},9312:function(Q,_,A){var y,S=this&&this.__extends||(y=function(O,R){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,L){T.__proto__=L}||function(T,L){for(var N in L)Object.prototype.hasOwnProperty.call(L,N)&&(T[N]=L[N])})(O,R)},function(O,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function T(){this.constructor=O}y(O,R),O.prototype=null===R?Object.create(R):(T.prototype=R.prototype,new T)}),w=this&&this.__decorate||function(O,R,T,L){var N,F=arguments.length,G=F<3?R:null===L?L=Object.getOwnPropertyDescriptor(R,T):L;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(O,R,T,L);else for(var U=O.length-1;U>=0;U--)(N=O[U])&&(G=(F<3?N(G):F>3?N(R,T,G):N(R,T))||G);return F>3&&G&&Object.defineProperty(R,T,G),G},C=this&&this.__param||function(O,R){return function(T,L){R(T,L,O)}};Object.defineProperty(_,"__esModule",{value:!0}),_.SelectionService=void 0;var I=A(6114),E=A(456),p=A(511),v=A(8460),b=A(4725),f=A(2585),c=A(9806),a=A(9504),l=A(844),h=A(4841),g=String.fromCharCode(160),D=new RegExp(g,"g"),M=function(O){function R(T,L,N,F,G,U,k,H){var $=O.call(this)||this;return $._element=T,$._screenElement=L,$._linkifier=N,$._bufferService=F,$._coreService=G,$._mouseService=U,$._optionsService=k,$._renderService=H,$._dragScrollAmount=0,$._enabled=!0,$._workCell=new p.CellData,$._mouseDownTimeStamp=0,$._oldHasSelection=!1,$._oldSelectionStart=void 0,$._oldSelectionEnd=void 0,$._onLinuxMouseSelection=$.register(new v.EventEmitter),$._onRedrawRequest=$.register(new v.EventEmitter),$._onSelectionChange=$.register(new v.EventEmitter),$._onRequestScrollLines=$.register(new v.EventEmitter),$._mouseMoveListener=function(K){return $._onMouseMove(K)},$._mouseUpListener=function(K){return $._onMouseUp(K)},$._coreService.onUserInput(function(){$.hasSelection&&$.clearSelection()}),$._trimListener=$._bufferService.buffer.lines.onTrim(function(K){return $._onTrim(K)}),$.register($._bufferService.buffers.onBufferActivate(function(K){return $._onBufferActivate(K)})),$.enable(),$._model=new E.SelectionModel($._bufferService),$._activeSelectionMode=0,$}return S(R,O),Object.defineProperty(R.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onRequestRedraw",{get:function(){return this._onRedrawRequest.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onRequestScrollLines",{get:function(){return this._onRequestScrollLines.event},enumerable:!1,configurable:!0}),R.prototype.dispose=function(){this._removeMouseDownListeners()},R.prototype.reset=function(){this.clearSelection()},R.prototype.disable=function(){this.clearSelection(),this._enabled=!1},R.prototype.enable=function(){this._enabled=!0},Object.defineProperty(R.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"hasSelection",{get:function(){var T=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!T||!L||T[0]===L[0]&&T[1]===L[1])},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"selectionText",{get:function(){var T=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;if(!T||!L)return"";var N=this._bufferService.buffer,F=[];if(3===this._activeSelectionMode){if(T[0]===L[0])return"";for(var G=T[1];G<=L[1];G++){var U=N.translateBufferLineToString(G,!0,T[0],L[0]);F.push(U)}}else{for(F.push(N.translateBufferLineToString(T[1],!0,T[0],T[1]===L[1]?L[0]:void 0)),G=T[1]+1;G<=L[1]-1;G++){var H=N.lines.get(G);U=N.translateBufferLineToString(G,!0),(null==H?void 0:H.isWrapped)?F[F.length-1]+=U:F.push(U)}T[1]!==L[1]&&(H=N.lines.get(L[1]),U=N.translateBufferLineToString(L[1],!0,0,L[0]),H&&H.isWrapped?F[F.length-1]+=U:F.push(U))}return F.map(function($){return $.replace(D," ")}).join(I.isWindows?"\r\n":"\n")},enumerable:!1,configurable:!0}),R.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},R.prototype.refresh=function(T){var L=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return L._refresh()})),I.isLinux&&T&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},R.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},R.prototype._isClickInSelection=function(T){var L=this._getMouseBufferCoords(T),N=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(N&&F&&L)&&this._areCoordsInSelection(L,N,F)},R.prototype._areCoordsInSelection=function(T,L,N){return T[1]>L[1]&&T[1]<N[1]||L[1]===N[1]&&T[1]===L[1]&&T[0]>=L[0]&&T[0]<N[0]||L[1]<N[1]&&T[1]===N[1]&&T[0]<N[0]||L[1]<N[1]&&T[1]===L[1]&&T[0]>=L[0]},R.prototype._selectWordAtCursor=function(T,L){var N,F,G=null===(F=null===(N=this._linkifier.currentLink)||void 0===N?void 0:N.link)||void 0===F?void 0:F.range;if(G)return this._model.selectionStart=[G.start.x-1,G.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(G,this._bufferService.cols),this._model.selectionEnd=void 0,!0;var U=this._getMouseBufferCoords(T);return!!U&&(this._selectWordAt(U,L),this._model.selectionEnd=void 0,!0)},R.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},R.prototype.selectLines=function(T,L){this._model.clearSelection(),T=Math.max(T,0),L=Math.min(L,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,T],this._model.selectionEnd=[this._bufferService.cols,L],this.refresh(),this._onSelectionChange.fire()},R.prototype._onTrim=function(T){this._model.onTrim(T)&&this.refresh()},R.prototype._getMouseBufferCoords=function(T){var L=this._mouseService.getCoords(T,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(L)return L[0]--,L[1]--,L[1]+=this._bufferService.buffer.ydisp,L},R.prototype._getMouseEventScrollAmount=function(T){var L=(0,c.getCoordsRelativeToElement)(T,this._screenElement)[1],N=this._renderService.dimensions.canvasHeight;return L>=0&&L<=N?0:(L>N&&(L-=N),L=Math.min(Math.max(L,-50),50),(L/=50)/Math.abs(L)+Math.round(14*L))},R.prototype.shouldForceSelection=function(T){return I.isMac?T.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:T.shiftKey},R.prototype.onMouseDown=function(T){if(this._mouseDownTimeStamp=T.timeStamp,(2!==T.button||!this.hasSelection)&&0===T.button){if(!this._enabled){if(!this.shouldForceSelection(T))return;T.stopPropagation()}T.preventDefault(),this._dragScrollAmount=0,this._enabled&&T.shiftKey?this._onIncrementalClick(T):1===T.detail?this._onSingleClick(T):2===T.detail?this._onDoubleClick(T):3===T.detail&&this._onTripleClick(T),this._addMouseDownListeners(),this.refresh(!0)}},R.prototype._addMouseDownListeners=function(){var T=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval(function(){return T._dragScroll()},50)},R.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},R.prototype._onIncrementalClick=function(T){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(T))},R.prototype._onSingleClick=function(T){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(T)?3:0,this._model.selectionStart=this._getMouseBufferCoords(T),this._model.selectionStart){this._model.selectionEnd=void 0;var L=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);L&&L.length!==this._model.selectionStart[0]&&0===L.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},R.prototype._onDoubleClick=function(T){this._selectWordAtCursor(T,!0)&&(this._activeSelectionMode=1)},R.prototype._onTripleClick=function(T){var L=this._getMouseBufferCoords(T);L&&(this._activeSelectionMode=2,this._selectLineAt(L[1]))},R.prototype.shouldColumnSelect=function(T){return T.altKey&&!(I.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)},R.prototype._onMouseMove=function(T){if(T.stopImmediatePropagation(),this._model.selectionStart){var L=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(T),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(T),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){var F=N.lines.get(this._model.selectionEnd[1]);F&&0===F.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}L&&L[0]===this._model.selectionEnd[0]&&L[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},R.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});var T=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(T.ydisp+this._bufferService.rows,T.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=T.ydisp),this.refresh()}},R.prototype._onMouseUp=function(T){var L=T.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&L<500&&T.altKey&&this._optionsService.getOption("altClickMovesCursor")){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var N=this._mouseService.getCoords(T,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&void 0!==N[0]&&void 0!==N[1]){var F=(0,a.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()},R.prototype._fireEventIfSelectionChanged=function(){var T=this._model.finalSelectionStart,L=this._model.finalSelectionEnd,N=!(!T||!L||T[0]===L[0]&&T[1]===L[1]);N?T&&L&&(this._oldSelectionStart&&this._oldSelectionEnd&&T[0]===this._oldSelectionStart[0]&&T[1]===this._oldSelectionStart[1]&&L[0]===this._oldSelectionEnd[0]&&L[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(T,L,N)):this._oldHasSelection&&this._fireOnSelectionChange(T,L,N)},R.prototype._fireOnSelectionChange=function(T,L,N){this._oldSelectionStart=T,this._oldSelectionEnd=L,this._oldHasSelection=N,this._onSelectionChange.fire()},R.prototype._onBufferActivate=function(T){var L=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=T.activeBuffer.lines.onTrim(function(N){return L._onTrim(N)})},R.prototype._convertViewportColToCharacterIndex=function(T,L){for(var N=L[0],F=0;L[0]>=F;F++){var G=T.loadCell(F,this._workCell).getChars().length;0===this._workCell.getWidth()?N--:G>1&&L[0]!==F&&(N+=G-1)}return N},R.prototype.setSelection=function(T,L,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[T,L],this._model.selectionStartLength=N,this.refresh()},R.prototype.rightClickSelect=function(T){this._isClickInSelection(T)||(this._selectWordAtCursor(T,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())},R.prototype._getWordAt=function(T,L,N,F){if(void 0===N&&(N=!0),void 0===F&&(F=!0),!(T[0]>=this._bufferService.cols)){var G=this._bufferService.buffer,U=G.lines.get(T[1]);if(U){var k=G.translateBufferLineToString(T[1],!1),H=this._convertViewportColToCharacterIndex(U,T),$=H,K=T[0]-H,te=0,ie=0,Ce=0,he=0;if(" "===k.charAt(H)){for(;H>0&&" "===k.charAt(H-1);)H--;for(;$<k.length&&" "===k.charAt($+1);)$++}else{var Pe=T[0],B=T[0];0===U.getWidth(Pe)&&(te++,Pe--),2===U.getWidth(B)&&(ie++,B++);var ee=U.getString(B).length;for(ee>1&&(he+=ee-1,$+=ee-1);Pe>0&&H>0&&!this._isCharWordSeparator(U.loadCell(Pe-1,this._workCell));){U.loadCell(Pe-1,this._workCell);var z=this._workCell.getChars().length;0===this._workCell.getWidth()?(te++,Pe--):z>1&&(Ce+=z-1,H-=z-1),H--,Pe--}for(;B<U.length&&$+1<k.length&&!this._isCharWordSeparator(U.loadCell(B+1,this._workCell));){U.loadCell(B+1,this._workCell);var q=this._workCell.getChars().length;2===this._workCell.getWidth()?(ie++,B++):q>1&&(he+=q-1,$+=q-1),$++,B++}}$++;var V=H+K-te+Ce,de=Math.min(this._bufferService.cols,$-H+te+ie-Ce-he);if(L||""!==k.slice(H,$).trim()){if(N&&0===V&&32!==U.getCodePoint(0)){var le=G.lines.get(T[1]-1);if(le&&U.isWrapped&&32!==le.getCodePoint(this._bufferService.cols-1)){var ge=this._getWordAt([this._bufferService.cols-1,T[1]-1],!1,!0,!1);if(ge){var ze=this._bufferService.cols-ge.start;V-=ze,de+=ze}}}if(F&&V+de===this._bufferService.cols&&32!==U.getCodePoint(this._bufferService.cols-1)){var qe=G.lines.get(T[1]+1);if((null==qe?void 0:qe.isWrapped)&&32!==qe.getCodePoint(0)){var zt=this._getWordAt([0,T[1]+1],!1,!1,!0);zt&&(de+=zt.length)}}return{start:V,length:de}}}}},R.prototype._selectWordAt=function(T,L){var N=this._getWordAt(T,L);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,T[1]--;this._model.selectionStart=[N.start,T[1]],this._model.selectionStartLength=N.length}},R.prototype._selectToWordAt=function(T){var L=this._getWordAt(T,!0);if(L){for(var N=T[1];L.start<0;)L.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;L.start+L.length>this._bufferService.cols;)L.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?L.start:L.start+L.length,N]}},R.prototype._isCharWordSeparator=function(T){return 0!==T.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(T.getChars())>=0},R.prototype._selectLineAt=function(T){var L=this._bufferService.buffer.getWrappedRangeForLine(T);this._model.selectionStart=[0,L.first],this._model.selectionEnd=[this._bufferService.cols,L.last],this._model.selectionStartLength=0},w([C(3,f.IBufferService),C(4,f.ICoreService),C(5,b.IMouseService),C(6,f.IOptionsService),C(7,b.IRenderService)],R)}(l.Disposable);_.SelectionService=M},4725:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.IDecorationService=_.ICharacterJoinerService=_.ISoundService=_.ISelectionService=_.IRenderService=_.IMouseService=_.ICoreBrowserService=_.ICharSizeService=void 0;var y=A(8343);_.ICharSizeService=(0,y.createDecorator)("CharSizeService"),_.ICoreBrowserService=(0,y.createDecorator)("CoreBrowserService"),_.IMouseService=(0,y.createDecorator)("MouseService"),_.IRenderService=(0,y.createDecorator)("RenderService"),_.ISelectionService=(0,y.createDecorator)("SelectionService"),_.ISoundService=(0,y.createDecorator)("SoundService"),_.ICharacterJoinerService=(0,y.createDecorator)("CharacterJoinerService"),_.IDecorationService=(0,y.createDecorator)("DecorationService")},357:function(Q,_,A){var y=this&&this.__decorate||function(I,E,p,v){var b,f=arguments.length,c=f<3?E:null===v?v=Object.getOwnPropertyDescriptor(E,p):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(I,E,p,v);else for(var a=I.length-1;a>=0;a--)(b=I[a])&&(c=(f<3?b(c):f>3?b(E,p,c):b(E,p))||c);return f>3&&c&&Object.defineProperty(E,p,c),c},S=this&&this.__param||function(I,E){return function(p,v){E(p,v,I)}};Object.defineProperty(_,"__esModule",{value:!0}),_.SoundService=void 0;var w=A(2585),C=function(){function I(E){this._optionsService=E}return Object.defineProperty(I,"audioContext",{get:function(){if(!I._audioContext){var E=window.AudioContext||window.webkitAudioContext;if(!E)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;I._audioContext=new E}return I._audioContext},enumerable:!1,configurable:!0}),I.prototype.playBellSound=function(){var E=I.audioContext;if(E){var p=E.createBufferSource();E.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.rawOptions.bellSound)),function(v){p.buffer=v,p.connect(E.destination),p.start(0)})}},I.prototype._base64ToArrayBuffer=function(E){for(var p=window.atob(E),v=p.length,b=new Uint8Array(v),f=0;f<v;f++)b[f]=p.charCodeAt(f);return b.buffer},I.prototype._removeMimeType=function(E){return E.split(",")[1]},I=y([S(0,w.IOptionsService)],I)}();_.SoundService=C},6349:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CircularList=void 0;var y=A(8460),S=function(){function w(C){this._maxLength=C,this.onDeleteEmitter=new y.EventEmitter,this.onInsertEmitter=new y.EventEmitter,this.onTrimEmitter=new y.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(w.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxLength",{get:function(){return this._maxLength},set:function(C){if(this._maxLength!==C){for(var I=new Array(C),E=0;E<Math.min(C,this.length);E++)I[E]=this._array[this._getCyclicIndex(E)];this._array=I,this._maxLength=C,this._startIndex=0}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"length",{get:function(){return this._length},set:function(C){if(C>this._length)for(var I=this._length;I<C;I++)this._array[I]=void 0;this._length=C},enumerable:!1,configurable:!0}),w.prototype.get=function(C){return this._array[this._getCyclicIndex(C)]},w.prototype.set=function(C,I){this._array[this._getCyclicIndex(C)]=I},w.prototype.push=function(C){this._array[this._getCyclicIndex(this._length)]=C,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},w.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(w.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!1,configurable:!0}),w.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},w.prototype.splice=function(C,I){for(var E=[],p=2;p<arguments.length;p++)E[p-2]=arguments[p];if(I){for(var v=C;v<this._length-I;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+I)];this._length-=I,this.onDeleteEmitter.fire({index:C,amount:I})}for(v=this._length-1;v>=C;v--)this._array[this._getCyclicIndex(v+E.length)]=this._array[this._getCyclicIndex(v)];for(v=0;v<E.length;v++)this._array[this._getCyclicIndex(C+v)]=E[v];if(E.length&&this.onInsertEmitter.fire({index:C,amount:E.length}),this._length+E.length>this._maxLength){var b=this._length+E.length-this._maxLength;this._startIndex+=b,this._length=this._maxLength,this.onTrimEmitter.fire(b)}else this._length+=E.length},w.prototype.trimStart=function(C){C>this._length&&(C=this._length),this._startIndex+=C,this._length-=C,this.onTrimEmitter.fire(C)},w.prototype.shiftElements=function(C,I,E){if(!(I<=0)){if(C<0||C>=this._length)throw new Error("start argument out of range");if(C+E<0)throw new Error("Cannot shift elements in list beyond index 0");if(E>0){for(var p=I-1;p>=0;p--)this.set(C+p+E,this.get(C+p));var v=C+I+E-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(p=0;p<I;p++)this.set(C+p+E,this.get(C+p))}},w.prototype._getCyclicIndex=function(C){return(this._startIndex+C)%this._maxLength},w}();_.CircularList=S},1439:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.clone=void 0,_.clone=function A(y,S){if(void 0===S&&(S=5),"object"!=typeof y)return y;var w=Array.isArray(y)?[]:{};for(var C in y)w[C]=S<=1?y[C]:y[C]&&A(y[C],S-1);return w}},8969:function(Q,_,A){var y,S=this&&this.__extends||(y=function(T,L){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,F){N.__proto__=F}||function(N,F){for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&(N[G]=F[G])})(T,L)},function(T,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function N(){this.constructor=T}y(T,L),T.prototype=null===L?Object.create(L):(N.prototype=L.prototype,new N)});Object.defineProperty(_,"__esModule",{value:!0}),_.CoreTerminal=void 0;var w=A(844),C=A(2585),I=A(4348),E=A(7866),p=A(744),v=A(7302),b=A(6975),f=A(8460),c=A(1753),a=A(3730),l=A(1480),h=A(7994),g=A(9282),D=A(5435),M=A(5981),O=!1,R=function(T){function L(N){var F=T.call(this)||this;return F._onBinary=new f.EventEmitter,F._onData=new f.EventEmitter,F._onLineFeed=new f.EventEmitter,F._onResize=new f.EventEmitter,F._onScroll=new f.EventEmitter,F._instantiationService=new I.InstantiationService,F.optionsService=new v.OptionsService(N),F._instantiationService.setService(C.IOptionsService,F.optionsService),F._bufferService=F.register(F._instantiationService.createInstance(p.BufferService)),F._instantiationService.setService(C.IBufferService,F._bufferService),F._logService=F._instantiationService.createInstance(E.LogService),F._instantiationService.setService(C.ILogService,F._logService),F.coreService=F.register(F._instantiationService.createInstance(b.CoreService,function(){return F.scrollToBottom()})),F._instantiationService.setService(C.ICoreService,F.coreService),F.coreMouseService=F._instantiationService.createInstance(c.CoreMouseService),F._instantiationService.setService(C.ICoreMouseService,F.coreMouseService),F._dirtyRowService=F._instantiationService.createInstance(a.DirtyRowService),F._instantiationService.setService(C.IDirtyRowService,F._dirtyRowService),F.unicodeService=F._instantiationService.createInstance(l.UnicodeService),F._instantiationService.setService(C.IUnicodeService,F.unicodeService),F._charsetService=F._instantiationService.createInstance(h.CharsetService),F._instantiationService.setService(C.ICharsetService,F._charsetService),F._inputHandler=new D.InputHandler(F._bufferService,F._charsetService,F.coreService,F._dirtyRowService,F._logService,F.optionsService,F.coreMouseService,F.unicodeService),F.register((0,f.forwardEvent)(F._inputHandler.onLineFeed,F._onLineFeed)),F.register(F._inputHandler),F.register((0,f.forwardEvent)(F._bufferService.onResize,F._onResize)),F.register((0,f.forwardEvent)(F.coreService.onData,F._onData)),F.register((0,f.forwardEvent)(F.coreService.onBinary,F._onBinary)),F.register(F.optionsService.onOptionChange(function(G){return F._updateOptions(G)})),F.register(F._bufferService.onScroll(function(G){F._onScroll.fire({position:F._bufferService.buffer.ydisp,source:0}),F._dirtyRowService.markRangeDirty(F._bufferService.buffer.scrollTop,F._bufferService.buffer.scrollBottom)})),F.register(F._inputHandler.onScroll(function(G){F._onScroll.fire({position:F._bufferService.buffer.ydisp,source:0}),F._dirtyRowService.markRangeDirty(F._bufferService.buffer.scrollTop,F._bufferService.buffer.scrollBottom)})),F._writeBuffer=new M.WriteBuffer(function(G,U){return F._inputHandler.parse(G,U)}),F}return S(L,T),Object.defineProperty(L.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"onScroll",{get:function(){var N=this;return this._onScrollApi||(this._onScrollApi=new f.EventEmitter,this.register(this._onScroll.event(function(F){var G;null===(G=N._onScrollApi)||void 0===G||G.fire(F.position)}))),this._onScrollApi.event},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"options",{get:function(){return this.optionsService.options},set:function(N){for(var F in N)this.optionsService.options[F]=N[F]},enumerable:!1,configurable:!0}),L.prototype.dispose=function(){var N;this._isDisposed||(T.prototype.dispose.call(this),null===(N=this._windowsMode)||void 0===N||N.dispose(),this._windowsMode=void 0)},L.prototype.write=function(N,F){this._writeBuffer.write(N,F)},L.prototype.writeSync=function(N,F){this._logService.logLevel<=C.LogLevelEnum.WARN&&!O&&(this._logService.warn("writeSync is unreliable and will be removed soon."),O=!0),this._writeBuffer.writeSync(N,F)},L.prototype.resize=function(N,F){isNaN(N)||isNaN(F)||(N=Math.max(N,p.MINIMUM_COLS),F=Math.max(F,p.MINIMUM_ROWS),this._bufferService.resize(N,F))},L.prototype.scroll=function(N,F){void 0===F&&(F=!1),this._bufferService.scroll(N,F)},L.prototype.scrollLines=function(N,F,G){this._bufferService.scrollLines(N,F,G)},L.prototype.scrollPages=function(N){this._bufferService.scrollPages(N)},L.prototype.scrollToTop=function(){this._bufferService.scrollToTop()},L.prototype.scrollToBottom=function(){this._bufferService.scrollToBottom()},L.prototype.scrollToLine=function(N){this._bufferService.scrollToLine(N)},L.prototype.registerEscHandler=function(N,F){return this._inputHandler.registerEscHandler(N,F)},L.prototype.registerDcsHandler=function(N,F){return this._inputHandler.registerDcsHandler(N,F)},L.prototype.registerCsiHandler=function(N,F){return this._inputHandler.registerCsiHandler(N,F)},L.prototype.registerOscHandler=function(N,F){return this._inputHandler.registerOscHandler(N,F)},L.prototype._setup=function(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()},L.prototype.reset=function(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()},L.prototype._updateOptions=function(N){var F;switch(N){case"scrollback":this.buffers.resize(this.cols,this.rows);break;case"windowsMode":this.optionsService.rawOptions.windowsMode?this._enableWindowsMode():(null===(F=this._windowsMode)||void 0===F||F.dispose(),this._windowsMode=void 0)}},L.prototype._enableWindowsMode=function(){var N=this;if(!this._windowsMode){var F=[];F.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},function(){return(0,g.updateWindowsModeWrappedState)(N._bufferService),!1})),this._windowsMode={dispose:function(){for(var G=0,U=F;G<U.length;G++)U[G].dispose()}}}},L}(w.Disposable);_.CoreTerminal=R},8460:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.forwardEvent=_.EventEmitter=void 0;var A=function(){function y(){this._listeners=[],this._disposed=!1}return Object.defineProperty(y.prototype,"event",{get:function(){var S=this;return this._event||(this._event=function(w){return S._listeners.push(w),{dispose:function(){if(!S._disposed)for(var C=0;C<S._listeners.length;C++)if(S._listeners[C]===w)return void S._listeners.splice(C,1)}}}),this._event},enumerable:!1,configurable:!0}),y.prototype.fire=function(S,w){for(var C=[],I=0;I<this._listeners.length;I++)C.push(this._listeners[I]);for(I=0;I<C.length;I++)C[I].call(void 0,S,w)},y.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},y}();_.EventEmitter=A,_.forwardEvent=function(y,S){return y(function(w){return S.fire(w)})}},5435:function(Q,_,A){var y,S=this&&this.__extends||(y=function(G,U){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,H){k.__proto__=H}||function(k,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(k[$]=H[$])})(G,U)},function(G,U){if("function"!=typeof U&&null!==U)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function k(){this.constructor=G}y(G,U),G.prototype=null===U?Object.create(U):(k.prototype=U.prototype,new k)});Object.defineProperty(_,"__esModule",{value:!0}),_.InputHandler=_.WindowsOptionsReportType=void 0;var w,G,C=A(2584),I=A(7116),E=A(2015),p=A(844),v=A(8273),b=A(482),f=A(8437),c=A(8460),a=A(643),l=A(511),h=A(3734),g=A(2585),D=A(6242),M=A(6351),O=A(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function L(G,U){if(G>24)return U.setWinLines||!1;switch(G){case 1:return!!U.restoreWin;case 2:return!!U.minimizeWin;case 3:return!!U.setWinPosition;case 4:return!!U.setWinSizePixels;case 5:return!!U.raiseWin;case 6:return!!U.lowerWin;case 7:return!!U.refreshWin;case 8:return!!U.setWinSizeChars;case 9:return!!U.maximizeWin;case 10:return!!U.fullscreenWin;case 11:return!!U.getWinState;case 13:return!!U.getWinPosition;case 14:return!!U.getWinSizePixels;case 15:return!!U.getScreenSizePixels;case 16:return!!U.getCellSizePixels;case 18:return!!U.getWinSizeChars;case 19:return!!U.getScreenSizeChars;case 20:return!!U.getIconTitle;case 21:return!!U.getWinTitle;case 22:return!!U.pushTitle;case 23:return!!U.popTitle;case 24:return!!U.setWinLines}return!1}(G=w=_.WindowsOptionsReportType||(_.WindowsOptionsReportType={}))[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";var N=function(){function G(U,k,H,$){this._bufferService=U,this._coreService=k,this._logService=H,this._optionsService=$,this._data=new Uint32Array(0)}return G.prototype.hook=function(U){this._data=new Uint32Array(0)},G.prototype.put=function(U,k,H){this._data=(0,v.concat)(this._data,U.subarray(k,H))},G.prototype.unhook=function(U){if(!U)return this._data=new Uint32Array(0),!0;var k=(0,b.utf32ToString)(this._data);switch(this._data=new Uint32Array(0),k){case'"q':this._coreService.triggerDataEvent(C.C0.ESC+'P1$r0"q'+C.C0.ESC+"\\");break;case'"p':this._coreService.triggerDataEvent(C.C0.ESC+'P1$r61;1"p'+C.C0.ESC+"\\");break;case"r":this._coreService.triggerDataEvent(C.C0.ESC+"P1$r"+(this._bufferService.buffer.scrollTop+1)+";"+(this._bufferService.buffer.scrollBottom+1)+"r"+C.C0.ESC+"\\");break;case"m":this._coreService.triggerDataEvent(C.C0.ESC+"P1$r0m"+C.C0.ESC+"\\");break;case" q":var $={block:2,underline:4,bar:6}[this._optionsService.rawOptions.cursorStyle];this._coreService.triggerDataEvent(C.C0.ESC+"P1$r"+($-=this._optionsService.rawOptions.cursorBlink?1:0)+" q"+C.C0.ESC+"\\");break;default:this._logService.debug("Unknown DCS $q %s",k),this._coreService.triggerDataEvent(C.C0.ESC+"P0$r"+C.C0.ESC+"\\")}return!0},G}(),F=function(G){function U(k,H,$,K,te,ie,Ce,he,Pe){void 0===Pe&&(Pe=new E.EscapeSequenceParser);var B=G.call(this)||this;B._bufferService=k,B._charsetService=H,B._coreService=$,B._dirtyRowService=K,B._logService=te,B._optionsService=ie,B._coreMouseService=Ce,B._unicodeService=he,B._parser=Pe,B._parseBuffer=new Uint32Array(4096),B._stringDecoder=new b.StringToUtf32,B._utf8Decoder=new b.Utf8ToUtf32,B._workCell=new l.CellData,B._windowTitle="",B._iconName="",B._windowTitleStack=[],B._iconNameStack=[],B._curAttrData=f.DEFAULT_ATTR_DATA.clone(),B._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone(),B._onRequestBell=new c.EventEmitter,B._onRequestRefreshRows=new c.EventEmitter,B._onRequestReset=new c.EventEmitter,B._onRequestSendFocus=new c.EventEmitter,B._onRequestSyncScrollBar=new c.EventEmitter,B._onRequestWindowsOptionsReport=new c.EventEmitter,B._onA11yChar=new c.EventEmitter,B._onA11yTab=new c.EventEmitter,B._onCursorMove=new c.EventEmitter,B._onLineFeed=new c.EventEmitter,B._onScroll=new c.EventEmitter,B._onTitleChange=new c.EventEmitter,B._onColor=new c.EventEmitter,B._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},B._specialColors=[256,257,258],B.register(B._parser),B._activeBuffer=B._bufferService.buffer,B.register(B._bufferService.buffers.onBufferActivate(function(V){return B._activeBuffer=V.activeBuffer})),B._parser.setCsiHandlerFallback(function(V,de){B._logService.debug("Unknown CSI code: ",{identifier:B._parser.identToString(V),params:de.toArray()})}),B._parser.setEscHandlerFallback(function(V){B._logService.debug("Unknown ESC code: ",{identifier:B._parser.identToString(V)})}),B._parser.setExecuteHandlerFallback(function(V){B._logService.debug("Unknown EXECUTE code: ",{code:V})}),B._parser.setOscHandlerFallback(function(V,de,le){B._logService.debug("Unknown OSC code: ",{identifier:V,action:de,data:le})}),B._parser.setDcsHandlerFallback(function(V,de,le){"HOOK"===de&&(le=le.toArray()),B._logService.debug("Unknown DCS code: ",{identifier:B._parser.identToString(V),action:de,payload:le})}),B._parser.setPrintHandler(function(V,de,le){return B.print(V,de,le)}),B._parser.registerCsiHandler({final:"@"},function(V){return B.insertChars(V)}),B._parser.registerCsiHandler({intermediates:" ",final:"@"},function(V){return B.scrollLeft(V)}),B._parser.registerCsiHandler({final:"A"},function(V){return B.cursorUp(V)}),B._parser.registerCsiHandler({intermediates:" ",final:"A"},function(V){return B.scrollRight(V)}),B._parser.registerCsiHandler({final:"B"},function(V){return B.cursorDown(V)}),B._parser.registerCsiHandler({final:"C"},function(V){return B.cursorForward(V)}),B._parser.registerCsiHandler({final:"D"},function(V){return B.cursorBackward(V)}),B._parser.registerCsiHandler({final:"E"},function(V){return B.cursorNextLine(V)}),B._parser.registerCsiHandler({final:"F"},function(V){return B.cursorPrecedingLine(V)}),B._parser.registerCsiHandler({final:"G"},function(V){return B.cursorCharAbsolute(V)}),B._parser.registerCsiHandler({final:"H"},function(V){return B.cursorPosition(V)}),B._parser.registerCsiHandler({final:"I"},function(V){return B.cursorForwardTab(V)}),B._parser.registerCsiHandler({final:"J"},function(V){return B.eraseInDisplay(V)}),B._parser.registerCsiHandler({prefix:"?",final:"J"},function(V){return B.eraseInDisplay(V)}),B._parser.registerCsiHandler({final:"K"},function(V){return B.eraseInLine(V)}),B._parser.registerCsiHandler({prefix:"?",final:"K"},function(V){return B.eraseInLine(V)}),B._parser.registerCsiHandler({final:"L"},function(V){return B.insertLines(V)}),B._parser.registerCsiHandler({final:"M"},function(V){return B.deleteLines(V)}),B._parser.registerCsiHandler({final:"P"},function(V){return B.deleteChars(V)}),B._parser.registerCsiHandler({final:"S"},function(V){return B.scrollUp(V)}),B._parser.registerCsiHandler({final:"T"},function(V){return B.scrollDown(V)}),B._parser.registerCsiHandler({final:"X"},function(V){return B.eraseChars(V)}),B._parser.registerCsiHandler({final:"Z"},function(V){return B.cursorBackwardTab(V)}),B._parser.registerCsiHandler({final:"`"},function(V){return B.charPosAbsolute(V)}),B._parser.registerCsiHandler({final:"a"},function(V){return B.hPositionRelative(V)}),B._parser.registerCsiHandler({final:"b"},function(V){return B.repeatPrecedingCharacter(V)}),B._parser.registerCsiHandler({final:"c"},function(V){return B.sendDeviceAttributesPrimary(V)}),B._parser.registerCsiHandler({prefix:">",final:"c"},function(V){return B.sendDeviceAttributesSecondary(V)}),B._parser.registerCsiHandler({final:"d"},function(V){return B.linePosAbsolute(V)}),B._parser.registerCsiHandler({final:"e"},function(V){return B.vPositionRelative(V)}),B._parser.registerCsiHandler({final:"f"},function(V){return B.hVPosition(V)}),B._parser.registerCsiHandler({final:"g"},function(V){return B.tabClear(V)}),B._parser.registerCsiHandler({final:"h"},function(V){return B.setMode(V)}),B._parser.registerCsiHandler({prefix:"?",final:"h"},function(V){return B.setModePrivate(V)}),B._parser.registerCsiHandler({final:"l"},function(V){return B.resetMode(V)}),B._parser.registerCsiHandler({prefix:"?",final:"l"},function(V){return B.resetModePrivate(V)}),B._parser.registerCsiHandler({final:"m"},function(V){return B.charAttributes(V)}),B._parser.registerCsiHandler({final:"n"},function(V){return B.deviceStatus(V)}),B._parser.registerCsiHandler({prefix:"?",final:"n"},function(V){return B.deviceStatusPrivate(V)}),B._parser.registerCsiHandler({intermediates:"!",final:"p"},function(V){return B.softReset(V)}),B._parser.registerCsiHandler({intermediates:" ",final:"q"},function(V){return B.setCursorStyle(V)}),B._parser.registerCsiHandler({final:"r"},function(V){return B.setScrollRegion(V)}),B._parser.registerCsiHandler({final:"s"},function(V){return B.saveCursor(V)}),B._parser.registerCsiHandler({final:"t"},function(V){return B.windowOptions(V)}),B._parser.registerCsiHandler({final:"u"},function(V){return B.restoreCursor(V)}),B._parser.registerCsiHandler({intermediates:"'",final:"}"},function(V){return B.insertColumns(V)}),B._parser.registerCsiHandler({intermediates:"'",final:"~"},function(V){return B.deleteColumns(V)}),B._parser.setExecuteHandler(C.C0.BEL,function(){return B.bell()}),B._parser.setExecuteHandler(C.C0.LF,function(){return B.lineFeed()}),B._parser.setExecuteHandler(C.C0.VT,function(){return B.lineFeed()}),B._parser.setExecuteHandler(C.C0.FF,function(){return B.lineFeed()}),B._parser.setExecuteHandler(C.C0.CR,function(){return B.carriageReturn()}),B._parser.setExecuteHandler(C.C0.BS,function(){return B.backspace()}),B._parser.setExecuteHandler(C.C0.HT,function(){return B.tab()}),B._parser.setExecuteHandler(C.C0.SO,function(){return B.shiftOut()}),B._parser.setExecuteHandler(C.C0.SI,function(){return B.shiftIn()}),B._parser.setExecuteHandler(C.C1.IND,function(){return B.index()}),B._parser.setExecuteHandler(C.C1.NEL,function(){return B.nextLine()}),B._parser.setExecuteHandler(C.C1.HTS,function(){return B.tabSet()}),B._parser.registerOscHandler(0,new D.OscHandler(function(V){return B.setTitle(V),B.setIconName(V),!0})),B._parser.registerOscHandler(1,new D.OscHandler(function(V){return B.setIconName(V)})),B._parser.registerOscHandler(2,new D.OscHandler(function(V){return B.setTitle(V)})),B._parser.registerOscHandler(4,new D.OscHandler(function(V){return B.setOrReportIndexedColor(V)})),B._parser.registerOscHandler(10,new D.OscHandler(function(V){return B.setOrReportFgColor(V)})),B._parser.registerOscHandler(11,new D.OscHandler(function(V){return B.setOrReportBgColor(V)})),B._parser.registerOscHandler(12,new D.OscHandler(function(V){return B.setOrReportCursorColor(V)})),B._parser.registerOscHandler(104,new D.OscHandler(function(V){return B.restoreIndexedColor(V)})),B._parser.registerOscHandler(110,new D.OscHandler(function(V){return B.restoreFgColor(V)})),B._parser.registerOscHandler(111,new D.OscHandler(function(V){return B.restoreBgColor(V)})),B._parser.registerOscHandler(112,new D.OscHandler(function(V){return B.restoreCursorColor(V)})),B._parser.registerEscHandler({final:"7"},function(){return B.saveCursor()}),B._parser.registerEscHandler({final:"8"},function(){return B.restoreCursor()}),B._parser.registerEscHandler({final:"D"},function(){return B.index()}),B._parser.registerEscHandler({final:"E"},function(){return B.nextLine()}),B._parser.registerEscHandler({final:"H"},function(){return B.tabSet()}),B._parser.registerEscHandler({final:"M"},function(){return B.reverseIndex()}),B._parser.registerEscHandler({final:"="},function(){return B.keypadApplicationMode()}),B._parser.registerEscHandler({final:">"},function(){return B.keypadNumericMode()}),B._parser.registerEscHandler({final:"c"},function(){return B.fullReset()}),B._parser.registerEscHandler({final:"n"},function(){return B.setgLevel(2)}),B._parser.registerEscHandler({final:"o"},function(){return B.setgLevel(3)}),B._parser.registerEscHandler({final:"|"},function(){return B.setgLevel(3)}),B._parser.registerEscHandler({final:"}"},function(){return B.setgLevel(2)}),B._parser.registerEscHandler({final:"~"},function(){return B.setgLevel(1)}),B._parser.registerEscHandler({intermediates:"%",final:"@"},function(){return B.selectDefaultCharset()}),B._parser.registerEscHandler({intermediates:"%",final:"G"},function(){return B.selectDefaultCharset()});var ee=function(V){z._parser.registerEscHandler({intermediates:"(",final:V},function(){return B.selectCharset("("+V)}),z._parser.registerEscHandler({intermediates:")",final:V},function(){return B.selectCharset(")"+V)}),z._parser.registerEscHandler({intermediates:"*",final:V},function(){return B.selectCharset("*"+V)}),z._parser.registerEscHandler({intermediates:"+",final:V},function(){return B.selectCharset("+"+V)}),z._parser.registerEscHandler({intermediates:"-",final:V},function(){return B.selectCharset("-"+V)}),z._parser.registerEscHandler({intermediates:".",final:V},function(){return B.selectCharset("."+V)}),z._parser.registerEscHandler({intermediates:"/",final:V},function(){return B.selectCharset("/"+V)})},z=this;for(var q in I.CHARSETS)ee(q);return B._parser.registerEscHandler({intermediates:"#",final:"8"},function(){return B.screenAlignmentPattern()}),B._parser.setErrorHandler(function(V){return B._logService.error("Parsing error: ",V),V}),B._parser.registerDcsHandler({intermediates:"$",final:"q"},new N(B._bufferService,B._coreService,B._logService,B._optionsService)),B}return S(U,G),Object.defineProperty(U.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onRequestSendFocus",{get:function(){return this._onRequestSendFocus.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onRequestSyncScrollBar",{get:function(){return this._onRequestSyncScrollBar.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onRequestWindowsOptionsReport",{get:function(){return this._onRequestWindowsOptionsReport.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onA11yChar",{get:function(){return this._onA11yChar.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onA11yTab",{get:function(){return this._onA11yTab.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"onColor",{get:function(){return this._onColor.event},enumerable:!1,configurable:!0}),U.prototype.dispose=function(){G.prototype.dispose.call(this)},U.prototype._preserveStack=function(k,H,$,K){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=H,this._parseStack.decodedLength=$,this._parseStack.position=K},U.prototype._logSlowResolvingAsync=function(k){this._logService.logLevel<=g.LogLevelEnum.WARN&&Promise.race([k,new Promise(function(H,$){return setTimeout(function(){return $("#SLOW_TIMEOUT")},5e3)})]).catch(function(H){if("#SLOW_TIMEOUT"!==H)throw H;console.warn("async parser handler taking longer than 5000 ms")})},U.prototype.parse=function(k,H){var $,K=this._activeBuffer.x,te=this._activeBuffer.y,ie=0,Ce=this._parseStack.paused;if(Ce){if($=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,H))return this._logSlowResolvingAsync($),$;K=this._parseStack.cursorStartX,te=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>T&&(ie=this._parseStack.position+T)}if(this._logService.logLevel<=g.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof k?' "'+k+'"':' "'+Array.prototype.map.call(k,function(ee){return String.fromCharCode(ee)}).join("")+'"'),"string"==typeof k?k.split("").map(function(ee){return ee.charCodeAt(0)}):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(k.length,T))),Ce||this._dirtyRowService.clearRange(),k.length>T)for(var he=ie;he<k.length;he+=T){var Pe=he+T<k.length?he+T:k.length,B="string"==typeof k?this._stringDecoder.decode(k.substring(he,Pe),this._parseBuffer):this._utf8Decoder.decode(k.subarray(he,Pe),this._parseBuffer);if($=this._parser.parse(this._parseBuffer,B))return this._preserveStack(K,te,B,he),this._logSlowResolvingAsync($),$}else if(!Ce&&(B="string"==typeof k?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer),$=this._parser.parse(this._parseBuffer,B)))return this._preserveStack(K,te,B,0),this._logSlowResolvingAsync($),$;this._activeBuffer.x===K&&this._activeBuffer.y===te||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},U.prototype.print=function(k,H,$){var K,te,ie=this._charsetService.charset,Ce=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,Pe=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,ee=this._curAttrData,z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowService.markDirty(this._activeBuffer.y),this._activeBuffer.x&&$-H>0&&2===z.getWidth(this._activeBuffer.x-1)&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,ee.fg,ee.bg,ee.extended);for(var q=H;q<$;++q){if(te=this._unicodeService.wcwidth(K=k[q]),K<127&&ie){var V=ie[String.fromCharCode(K)];V&&(K=V.charCodeAt(0))}if(Ce&&this._onA11yChar.fire((0,b.stringFromCodePoint)(K)),te||!this._activeBuffer.x){if(this._activeBuffer.x+te-1>=he)if(Pe){for(;this._activeBuffer.x<he;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,ee.fg,ee.bg,ee.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=he-1,2===te)continue;if(B&&(z.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(ee),ee),2===z.getWidth(he-1)&&z.setCellFromCodePoint(he-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,ee.fg,ee.bg,ee.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,K,te,ee.fg,ee.bg,ee.extended),te>0)for(;--te;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,ee.fg,ee.bg,ee.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,K):z.addCodepointToCell(this._activeBuffer.x-2,K)}$-H>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<he&&$-H>0&&0===z.getWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,ee.fg,ee.bg,ee.extended),this._dirtyRowService.markDirty(this._activeBuffer.y)},U.prototype.registerCsiHandler=function(k,H){var $=this;return this._parser.registerCsiHandler(k,"t"!==k.final||k.prefix||k.intermediates?H:function(K){return!L(K.params[0],$._optionsService.rawOptions.windowOptions)||H(K)})},U.prototype.registerDcsHandler=function(k,H){return this._parser.registerDcsHandler(k,new M.DcsHandler(H))},U.prototype.registerEscHandler=function(k,H){return this._parser.registerEscHandler(k,H)},U.prototype.registerOscHandler=function(k,H){return this._parser.registerOscHandler(k,new D.OscHandler(H))},U.prototype.bell=function(){return this._onRequestBell.fire(),!0},U.prototype.lineFeed=function(){return this._dirtyRowService.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowService.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0},U.prototype.carriageReturn=function(){return this._activeBuffer.x=0,!0},U.prototype.backspace=function(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===k?void 0:k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;var H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);H.hasWidth(this._activeBuffer.x)&&!H.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0},U.prototype.tab=function(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;var k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0},U.prototype.shiftOut=function(){return this._charsetService.setgLevel(1),!0},U.prototype.shiftIn=function(){return this._charsetService.setgLevel(0),!0},U.prototype._restrictCursor=function(k){void 0===k&&(k=this._bufferService.cols-1),this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowService.markDirty(this._activeBuffer.y)},U.prototype._setCursor=function(k,H){this._dirtyRowService.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+H):(this._activeBuffer.x=k,this._activeBuffer.y=H),this._restrictCursor(),this._dirtyRowService.markDirty(this._activeBuffer.y)},U.prototype._moveCursor=function(k,H){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+H)},U.prototype.cursorUp=function(k){var H=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,H>=0?-Math.min(H,k.params[0]||1):-(k.params[0]||1)),!0},U.prototype.cursorDown=function(k){var H=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,H>=0?Math.min(H,k.params[0]||1):k.params[0]||1),!0},U.prototype.cursorForward=function(k){return this._moveCursor(k.params[0]||1,0),!0},U.prototype.cursorBackward=function(k){return this._moveCursor(-(k.params[0]||1),0),!0},U.prototype.cursorNextLine=function(k){return this.cursorDown(k),this._activeBuffer.x=0,!0},U.prototype.cursorPrecedingLine=function(k){return this.cursorUp(k),this._activeBuffer.x=0,!0},U.prototype.cursorCharAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},U.prototype.cursorPosition=function(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0},U.prototype.charPosAbsolute=function(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0},U.prototype.hPositionRelative=function(k){return this._moveCursor(k.params[0]||1,0),!0},U.prototype.linePosAbsolute=function(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0},U.prototype.vPositionRelative=function(k){return this._moveCursor(0,k.params[0]||1),!0},U.prototype.hVPosition=function(k){return this.cursorPosition(k),!0},U.prototype.tabClear=function(k){var H=k.params[0];return 0===H?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===H&&(this._activeBuffer.tabs={}),!0},U.prototype.cursorForwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var H=k.params[0]||1;H--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0},U.prototype.cursorBackwardTab=function(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;for(var H=k.params[0]||1;H--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0},U.prototype._eraseInBufferLine=function(k,H,$,K){void 0===K&&(K=!1);var te=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);te.replaceCells(H,$,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),K&&(te.isWrapped=!1)},U.prototype._resetBufferLine=function(k){var H=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);H.fill(this._activeBuffer.getNullCell(this._eraseAttrData())),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),H.isWrapped=!1},U.prototype.eraseInDisplay=function(k){var H;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(this._dirtyRowService.markDirty(H=this._activeBuffer.y),this._eraseInBufferLine(H++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);H<this._bufferService.rows;H++)this._resetBufferLine(H);this._dirtyRowService.markDirty(H);break;case 1:for(this._dirtyRowService.markDirty(H=this._activeBuffer.y),this._eraseInBufferLine(H,0,this._activeBuffer.x+1,!0),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(H+1).isWrapped=!1);H--;)this._resetBufferLine(H);this._dirtyRowService.markDirty(0);break;case 2:for(this._dirtyRowService.markDirty((H=this._bufferService.rows)-1);H--;)this._resetBufferLine(H);this._dirtyRowService.markDirty(0);break;case 3:var $=this._activeBuffer.lines.length-this._bufferService.rows;$>0&&(this._activeBuffer.lines.trimStart($),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-$,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-$,0),this._onScroll.fire(0))}return!0},U.prototype.eraseInLine=function(k){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0)}return this._dirtyRowService.markDirty(this._activeBuffer.y),!0},U.prototype.insertLines=function(k){this._restrictCursor();var H=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var $=this._activeBuffer.ybase+this._activeBuffer.y,te=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;H--;)this._activeBuffer.lines.splice(te-1,1),this._activeBuffer.lines.splice($,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},U.prototype.deleteLines=function(k){this._restrictCursor();var H=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;var $,K=this._activeBuffer.ybase+this._activeBuffer.y;for($=this._bufferService.rows-1+this._activeBuffer.ybase-($=this._bufferService.rows-1-this._activeBuffer.scrollBottom);H--;)this._activeBuffer.lines.splice(K,1),this._activeBuffer.lines.splice($,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0},U.prototype.insertChars=function(k){this._restrictCursor();var H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},U.prototype.deleteChars=function(k){this._restrictCursor();var H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},U.prototype.scrollUp=function(k){for(var H=k.params[0]||1;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.scrollDown=function(k){for(var H=k.params[0]||1;H--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(f.DEFAULT_ATTR_DATA));return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.scrollLeft=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var H=k.params[0]||1,$=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);K.deleteCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),K.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.scrollRight=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var H=k.params[0]||1,$=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);K.insertCells(0,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),K.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.insertColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var H=k.params[0]||1,$=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);K.insertCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),K.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.deleteColumns=function(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;for(var H=k.params[0]||1,$=this._activeBuffer.scrollTop;$<=this._activeBuffer.scrollBottom;++$){var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+$);K.deleteCells(this._activeBuffer.x,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),K.isWrapped=!1}return this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0},U.prototype.eraseChars=function(k){this._restrictCursor();var H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return H&&(H.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._activeBuffer.y)),!0},U.prototype.repeatPrecedingCharacter=function(k){if(!this._parser.precedingCodepoint)return!0;for(var H=k.params[0]||1,$=new Uint32Array(H),K=0;K<H;++K)$[K]=this._parser.precedingCodepoint;return this.print($,0,$.length),!0},U.prototype.sendDeviceAttributesPrimary=function(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(C.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(C.C0.ESC+"[?6c")),!0},U.prototype.sendDeviceAttributesSecondary=function(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(C.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(C.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(C.C0.ESC+"[>83;40003;0c")),!0},U.prototype._is=function(k){return 0===(this._optionsService.rawOptions.termName+"").indexOf(k)},U.prototype.setMode=function(k){for(var H=0;H<k.length;H++)4===k.params[H]&&(this._coreService.modes.insertMode=!0);return!0},U.prototype.setModePrivate=function(k){for(var H=0;H<k.length;H++)switch(k.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,I.DEFAULT_CHARSET),this._charsetService.setgCharset(1,I.DEFAULT_CHARSET),this._charsetService.setgCharset(2,I.DEFAULT_CHARSET),this._charsetService.setgCharset(3,I.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0},U.prototype.resetMode=function(k){for(var H=0;H<k.length;H++)4===k.params[H]&&(this._coreService.modes.insertMode=!1);return!0},U.prototype.resetModePrivate=function(k){for(var H=0;H<k.length;H++)switch(k.params[H]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===k.params[H]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0},U.prototype._updateAttrColor=function(k,H,$,K,te){return 2===H?(k|=50331648,k&=-16777216,k|=h.AttributeData.fromColorRGB([$,K,te])):5===H&&(k&=-50331904,k|=33554432|255&$),k},U.prototype._extractColor=function(k,H,$){var K=[0,0,-1,0,0,0],te=0,ie=0;do{if(K[ie+te]=k.params[H+ie],k.hasSubParams(H+ie)){var Ce=k.getSubParams(H+ie),he=0;do{5===K[1]&&(te=1),K[ie+he+1+te]=Ce[he]}while(++he<Ce.length&&he+ie+1+te<K.length);break}if(5===K[1]&&ie+te>=2||2===K[1]&&ie+te>=5)break;K[1]&&(te=1)}while(++ie+H<k.length&&ie+te<K.length);for(he=2;he<K.length;++he)-1===K[he]&&(K[he]=0);switch(K[0]){case 38:$.fg=this._updateAttrColor($.fg,K[1],K[3],K[4],K[5]);break;case 48:$.bg=this._updateAttrColor($.bg,K[1],K[3],K[4],K[5]);break;case 58:$.extended=$.extended.clone(),$.extended.underlineColor=this._updateAttrColor($.extended.underlineColor,K[1],K[3],K[4],K[5])}return ie},U.prototype._processUnderline=function(k,H){H.extended=H.extended.clone(),(!~k||k>5)&&(k=1),H.extended.underlineStyle=k,H.fg|=268435456,0===k&&(H.fg&=-268435457),H.updateExtended()},U.prototype.charAttributes=function(k){if(1===k.length&&0===k.params[0])return this._curAttrData.fg=f.DEFAULT_ATTR_DATA.fg,this._curAttrData.bg=f.DEFAULT_ATTR_DATA.bg,!0;for(var H,$=k.length,K=this._curAttrData,te=0;te<$;te++)(H=k.params[te])>=30&&H<=37?(K.fg&=-50331904,K.fg|=16777216|H-30):H>=40&&H<=47?(K.bg&=-50331904,K.bg|=16777216|H-40):H>=90&&H<=97?(K.fg&=-50331904,K.fg|=16777224|H-90):H>=100&&H<=107?(K.bg&=-50331904,K.bg|=16777224|H-100):0===H?(K.fg=f.DEFAULT_ATTR_DATA.fg,K.bg=f.DEFAULT_ATTR_DATA.bg):1===H?K.fg|=134217728:3===H?K.bg|=67108864:4===H?(K.fg|=268435456,this._processUnderline(k.hasSubParams(te)?k.getSubParams(te)[0]:1,K)):5===H?K.fg|=536870912:7===H?K.fg|=67108864:8===H?K.fg|=1073741824:9===H?K.fg|=2147483648:2===H?K.bg|=134217728:21===H?this._processUnderline(2,K):22===H?(K.fg&=-134217729,K.bg&=-134217729):23===H?K.bg&=-67108865:24===H?K.fg&=-268435457:25===H?K.fg&=-536870913:27===H?K.fg&=-67108865:28===H?K.fg&=-1073741825:29===H?K.fg&=2147483647:39===H?(K.fg&=-67108864,K.fg|=16777215&f.DEFAULT_ATTR_DATA.fg):49===H?(K.bg&=-67108864,K.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):38===H||48===H||58===H?te+=this._extractColor(k,te,K):59===H?(K.extended=K.extended.clone(),K.extended.underlineColor=-1,K.updateExtended()):100===H?(K.fg&=-67108864,K.fg|=16777215&f.DEFAULT_ATTR_DATA.fg,K.bg&=-67108864,K.bg|=16777215&f.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",H);return!0},U.prototype.deviceStatus=function(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(C.C0.ESC+"[0n");break;case 6:this._coreService.triggerDataEvent(C.C0.ESC+"["+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R")}return!0},U.prototype.deviceStatusPrivate=function(k){return 6===k.params[0]&&this._coreService.triggerDataEvent(C.C0.ESC+"[?"+(this._activeBuffer.y+1)+";"+(this._activeBuffer.x+1)+"R"),!0},U.prototype.softReset=function(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0},U.prototype.setCursorStyle=function(k){var H=k.params[0]||1;switch(H){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=H%2==1,!0},U.prototype.setScrollRegion=function(k){var H,$=k.params[0]||1;return(k.length<2||(H=k.params[1])>this._bufferService.rows||0===H)&&(H=this._bufferService.rows),H>$&&(this._activeBuffer.scrollTop=$-1,this._activeBuffer.scrollBottom=H-1,this._setCursor(0,0)),!0},U.prototype.windowOptions=function(k){if(!L(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;var H=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:2!==H&&this._onRequestWindowsOptionsReport.fire(w.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(w.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(C.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==H&&2!==H||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==H&&1!==H||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==H&&2!==H||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==H&&1!==H||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0},U.prototype.saveCursor=function(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0},U.prototype.restoreCursor=function(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0},U.prototype.setTitle=function(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0},U.prototype.setIconName=function(k){return this._iconName=k,!0},U.prototype.setOrReportIndexedColor=function(k){for(var H=[],$=k.split(";");$.length>1;){var K=$.shift(),te=$.shift();if(/^\d+$/.exec(K)){var ie=parseInt(K);if(0<=ie&&ie<256)if("?"===te)H.push({type:0,index:ie});else{var Ce=(0,O.parseColor)(te);Ce&&H.push({type:1,index:ie,color:Ce})}}}return H.length&&this._onColor.fire(H),!0},U.prototype._setOrReportSpecialColor=function(k,H){for(var $=k.split(";"),K=0;K<$.length&&!(H>=this._specialColors.length);++K,++H)if("?"===$[K])this._onColor.fire([{type:0,index:this._specialColors[H]}]);else{var te=(0,O.parseColor)($[K]);te&&this._onColor.fire([{type:1,index:this._specialColors[H],color:te}])}return!0},U.prototype.setOrReportFgColor=function(k){return this._setOrReportSpecialColor(k,0)},U.prototype.setOrReportBgColor=function(k){return this._setOrReportSpecialColor(k,1)},U.prototype.setOrReportCursorColor=function(k){return this._setOrReportSpecialColor(k,2)},U.prototype.restoreIndexedColor=function(k){if(!k)return this._onColor.fire([{type:2}]),!0;for(var H=[],$=k.split(";"),K=0;K<$.length;++K)if(/^\d+$/.exec($[K])){var te=parseInt($[K]);0<=te&&te<256&&H.push({type:2,index:te})}return H.length&&this._onColor.fire(H),!0},U.prototype.restoreFgColor=function(k){return this._onColor.fire([{type:2,index:256}]),!0},U.prototype.restoreBgColor=function(k){return this._onColor.fire([{type:2,index:257}]),!0},U.prototype.restoreCursorColor=function(k){return this._onColor.fire([{type:2,index:258}]),!0},U.prototype.nextLine=function(){return this._activeBuffer.x=0,this.index(),!0},U.prototype.keypadApplicationMode=function(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0},U.prototype.keypadNumericMode=function(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0},U.prototype.selectDefaultCharset=function(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,I.DEFAULT_CHARSET),!0},U.prototype.selectCharset=function(k){return 2!==k.length?(this.selectDefaultCharset(),!0):("/"===k[0]||this._charsetService.setgCharset(R[k[0]],I.CHARSETS[k[1]]||I.DEFAULT_CHARSET),!0)},U.prototype.index=function(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0},U.prototype.tabSet=function(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0},U.prototype.reverseIndex=function(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0},U.prototype.fullReset=function(){return this._parser.reset(),this._onRequestReset.fire(),!0},U.prototype.reset=function(){this._curAttrData=f.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=f.DEFAULT_ATTR_DATA.clone()},U.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},U.prototype.setgLevel=function(k){return this._charsetService.setgLevel(k),!0},U.prototype.screenAlignmentPattern=function(){var k=new l.CellData;k.content=1<<22|"E".charCodeAt(0),k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(var H=0;H<this._bufferService.rows;++H){var K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+H);K&&(K.fill(k),K.isWrapped=!1)}return this._dirtyRowService.markAllDirty(),this._setCursor(0,0),!0},U}(p.Disposable);_.InputHandler=F},844:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getDisposeArrayDisposable=_.disposeArray=_.Disposable=void 0;var A=function(){function S(){this._disposables=[],this._isDisposed=!1}return S.prototype.dispose=function(){this._isDisposed=!0;for(var w=0,C=this._disposables;w<C.length;w++)C[w].dispose();this._disposables.length=0},S.prototype.register=function(w){return this._disposables.push(w),w},S.prototype.unregister=function(w){var C=this._disposables.indexOf(w);-1!==C&&this._disposables.splice(C,1)},S}();function y(S){for(var w=0,C=S;w<C.length;w++)C[w].dispose();S.length=0}_.Disposable=A,_.disposeArray=y,_.getDisposeArrayDisposable=function(S){return{dispose:function(){return y(S)}}}},6114:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.isLinux=_.isWindows=_.isIphone=_.isIpad=_.isMac=_.isSafari=_.isLegacyEdge=_.isFirefox=void 0;var A="undefined"==typeof navigator,y=A?"node":navigator.userAgent,S=A?"node":navigator.platform;_.isFirefox=y.includes("Firefox"),_.isLegacyEdge=y.includes("Edge"),_.isSafari=/^((?!chrome|android).)*safari/i.test(y),_.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(S),_.isIpad="iPad"===S,_.isIphone="iPhone"===S,_.isWindows=["Windows","Win16","Win32","WinCE"].includes(S),_.isLinux=S.indexOf("Linux")>=0},8273:(Q,_)=>{function A(y,S,w,C){if(void 0===w&&(w=0),void 0===C&&(C=y.length),w>=y.length)return y;C=C>=y.length?y.length:(y.length+C)%y.length;for(var I=w=(y.length+w)%y.length;I<C;++I)y[I]=S;return y}Object.defineProperty(_,"__esModule",{value:!0}),_.concat=_.fillFallback=_.fill=void 0,_.fill=function(y,S,w,C){return y.fill?y.fill(S,w,C):A(y,S,w,C)},_.fillFallback=A,_.concat=function(y,S){var w=new y.constructor(y.length+S.length);return w.set(y),w.set(S,y.length),w}},9282:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.updateWindowsModeWrappedState=void 0;var y=A(643);_.updateWindowsModeWrappedState=function(S){var w=S.buffer.lines.get(S.buffer.ybase+S.buffer.y-1),C=null==w?void 0:w.get(S.cols-1),I=S.buffer.lines.get(S.buffer.ybase+S.buffer.y);I&&C&&(I.isWrapped=C[y.CHAR_DATA_CODE_INDEX]!==y.NULL_CELL_CODE&&C[y.CHAR_DATA_CODE_INDEX]!==y.WHITESPACE_CELL_CODE)}},3734:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ExtendedAttrs=_.AttributeData=void 0;var A=function(){function S(){this.fg=0,this.bg=0,this.extended=new y}return S.toColorRGB=function(w){return[w>>>16&255,w>>>8&255,255&w]},S.fromColorRGB=function(w){return(255&w[0])<<16|(255&w[1])<<8|255&w[2]},S.prototype.clone=function(){var w=new S;return w.fg=this.fg,w.bg=this.bg,w.extended=this.extended.clone(),w},S.prototype.isInverse=function(){return 67108864&this.fg},S.prototype.isBold=function(){return 134217728&this.fg},S.prototype.isUnderline=function(){return 268435456&this.fg},S.prototype.isBlink=function(){return 536870912&this.fg},S.prototype.isInvisible=function(){return 1073741824&this.fg},S.prototype.isItalic=function(){return 67108864&this.bg},S.prototype.isDim=function(){return 134217728&this.bg},S.prototype.isStrikethrough=function(){return 2147483648&this.fg},S.prototype.getFgColorMode=function(){return 50331648&this.fg},S.prototype.getBgColorMode=function(){return 50331648&this.bg},S.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},S.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},S.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},S.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},S.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},S.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},S.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},S.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},S.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},S.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},S.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},S.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},S.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},S.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},S.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},S.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},S.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},S}();_.AttributeData=A;var y=function(){function S(w,C){void 0===w&&(w=0),void 0===C&&(C=-1),this.underlineStyle=w,this.underlineColor=C}return S.prototype.clone=function(){return new S(this.underlineStyle,this.underlineColor)},S.prototype.isEmpty=function(){return 0===this.underlineStyle},S}();_.ExtendedAttrs=y},9092:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferStringIterator=_.Buffer=_.MAX_BUFFER_SIZE=void 0;var y=A(6349),S=A(8437),w=A(511),C=A(643),I=A(4634),E=A(4863),p=A(7116),v=A(3734);_.MAX_BUFFER_SIZE=4294967295;var b=function(){function c(a,l,h){this._hasScrollback=a,this._optionsService=l,this._bufferService=h,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=S.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return c.prototype.getNullCell=function(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new v.ExtendedAttrs),this._nullCell},c.prototype.getWhitespaceCell=function(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new v.ExtendedAttrs),this._whitespaceCell},c.prototype.getBlankLine=function(a,l){return new S.BufferLine(this._bufferService.cols,this.getNullCell(a),l)},Object.defineProperty(c.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isCursorInViewport",{get:function(){var a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows},enumerable:!1,configurable:!0}),c.prototype._getCorrectBufferLength=function(a){if(!this._hasScrollback)return a;var l=a+this._optionsService.rawOptions.scrollback;return l>_.MAX_BUFFER_SIZE?_.MAX_BUFFER_SIZE:l},c.prototype.fillViewportRows=function(a){if(0===this.lines.length){void 0===a&&(a=S.DEFAULT_ATTR_DATA);for(var l=this._rows;l--;)this.lines.push(this.getBlankLine(a))}},c.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new y.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},c.prototype.resize=function(a,l){var h=this.getNullCell(S.DEFAULT_ATTR_DATA),g=this._getCorrectBufferLength(l);if(g>this.lines.maxLength&&(this.lines.maxLength=g),this.lines.length>0){if(this._cols<a)for(var D=0;D<this.lines.length;D++)this.lines.get(D).resize(a,h);var M=0;if(this._rows<l)for(var O=this._rows;O<l;O++)this.lines.length<l+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new S.BufferLine(a,h)):this.ybase>0&&this.lines.length<=this.ybase+this.y+M+1?(this.ybase--,M++,this.ydisp>0&&this.ydisp--):this.lines.push(new S.BufferLine(a,h)));else for(O=this._rows;O>l;O--)this.lines.length>l+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(g<this.lines.maxLength){var R=this.lines.length-g;R>0&&(this.lines.trimStart(R),this.ybase=Math.max(this.ybase-R,0),this.ydisp=Math.max(this.ydisp-R,0),this.savedY=Math.max(this.savedY-R,0)),this.lines.maxLength=g}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,l-1),M&&(this.y+=M),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=l-1,this._isReflowEnabled&&(this._reflow(a,l),this._cols>a))for(D=0;D<this.lines.length;D++)this.lines.get(D).resize(a,h);this._cols=a,this._rows=l},Object.defineProperty(c.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode},enumerable:!1,configurable:!0}),c.prototype._reflow=function(a,l){this._cols!==a&&(a>this._cols?this._reflowLarger(a,l):this._reflowSmaller(a,l))},c.prototype._reflowLarger=function(a,l){var h=(0,I.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(S.DEFAULT_ATTR_DATA));if(h.length>0){var g=(0,I.reflowLargerCreateNewLayout)(this.lines,h);(0,I.reflowLargerApplyNewLayout)(this.lines,g.layout),this._reflowLargerAdjustViewport(a,l,g.countRemoved)}},c.prototype._reflowLargerAdjustViewport=function(a,l,h){for(var g=this.getNullCell(S.DEFAULT_ATTR_DATA),D=h;D-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<l&&this.lines.push(new S.BufferLine(a,g))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-h,0)},c.prototype._reflowSmaller=function(a,l){for(var h=this.getNullCell(S.DEFAULT_ATTR_DATA),g=[],D=0,M=this.lines.length-1;M>=0;M--){var O=this.lines.get(M);if(!(!O||!O.isWrapped&&O.getTrimmedLength()<=a)){for(var R=[O];O.isWrapped&&M>0;)O=this.lines.get(--M),R.unshift(O);var T=this.ybase+this.y;if(!(T>=M&&T<M+R.length)){var L,N=R[R.length-1].getTrimmedLength(),F=(0,I.reflowSmallerGetNewLineLengths)(R,this._cols,a),G=F.length-R.length;L=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+G):Math.max(0,this.lines.length-this.lines.maxLength+G);for(var U=[],k=0;k<G;k++){var H=this.getBlankLine(S.DEFAULT_ATTR_DATA,!0);U.push(H)}U.length>0&&(g.push({start:M+R.length+D,newLines:U}),D+=U.length),R.push.apply(R,U);var $=F.length-1,K=F[$];0===K&&(K=F[--$]);for(var te=R.length-G-1,ie=N;te>=0;){var Ce=Math.min(ie,K);if(void 0===R[$])break;if(R[$].copyCellsFrom(R[te],ie-Ce,K-Ce,Ce,!0),0==(K-=Ce)&&(K=F[--$]),0==(ie-=Ce)){te--;var he=Math.max(te,0);ie=(0,I.getWrappedLineTrimmedLength)(R,he,this._cols)}}for(k=0;k<R.length;k++)F[k]<a&&R[k].setCell(F[k],h);for(var Pe=G-L;Pe-- >0;)0===this.ybase?this.y<l-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+D)-l&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+G,this.ybase+l-1)}}}if(g.length>0){var B=[],ee=[];for(k=0;k<this.lines.length;k++)ee.push(this.lines.get(k));var z=this.lines.length,q=z-1,V=0,de=g[V];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+D);var le=0;for(k=Math.min(this.lines.maxLength-1,z+D-1);k>=0;k--)if(de&&de.start>q+le){for(var ge=de.newLines.length-1;ge>=0;ge--)this.lines.set(k--,de.newLines[ge]);k++,B.push({index:q+1,amount:de.newLines.length}),le+=de.newLines.length,de=g[++V]}else this.lines.set(k,ee[q--]);var ze=0;for(k=B.length-1;k>=0;k--)B[k].index+=ze,this.lines.onInsertEmitter.fire(B[k]),ze+=B[k].amount;var qe=Math.max(0,z+D-this.lines.maxLength);qe>0&&this.lines.onTrimEmitter.fire(qe)}},c.prototype.stringIndexToBufferIndex=function(a,l,h){for(void 0===h&&(h=!1);l;){var g=this.lines.get(a);if(!g)return[-1,-1];for(var D=h?g.getTrimmedLength():g.length,M=0;M<D;++M)if(g.get(M)[C.CHAR_DATA_WIDTH_INDEX]&&(l-=g.get(M)[C.CHAR_DATA_CHAR_INDEX].length||1),l<0)return[a,M];a++}return[a,0]},c.prototype.translateBufferLineToString=function(a,l,h,g){void 0===h&&(h=0);var D=this.lines.get(a);return D?D.translateToString(l,h,g):""},c.prototype.getWrappedRangeForLine=function(a){for(var l=a,h=a;l>0&&this.lines.get(l).isWrapped;)l--;for(;h+1<this.lines.length&&this.lines.get(h+1).isWrapped;)h++;return{first:l,last:h}},c.prototype.setupTabStops=function(a){for(null!=a?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0},c.prototype.prevStop=function(a){for(null==a&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a},c.prototype.nextStop=function(a){for(null==a&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a},c.prototype.clearMarkers=function(a){if(this._isClearing=!0,void 0!==a)for(var l=0;l<this.markers.length;l++)this.markers[l].line===a&&(this.markers[l].dispose(),this.markers.splice(l--,1));else{for(var h=0,g=this.markers;h<g.length;h++)g[h].dispose();this.markers=[]}this._isClearing=!1},c.prototype.addMarker=function(a){var l=this,h=new E.Marker(a);return this.markers.push(h),h.register(this.lines.onTrim(function(g){h.line-=g,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(function(g){h.line>=g.index&&(h.line+=g.amount)})),h.register(this.lines.onDelete(function(g){h.line>=g.index&&h.line<g.index+g.amount&&h.dispose(),h.line>g.index&&(h.line-=g.amount)})),h.register(h.onDispose(function(){return l._removeMarker(h)})),h},c.prototype._removeMarker=function(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)},c.prototype.iterator=function(a,l,h,g,D){return new f(this,a,l,h,g,D)},c}();_.Buffer=b;var f=function(){function c(a,l,h,g,D,M){void 0===h&&(h=0),void 0===g&&(g=a.lines.length),void 0===D&&(D=0),void 0===M&&(M=0),this._buffer=a,this._trimRight=l,this._startIndex=h,this._endIndex=g,this._startOverscan=D,this._endOverscan=M,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return c.prototype.hasNext=function(){return this._current<this._endIndex},c.prototype.next=function(){var a=this._buffer.getWrappedRangeForLine(this._current);a.first<this._startIndex-this._startOverscan&&(a.first=this._startIndex-this._startOverscan),a.last>this._endIndex+this._endOverscan&&(a.last=this._endIndex+this._endOverscan),a.first=Math.max(a.first,0),a.last=Math.min(a.last,this._buffer.lines.length);for(var l="",h=a.first;h<=a.last;++h)l+=this._buffer.translateBufferLineToString(h,this._trimRight);return this._current=a.last+1,{range:a,content:l}},c}();_.BufferStringIterator=f},8437:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferLine=_.DEFAULT_ATTR_DATA=void 0;var y=A(482),S=A(643),w=A(511),C=A(3734);_.DEFAULT_ATTR_DATA=Object.freeze(new C.AttributeData);var I=function(){function E(p,v,b){void 0===b&&(b=!1),this.isWrapped=b,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*p);for(var f=v||w.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),c=0;c<p;++c)this.setCell(c,f);this.length=p}return E.prototype.get=function(p){var v=this._data[3*p+0],b=2097151&v;return[this._data[3*p+1],2097152&v?this._combined[p]:b?(0,y.stringFromCodePoint)(b):"",v>>22,2097152&v?this._combined[p].charCodeAt(this._combined[p].length-1):b]},E.prototype.set=function(p,v){this._data[3*p+1]=v[S.CHAR_DATA_ATTR_INDEX],v[S.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[p]=v[1],this._data[3*p+0]=2097152|p|v[S.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*p+0]=v[S.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[S.CHAR_DATA_WIDTH_INDEX]<<22},E.prototype.getWidth=function(p){return this._data[3*p+0]>>22},E.prototype.hasWidth=function(p){return 12582912&this._data[3*p+0]},E.prototype.getFg=function(p){return this._data[3*p+1]},E.prototype.getBg=function(p){return this._data[3*p+2]},E.prototype.hasContent=function(p){return 4194303&this._data[3*p+0]},E.prototype.getCodePoint=function(p){var v=this._data[3*p+0];return 2097152&v?this._combined[p].charCodeAt(this._combined[p].length-1):2097151&v},E.prototype.isCombined=function(p){return 2097152&this._data[3*p+0]},E.prototype.getString=function(p){var v=this._data[3*p+0];return 2097152&v?this._combined[p]:2097151&v?(0,y.stringFromCodePoint)(2097151&v):""},E.prototype.loadCell=function(p,v){var b=3*p;return v.content=this._data[b+0],v.fg=this._data[b+1],v.bg=this._data[b+2],2097152&v.content&&(v.combinedData=this._combined[p]),268435456&v.bg&&(v.extended=this._extendedAttrs[p]),v},E.prototype.setCell=function(p,v){2097152&v.content&&(this._combined[p]=v.combinedData),268435456&v.bg&&(this._extendedAttrs[p]=v.extended),this._data[3*p+0]=v.content,this._data[3*p+1]=v.fg,this._data[3*p+2]=v.bg},E.prototype.setCellFromCodePoint=function(p,v,b,f,c,a){268435456&c&&(this._extendedAttrs[p]=a),this._data[3*p+0]=v|b<<22,this._data[3*p+1]=f,this._data[3*p+2]=c},E.prototype.addCodepointToCell=function(p,v){var b=this._data[3*p+0];2097152&b?this._combined[p]+=(0,y.stringFromCodePoint)(v):(2097151&b?(this._combined[p]=(0,y.stringFromCodePoint)(2097151&b)+(0,y.stringFromCodePoint)(v),b&=-2097152,b|=2097152):b=v|1<<22,this._data[3*p+0]=b)},E.prototype.insertCells=function(p,v,b,f){if((p%=this.length)&&2===this.getWidth(p-1)&&this.setCellFromCodePoint(p-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs),v<this.length-p){for(var c=new w.CellData,a=this.length-p-v-1;a>=0;--a)this.setCell(p+v+a,this.loadCell(p+a,c));for(a=0;a<v;++a)this.setCell(p+a,b)}else for(a=p;a<this.length;++a)this.setCell(a,b);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs)},E.prototype.deleteCells=function(p,v,b,f){if(v<this.length-(p%=this.length)){for(var c=new w.CellData,a=0;a<this.length-p-v;++a)this.setCell(p+a,this.loadCell(p+v+a,c));for(a=this.length-v;a<this.length;++a)this.setCell(a,b)}else for(a=p;a<this.length;++a)this.setCell(a,b);p&&2===this.getWidth(p-1)&&this.setCellFromCodePoint(p-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs),0!==this.getWidth(p)||this.hasContent(p)||this.setCellFromCodePoint(p,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs)},E.prototype.replaceCells=function(p,v,b,f){for(p&&2===this.getWidth(p-1)&&this.setCellFromCodePoint(p-1,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs),v<this.length&&2===this.getWidth(v-1)&&this.setCellFromCodePoint(v,0,1,(null==f?void 0:f.fg)||0,(null==f?void 0:f.bg)||0,(null==f?void 0:f.extended)||new C.ExtendedAttrs);p<v&&p<this.length;)this.setCell(p++,b)},E.prototype.resize=function(p,v){if(p!==this.length){if(p>this.length){var b=new Uint32Array(3*p);this.length&&b.set(3*p<this._data.length?this._data.subarray(0,3*p):this._data),this._data=b;for(var f=this.length;f<p;++f)this.setCell(f,v)}else if(p){(b=new Uint32Array(3*p)).set(this._data.subarray(0,3*p)),this._data=b;var c=Object.keys(this._combined);for(f=0;f<c.length;f++){var a=parseInt(c[f],10);a>=p&&delete this._combined[a]}}else this._data=new Uint32Array(0),this._combined={};this.length=p}},E.prototype.fill=function(p){this._combined={},this._extendedAttrs={};for(var v=0;v<this.length;++v)this.setCell(v,p)},E.prototype.copyFrom=function(p){for(var v in this.length!==p.length?this._data=new Uint32Array(p._data):this._data.set(p._data),this.length=p.length,this._combined={},p._combined)this._combined[v]=p._combined[v];for(var v in this._extendedAttrs={},p._extendedAttrs)this._extendedAttrs[v]=p._extendedAttrs[v];this.isWrapped=p.isWrapped},E.prototype.clone=function(){var p=new E(0);for(var v in p._data=new Uint32Array(this._data),p.length=this.length,this._combined)p._combined[v]=this._combined[v];for(var v in this._extendedAttrs)p._extendedAttrs[v]=this._extendedAttrs[v];return p.isWrapped=this.isWrapped,p},E.prototype.getTrimmedLength=function(){for(var p=this.length-1;p>=0;--p)if(4194303&this._data[3*p+0])return p+(this._data[3*p+0]>>22);return 0},E.prototype.copyCellsFrom=function(p,v,b,f,c){var a=p._data;if(c)for(var l=f-1;l>=0;l--)for(var h=0;h<3;h++)this._data[3*(b+l)+h]=a[3*(v+l)+h];else for(l=0;l<f;l++)for(h=0;h<3;h++)this._data[3*(b+l)+h]=a[3*(v+l)+h];var g=Object.keys(p._combined);for(h=0;h<g.length;h++){var D=parseInt(g[h],10);D>=v&&(this._combined[D-v+b]=p._combined[D])}},E.prototype.translateToString=function(p,v,b){void 0===p&&(p=!1),void 0===v&&(v=0),void 0===b&&(b=this.length),p&&(b=Math.min(b,this.getTrimmedLength()));for(var f="";v<b;){var c=this._data[3*v+0],a=2097151&c;f+=2097152&c?this._combined[v]:a?(0,y.stringFromCodePoint)(a):S.WHITESPACE_CELL_CHAR,v+=c>>22||1}return f},E}();_.BufferLine=I},4841:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getRangeLength=void 0,_.getRangeLength=function(A,y){if(A.start.y>A.end.y)throw new Error("Buffer range end ("+A.end.x+", "+A.end.y+") cannot be before start ("+A.start.x+", "+A.start.y+")");return y*(A.end.y-A.start.y)+(A.end.x-A.start.x+1)}},4634:(Q,_)=>{function A(y,S,w){if(S===y.length-1)return y[S].getTrimmedLength();var C=!y[S].hasContent(w-1)&&1===y[S].getWidth(w-1),I=2===y[S+1].getWidth(0);return C&&I?w-1:w}Object.defineProperty(_,"__esModule",{value:!0}),_.getWrappedLineTrimmedLength=_.reflowSmallerGetNewLineLengths=_.reflowLargerApplyNewLayout=_.reflowLargerCreateNewLayout=_.reflowLargerGetLinesToRemove=void 0,_.reflowLargerGetLinesToRemove=function(y,S,w,C,I){for(var E=[],p=0;p<y.length-1;p++){var v=p,b=y.get(++v);if(b.isWrapped){for(var f=[y.get(p)];v<y.length&&b.isWrapped;)f.push(b),b=y.get(++v);if(C>=p&&C<v)p+=f.length-1;else{for(var c=0,a=A(f,c,S),l=1,h=0;l<f.length;){var g=A(f,l,S),O=Math.min(g-h,w-a);f[c].copyCellsFrom(f[l],h,a,O,!1),(a+=O)===w&&(c++,a=0),(h+=O)===g&&(l++,h=0),0===a&&0!==c&&2===f[c-1].getWidth(w-1)&&(f[c].copyCellsFrom(f[c-1],w-1,a++,1,!1),f[c-1].setCell(w-1,I))}f[c].replaceCells(a,w,I);for(var R=0,T=f.length-1;T>0&&(T>c||0===f[T].getTrimmedLength());T--)R++;R>0&&(E.push(p+f.length-R),E.push(R)),p+=f.length-1}}}return E},_.reflowLargerCreateNewLayout=function(y,S){for(var w=[],C=0,I=S[C],E=0,p=0;p<y.length;p++)if(I===p){var v=S[++C];y.onDeleteEmitter.fire({index:p-E,amount:v}),p+=v-1,E+=v,I=S[++C]}else w.push(p);return{layout:w,countRemoved:E}},_.reflowLargerApplyNewLayout=function(y,S){for(var w=[],C=0;C<S.length;C++)w.push(y.get(S[C]));for(C=0;C<w.length;C++)y.set(C,w[C]);y.length=S.length},_.reflowSmallerGetNewLineLengths=function(y,S,w){for(var C=[],I=y.map(function(a,l){return A(y,l,S)}).reduce(function(a,l){return a+l}),E=0,p=0,v=0;v<I;){if(I-v<w){C.push(I-v);break}E+=w;var b=A(y,p,S);E>b&&(E-=b,p++);var f=2===y[p].getWidth(E-1);f&&E--;var c=f?w-1:w;C.push(c),v+=c}return C},_.getWrappedLineTrimmedLength=A},5295:function(Q,_,A){var y,S=this&&this.__extends||(y=function(E,p){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(v[f]=b[f])})(E,p)},function(E,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function v(){this.constructor=E}y(E,p),E.prototype=null===p?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(_,"__esModule",{value:!0}),_.BufferSet=void 0;var w=A(9092),C=A(8460),I=function(E){function p(v,b){var f=E.call(this)||this;return f._optionsService=v,f._bufferService=b,f._onBufferActivate=f.register(new C.EventEmitter),f.reset(),f}return S(p,E),Object.defineProperty(p.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!1,configurable:!0}),p.prototype.reset=function(){this._normal=new w.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new w.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()},Object.defineProperty(p.prototype,"alt",{get:function(){return this._alt},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"normal",{get:function(){return this._normal},enumerable:!1,configurable:!0}),p.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},p.prototype.activateAltBuffer=function(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},p.prototype.resize=function(v,b){this._normal.resize(v,b),this._alt.resize(v,b)},p.prototype.setupTabStops=function(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)},p}(A(844).Disposable);_.BufferSet=I},511:function(Q,_,A){var y,S=this&&this.__extends||(y=function(p,v){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(b[c]=f[c])})(p,v)},function(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function b(){this.constructor=p}y(p,v),p.prototype=null===v?Object.create(v):(b.prototype=v.prototype,new b)});Object.defineProperty(_,"__esModule",{value:!0}),_.CellData=void 0;var w=A(482),C=A(643),I=A(3734),E=function(p){function v(){var b=null!==p&&p.apply(this,arguments)||this;return b.content=0,b.fg=0,b.bg=0,b.extended=new I.ExtendedAttrs,b.combinedData="",b}return S(v,p),v.fromCharData=function(b){var f=new v;return f.setFromCharData(b),f},v.prototype.isCombined=function(){return 2097152&this.content},v.prototype.getWidth=function(){return this.content>>22},v.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,w.stringFromCodePoint)(2097151&this.content):""},v.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},v.prototype.setFromCharData=function(b){this.fg=b[C.CHAR_DATA_ATTR_INDEX],this.bg=0;var f=!1;if(b[C.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(2===b[C.CHAR_DATA_CHAR_INDEX].length){var c=b[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){var a=b[C.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(c-55296)+a-56320+65536|b[C.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=b[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|b[C.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=b[C.CHAR_DATA_CHAR_INDEX],this.content=2097152|b[C.CHAR_DATA_WIDTH_INDEX]<<22)},v.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},v}(I.AttributeData);_.CellData=E},643:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WHITESPACE_CELL_CODE=_.WHITESPACE_CELL_WIDTH=_.WHITESPACE_CELL_CHAR=_.NULL_CELL_CODE=_.NULL_CELL_WIDTH=_.NULL_CELL_CHAR=_.CHAR_DATA_CODE_INDEX=_.CHAR_DATA_WIDTH_INDEX=_.CHAR_DATA_CHAR_INDEX=_.CHAR_DATA_ATTR_INDEX=_.DEFAULT_ATTR=_.DEFAULT_COLOR=void 0,_.DEFAULT_COLOR=256,_.DEFAULT_ATTR=256|_.DEFAULT_COLOR<<9,_.CHAR_DATA_ATTR_INDEX=0,_.CHAR_DATA_CHAR_INDEX=1,_.CHAR_DATA_WIDTH_INDEX=2,_.CHAR_DATA_CODE_INDEX=3,_.NULL_CELL_CHAR="",_.NULL_CELL_WIDTH=1,_.NULL_CELL_CODE=0,_.WHITESPACE_CELL_CHAR=" ",_.WHITESPACE_CELL_WIDTH=1,_.WHITESPACE_CELL_CODE=32},4863:function(Q,_,A){var y,S=this&&this.__extends||(y=function(I,E){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(p[b]=v[b])})(I,E)},function(I,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function p(){this.constructor=I}y(I,E),I.prototype=null===E?Object.create(E):(p.prototype=E.prototype,new p)});Object.defineProperty(_,"__esModule",{value:!0}),_.Marker=void 0;var w=A(8460),C=function(I){function E(p){var v=I.call(this)||this;return v.line=p,v._id=E._nextId++,v.isDisposed=!1,v._onDispose=new w.EventEmitter,v}return S(E,I),Object.defineProperty(E.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!1,configurable:!0}),E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),I.prototype.dispose.call(this))},E._nextId=1,E}(A(844).Disposable);_.Marker=C},7116:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DEFAULT_CHARSET=_.CHARSETS=void 0,_.CHARSETS={},_.DEFAULT_CHARSET=_.CHARSETS.B,_.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},_.CHARSETS.A={"#":"\xa3"},_.CHARSETS.B=void 0,_.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},_.CHARSETS.C=_.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},_.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},_.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},_.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},_.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},_.CHARSETS.E=_.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},_.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},_.CHARSETS.H=_.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},_.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(Q,_)=>{var A,y;Object.defineProperty(_,"__esModule",{value:!0}),_.C1=_.C0=void 0,(y=_.C0||(_.C0={})).NUL="\0",y.SOH="\x01",y.STX="\x02",y.ETX="\x03",y.EOT="\x04",y.ENQ="\x05",y.ACK="\x06",y.BEL="\x07",y.BS="\b",y.HT="\t",y.LF="\n",y.VT="\v",y.FF="\f",y.CR="\r",y.SO="\x0e",y.SI="\x0f",y.DLE="\x10",y.DC1="\x11",y.DC2="\x12",y.DC3="\x13",y.DC4="\x14",y.NAK="\x15",y.SYN="\x16",y.ETB="\x17",y.CAN="\x18",y.EM="\x19",y.SUB="\x1a",y.ESC="\x1b",y.FS="\x1c",y.GS="\x1d",y.RS="\x1e",y.US="\x1f",y.SP=" ",y.DEL="\x7f",(A=_.C1||(_.C1={})).PAD="\x80",A.HOP="\x81",A.BPH="\x82",A.NBH="\x83",A.IND="\x84",A.NEL="\x85",A.SSA="\x86",A.ESA="\x87",A.HTS="\x88",A.HTJ="\x89",A.VTS="\x8a",A.PLD="\x8b",A.PLU="\x8c",A.RI="\x8d",A.SS2="\x8e",A.SS3="\x8f",A.DCS="\x90",A.PU1="\x91",A.PU2="\x92",A.STS="\x93",A.CCH="\x94",A.MW="\x95",A.SPA="\x96",A.EPA="\x97",A.SOS="\x98",A.SGCI="\x99",A.SCI="\x9a",A.CSI="\x9b",A.ST="\x9c",A.OSC="\x9d",A.PM="\x9e",A.APC="\x9f"},7399:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.evaluateKeyboardEvent=void 0;var y=A(2584),S={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};_.evaluateKeyboardEvent=function(w,C,I,E){var p={type:0,cancel:!1,key:void 0},v=(w.shiftKey?1:0)|(w.altKey?2:0)|(w.ctrlKey?4:0)|(w.metaKey?8:0);switch(w.keyCode){case 0:"UIKeyInputUpArrow"===w.key?p.key=C?y.C0.ESC+"OA":y.C0.ESC+"[A":"UIKeyInputLeftArrow"===w.key?p.key=C?y.C0.ESC+"OD":y.C0.ESC+"[D":"UIKeyInputRightArrow"===w.key?p.key=C?y.C0.ESC+"OC":y.C0.ESC+"[C":"UIKeyInputDownArrow"===w.key&&(p.key=C?y.C0.ESC+"OB":y.C0.ESC+"[B");break;case 8:if(w.shiftKey){p.key=y.C0.BS;break}if(w.altKey){p.key=y.C0.ESC+y.C0.DEL;break}p.key=y.C0.DEL;break;case 9:if(w.shiftKey){p.key=y.C0.ESC+"[Z";break}p.key=y.C0.HT,p.cancel=!0;break;case 13:p.key=w.altKey?y.C0.ESC+y.C0.CR:y.C0.CR,p.cancel=!0;break;case 27:p.key=y.C0.ESC,w.altKey&&(p.key=y.C0.ESC+y.C0.ESC),p.cancel=!0;break;case 37:if(w.metaKey)break;v?(p.key=y.C0.ESC+"[1;"+(v+1)+"D",p.key===y.C0.ESC+"[1;3D"&&(p.key=y.C0.ESC+(I?"b":"[1;5D"))):p.key=C?y.C0.ESC+"OD":y.C0.ESC+"[D";break;case 39:if(w.metaKey)break;v?(p.key=y.C0.ESC+"[1;"+(v+1)+"C",p.key===y.C0.ESC+"[1;3C"&&(p.key=y.C0.ESC+(I?"f":"[1;5C"))):p.key=C?y.C0.ESC+"OC":y.C0.ESC+"[C";break;case 38:if(w.metaKey)break;v?(p.key=y.C0.ESC+"[1;"+(v+1)+"A",I||p.key!==y.C0.ESC+"[1;3A"||(p.key=y.C0.ESC+"[1;5A")):p.key=C?y.C0.ESC+"OA":y.C0.ESC+"[A";break;case 40:if(w.metaKey)break;v?(p.key=y.C0.ESC+"[1;"+(v+1)+"B",I||p.key!==y.C0.ESC+"[1;3B"||(p.key=y.C0.ESC+"[1;5B")):p.key=C?y.C0.ESC+"OB":y.C0.ESC+"[B";break;case 45:w.shiftKey||w.ctrlKey||(p.key=y.C0.ESC+"[2~");break;case 46:p.key=v?y.C0.ESC+"[3;"+(v+1)+"~":y.C0.ESC+"[3~";break;case 36:p.key=v?y.C0.ESC+"[1;"+(v+1)+"H":C?y.C0.ESC+"OH":y.C0.ESC+"[H";break;case 35:p.key=v?y.C0.ESC+"[1;"+(v+1)+"F":C?y.C0.ESC+"OF":y.C0.ESC+"[F";break;case 33:w.shiftKey?p.type=2:p.key=y.C0.ESC+"[5~";break;case 34:w.shiftKey?p.type=3:p.key=y.C0.ESC+"[6~";break;case 112:p.key=v?y.C0.ESC+"[1;"+(v+1)+"P":y.C0.ESC+"OP";break;case 113:p.key=v?y.C0.ESC+"[1;"+(v+1)+"Q":y.C0.ESC+"OQ";break;case 114:p.key=v?y.C0.ESC+"[1;"+(v+1)+"R":y.C0.ESC+"OR";break;case 115:p.key=v?y.C0.ESC+"[1;"+(v+1)+"S":y.C0.ESC+"OS";break;case 116:p.key=v?y.C0.ESC+"[15;"+(v+1)+"~":y.C0.ESC+"[15~";break;case 117:p.key=v?y.C0.ESC+"[17;"+(v+1)+"~":y.C0.ESC+"[17~";break;case 118:p.key=v?y.C0.ESC+"[18;"+(v+1)+"~":y.C0.ESC+"[18~";break;case 119:p.key=v?y.C0.ESC+"[19;"+(v+1)+"~":y.C0.ESC+"[19~";break;case 120:p.key=v?y.C0.ESC+"[20;"+(v+1)+"~":y.C0.ESC+"[20~";break;case 121:p.key=v?y.C0.ESC+"[21;"+(v+1)+"~":y.C0.ESC+"[21~";break;case 122:p.key=v?y.C0.ESC+"[23;"+(v+1)+"~":y.C0.ESC+"[23~";break;case 123:p.key=v?y.C0.ESC+"[24;"+(v+1)+"~":y.C0.ESC+"[24~";break;default:if(!w.ctrlKey||w.shiftKey||w.altKey||w.metaKey)if(I&&!E||!w.altKey||w.metaKey)!I||w.altKey||w.ctrlKey||w.shiftKey||!w.metaKey?w.key&&!w.ctrlKey&&!w.altKey&&!w.metaKey&&w.keyCode>=48&&1===w.key.length?p.key=w.key:w.key&&w.ctrlKey&&"_"===w.key&&(p.key=y.C0.US):65===w.keyCode&&(p.type=1);else{var b=S[w.keyCode],f=null==b?void 0:b[w.shiftKey?1:0];f?p.key=y.C0.ESC+f:w.keyCode>=65&&w.keyCode<=90&&(p.key=y.C0.ESC+String.fromCharCode(w.ctrlKey?w.keyCode-64:w.keyCode+32))}else w.keyCode>=65&&w.keyCode<=90?p.key=String.fromCharCode(w.keyCode-64):32===w.keyCode?p.key=y.C0.NUL:w.keyCode>=51&&w.keyCode<=55?p.key=String.fromCharCode(w.keyCode-51+27):56===w.keyCode?p.key=y.C0.DEL:219===w.keyCode?p.key=y.C0.ESC:220===w.keyCode?p.key=y.C0.FS:221===w.keyCode&&(p.key=y.C0.GS)}return p}},482:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Utf8ToUtf32=_.StringToUtf32=_.utf32ToString=_.stringFromCodePoint=void 0,_.stringFromCodePoint=function(S){return S>65535?(S-=65536,String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):String.fromCharCode(S)},_.utf32ToString=function(S,w,C){void 0===w&&(w=0),void 0===C&&(C=S.length);for(var I="",E=w;E<C;++E){var p=S[E];p>65535?(p-=65536,I+=String.fromCharCode(55296+(p>>10))+String.fromCharCode(p%1024+56320)):I+=String.fromCharCode(p)}return I};var A=function(){function S(){this._interim=0}return S.prototype.clear=function(){this._interim=0},S.prototype.decode=function(w,C){var I=w.length;if(!I)return 0;var E=0,p=0;this._interim&&(56320<=(f=w.charCodeAt(p++))&&f<=57343?C[E++]=1024*(this._interim-55296)+f-56320+65536:(C[E++]=this._interim,C[E++]=f),this._interim=0);for(var v=p;v<I;++v){var b=w.charCodeAt(v);if(55296<=b&&b<=56319){if(++v>=I)return this._interim=b,E;var f;56320<=(f=w.charCodeAt(v))&&f<=57343?C[E++]=1024*(b-55296)+f-56320+65536:(C[E++]=b,C[E++]=f)}else 65279!==b&&(C[E++]=b)}return E},S}();_.StringToUtf32=A;var y=function(){function S(){this.interim=new Uint8Array(3)}return S.prototype.clear=function(){this.interim.fill(0)},S.prototype.decode=function(w,C){var I=w.length;if(!I)return 0;var E,p,v,b,f=0,c=0,a=0;if(this.interim[0]){var l=!1,h=this.interim[0];h&=192==(224&h)?31:224==(240&h)?15:7;for(var g=0,D=void 0;(D=63&this.interim[++g])&&g<4;)h<<=6,h|=D;for(var M=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,O=M-g;a<O;){if(a>=I)return 0;if(128!=(192&(D=w[a++]))){a--,l=!0;break}this.interim[g++]=D,h<<=6,h|=63&D}l||(2===M?h<128?a--:C[f++]=h:3===M?h<2048||h>=55296&&h<=57343||65279===h||(C[f++]=h):h<65536||h>1114111||(C[f++]=h)),this.interim.fill(0)}for(var R=I-4,T=a;T<I;){for(;!(!(T<R)||128&(E=w[T])||128&(p=w[T+1])||128&(v=w[T+2])||128&(b=w[T+3]));)C[f++]=E,C[f++]=p,C[f++]=v,C[f++]=b,T+=4;if((E=w[T++])<128)C[f++]=E;else if(192==(224&E)){if(T>=I)return this.interim[0]=E,f;if(128!=(192&(p=w[T++]))){T--;continue}if((c=(31&E)<<6|63&p)<128){T--;continue}C[f++]=c}else if(224==(240&E)){if(T>=I)return this.interim[0]=E,f;if(128!=(192&(p=w[T++]))){T--;continue}if(T>=I)return this.interim[0]=E,this.interim[1]=p,f;if(128!=(192&(v=w[T++]))){T--;continue}if((c=(15&E)<<12|(63&p)<<6|63&v)<2048||c>=55296&&c<=57343||65279===c)continue;C[f++]=c}else if(240==(248&E)){if(T>=I)return this.interim[0]=E,f;if(128!=(192&(p=w[T++]))){T--;continue}if(T>=I)return this.interim[0]=E,this.interim[1]=p,f;if(128!=(192&(v=w[T++]))){T--;continue}if(T>=I)return this.interim[0]=E,this.interim[1]=p,this.interim[2]=v,f;if(128!=(192&(b=w[T++]))){T--;continue}if((c=(7&E)<<18|(63&p)<<12|(63&v)<<6|63&b)<65536||c>1114111)continue;C[f++]=c}}return f},S}();_.Utf8ToUtf32=y},225:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeV6=void 0;var y,S=A(8273),w=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],C=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],I=function(){function E(){if(this.version="6",!y){y=new Uint8Array(65536),(0,S.fill)(y,1),y[0]=0,(0,S.fill)(y,0,1,32),(0,S.fill)(y,0,127,160),(0,S.fill)(y,2,4352,4448),y[9001]=2,y[9002]=2,(0,S.fill)(y,2,11904,42192),y[12351]=1,(0,S.fill)(y,2,44032,55204),(0,S.fill)(y,2,63744,64256),(0,S.fill)(y,2,65040,65050),(0,S.fill)(y,2,65072,65136),(0,S.fill)(y,2,65280,65377),(0,S.fill)(y,2,65504,65511);for(var p=0;p<w.length;++p)(0,S.fill)(y,0,w[p][0],w[p][1]+1)}}return E.prototype.wcwidth=function(p){return p<32?0:p<127?1:p<65536?y[p]:function(v,b){var f,c=0,a=b.length-1;if(v<b[0][0]||v>b[a][1])return!1;for(;a>=c;)if(v>b[f=c+a>>1][1])c=f+1;else{if(!(v<b[f][0]))return!0;a=f-1}return!1}(p,C)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1},E}();_.UnicodeV6=I},5981:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WriteBuffer=void 0;var A="undefined"==typeof queueMicrotask?function(S){Promise.resolve().then(S)}:queueMicrotask,y=function(){function S(w){this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0}return S.prototype.writeSync=function(w,C){if(void 0!==C&&this._syncCalls>C)this._syncCalls=0;else if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,!this._isSyncWriting){var I;for(this._isSyncWriting=!0;I=this._writeBuffer.shift();){this._action(I);var E=this._callbacks.shift();E&&E()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}},S.prototype.write=function(w,C){var I=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout(function(){return I._innerWrite()})),this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C)},S.prototype._innerWrite=function(w,C){var I=this;void 0===w&&(w=0),void 0===C&&(C=!0);for(var E=w||Date.now();this._writeBuffer.length>this._bufferOffset;){var p=this._writeBuffer[this._bufferOffset],v=this._action(p,C);if(v)return void v.catch(function(f){return A(function(){throw f}),Promise.resolve(!1)}).then(function(f){return Date.now()-E>=12?setTimeout(function(){return I._innerWrite(0,f)}):I._innerWrite(E,f)});var b=this._callbacks[this._bufferOffset];if(b&&b(),this._bufferOffset++,this._pendingData-=p.length,Date.now()-E>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(function(){return I._innerWrite()})):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0)},S}();_.WriteBuffer=y},5941:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.toRgbString=_.parseColor=void 0;var A=/^([\da-f]{1})\/([\da-f]{1})\/([\da-f]{1})$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,y=/^[\da-f]+$/;function S(w,C){var I=w.toString(16),E=I.length<2?"0"+I:I;switch(C){case 4:return I[0];case 8:return E;case 12:return(E+E).slice(0,3);default:return E+E}}_.parseColor=function(w){if(w){var C=w.toLowerCase();if(0===C.indexOf("rgb:")){C=C.slice(4);var I=A.exec(C);if(I){var E=I[1]?15:I[4]?255:I[7]?4095:65535;return[Math.round(parseInt(I[1]||I[4]||I[7]||I[10],16)/E*255),Math.round(parseInt(I[2]||I[5]||I[8]||I[11],16)/E*255),Math.round(parseInt(I[3]||I[6]||I[9]||I[12],16)/E*255)]}}else if(0===C.indexOf("#")&&(C=C.slice(1),y.exec(C)&&[3,6,9,12].includes(C.length))){for(var p=C.length/3,v=[0,0,0],b=0;b<3;++b){var f=parseInt(C.slice(p*b,p*b+p),16);v[b]=1===p?f<<4:2===p?f:3===p?f>>4:f>>8}return v}}},_.toRgbString=function(w,C){void 0===C&&(C=16);var E=w[1],p=w[2];return"rgb:"+S(w[0],C)+"/"+S(E,C)+"/"+S(p,C)}},5770:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.PAYLOAD_LIMIT=void 0,_.PAYLOAD_LIMIT=1e7},6351:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.DcsHandler=_.DcsParser=void 0;var y=A(482),S=A(8742),w=A(5770),C=[],I=function(){function v(){this._handlers=Object.create(null),this._active=C,this._ident=0,this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return v.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=C},v.prototype.registerHandler=function(b,f){void 0===this._handlers[b]&&(this._handlers[b]=[]);var c=this._handlers[b];return c.push(f),{dispose:function(){var a=c.indexOf(f);-1!==a&&c.splice(a,1)}}},v.prototype.clearHandler=function(b){this._handlers[b]&&delete this._handlers[b]},v.prototype.setHandlerFallback=function(b){this._handlerFb=b},v.prototype.reset=function(){if(this._active.length)for(var b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].unhook(!1);this._stack.paused=!1,this._active=C,this._ident=0},v.prototype.hook=function(b,f){if(this.reset(),this._ident=b,this._active=this._handlers[b]||C,this._active.length)for(var c=this._active.length-1;c>=0;c--)this._active[c].hook(f);else this._handlerFb(this._ident,"HOOK",f)},v.prototype.put=function(b,f,c){if(this._active.length)for(var a=this._active.length-1;a>=0;a--)this._active[a].put(b,f,c);else this._handlerFb(this._ident,"PUT",(0,y.utf32ToString)(b,f,c))},v.prototype.unhook=function(b,f){if(void 0===f&&(f=!0),this._active.length){var c=!1,a=this._active.length-1,l=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,c=f,l=this._stack.fallThrough,this._stack.paused=!1),!l&&!1===c){for(;a>=0&&!0!==(c=this._active[a].unhook(b));a--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,c;a--}for(;a>=0;a--)if((c=this._active[a].unhook(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",b);this._active=C,this._ident=0},v}();_.DcsParser=I;var E=new S.Params;E.addParam(0);var p=function(){function v(b){this._handler=b,this._data="",this._params=E,this._hitLimit=!1}return v.prototype.hook=function(b){this._params=b.length>1||b.params[0]?b.clone():E,this._data="",this._hitLimit=!1},v.prototype.put=function(b,f,c){this._hitLimit||(this._data+=(0,y.utf32ToString)(b,f,c),this._data.length>w.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},v.prototype.unhook=function(b){var f=this,c=!1;if(this._hitLimit)c=!1;else if(b&&(c=this._handler(this._data,this._params))instanceof Promise)return c.then(function(a){return f._params=E,f._data="",f._hitLimit=!1,a});return this._params=E,this._data="",this._hitLimit=!1,c},v}();_.DcsHandler=p},2015:function(Q,_,A){var y,S=this&&this.__extends||(y=function(c,a){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(l[g]=h[g])})(c,a)},function(c,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=c}y(c,a),c.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(_,"__esModule",{value:!0}),_.EscapeSequenceParser=_.VT500_TRANSITION_TABLE=_.TransitionTable=void 0;var w=A(844),C=A(8273),I=A(8742),E=A(6242),p=A(6351),v=function(){function c(a){this.table=new Uint8Array(a)}return c.prototype.setDefault=function(a,l){(0,C.fill)(this.table,a<<4|l)},c.prototype.add=function(a,l,h,g){this.table[l<<8|a]=h<<4|g},c.prototype.addMany=function(a,l,h,g){for(var D=0;D<a.length;D++)this.table[l<<8|a[D]]=h<<4|g},c}();_.TransitionTable=v;var b=160;_.VT500_TRANSITION_TABLE=function(){var c=new v(4095),a=Array.apply(null,Array(256)).map(function(O,R){return R}),l=function(O,R){return a.slice(O,R)},h=l(32,127),g=l(0,24);g.push(25),g.push.apply(g,l(28,32));var D,M=l(0,14);for(D in c.setDefault(1,0),c.addMany(h,0,2,0),M)c.addMany([24,26,153,154],D,3,0),c.addMany(l(128,144),D,3,0),c.addMany(l(144,152),D,3,0),c.add(156,D,0,0),c.add(27,D,11,1),c.add(157,D,4,8),c.addMany([152,158,159],D,0,7),c.add(155,D,11,3),c.add(144,D,11,9);return c.addMany(g,0,3,0),c.addMany(g,1,3,1),c.add(127,1,0,1),c.addMany(g,8,0,8),c.addMany(g,3,3,3),c.add(127,3,0,3),c.addMany(g,4,3,4),c.add(127,4,0,4),c.addMany(g,6,3,6),c.addMany(g,5,3,5),c.add(127,5,0,5),c.addMany(g,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(h,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(l(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(h,7,0,7),c.addMany(g,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(l(64,127),3,7,0),c.addMany(l(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(l(48,60),4,8,4),c.addMany(l(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(l(32,64),6,0,6),c.add(127,6,0,6),c.addMany(l(64,127),6,0,0),c.addMany(l(32,48),3,9,5),c.addMany(l(32,48),5,9,5),c.addMany(l(48,64),5,0,6),c.addMany(l(64,127),5,7,0),c.addMany(l(32,48),4,9,5),c.addMany(l(32,48),1,9,2),c.addMany(l(32,48),2,9,2),c.addMany(l(48,127),2,10,0),c.addMany(l(48,80),1,10,0),c.addMany(l(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(l(96,127),1,10,0),c.add(80,1,11,9),c.addMany(g,9,0,9),c.add(127,9,0,9),c.addMany(l(28,32),9,0,9),c.addMany(l(32,48),9,9,12),c.addMany(l(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(g,11,0,11),c.addMany(l(32,128),11,0,11),c.addMany(l(28,32),11,0,11),c.addMany(g,10,0,10),c.add(127,10,0,10),c.addMany(l(28,32),10,0,10),c.addMany(l(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(l(32,48),10,9,12),c.addMany(g,12,0,12),c.add(127,12,0,12),c.addMany(l(28,32),12,0,12),c.addMany(l(32,48),12,9,12),c.addMany(l(48,64),12,0,11),c.addMany(l(64,127),12,12,13),c.addMany(l(64,127),10,12,13),c.addMany(l(64,127),9,12,13),c.addMany(g,13,13,13),c.addMany(h,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(b,0,2,0),c.add(b,8,5,8),c.add(b,6,0,6),c.add(b,11,0,11),c.add(b,13,13,13),c}();var f=function(c){function a(l){void 0===l&&(l=_.VT500_TRANSITION_TABLE);var h=c.call(this)||this;return h._transitions=l,h._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},h.initialState=0,h.currentState=h.initialState,h._params=new I.Params,h._params.addParam(0),h._collect=0,h.precedingCodepoint=0,h._printHandlerFb=function(g,D,M){},h._executeHandlerFb=function(g){},h._csiHandlerFb=function(g,D){},h._escHandlerFb=function(g){},h._errorHandlerFb=function(g){return g},h._printHandler=h._printHandlerFb,h._executeHandlers=Object.create(null),h._csiHandlers=Object.create(null),h._escHandlers=Object.create(null),h._oscParser=new E.OscParser,h._dcsParser=new p.DcsParser,h._errorHandler=h._errorHandlerFb,h.registerEscHandler({final:"\\"},function(){return!0}),h}return S(a,c),a.prototype._identifier=function(l,h){void 0===h&&(h=[64,126]);var g=0;if(l.prefix){if(l.prefix.length>1)throw new Error("only one byte as prefix supported");if((g=l.prefix.charCodeAt(0))&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(l.intermediates){if(l.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var D=0;D<l.intermediates.length;++D){var M=l.intermediates.charCodeAt(D);if(32>M||M>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=M}}if(1!==l.final.length)throw new Error("final must be a single byte");var O=l.final.charCodeAt(0);if(h[0]>O||O>h[1])throw new Error("final must be in range "+h[0]+" .. "+h[1]);return(g<<=8)|O},a.prototype.identToString=function(l){for(var h=[];l;)h.push(String.fromCharCode(255&l)),l>>=8;return h.reverse().join("")},a.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},a.prototype.setPrintHandler=function(l){this._printHandler=l},a.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},a.prototype.registerEscHandler=function(l,h){var g=this._identifier(l,[48,126]);void 0===this._escHandlers[g]&&(this._escHandlers[g]=[]);var D=this._escHandlers[g];return D.push(h),{dispose:function(){var M=D.indexOf(h);-1!==M&&D.splice(M,1)}}},a.prototype.clearEscHandler=function(l){this._escHandlers[this._identifier(l,[48,126])]&&delete this._escHandlers[this._identifier(l,[48,126])]},a.prototype.setEscHandlerFallback=function(l){this._escHandlerFb=l},a.prototype.setExecuteHandler=function(l,h){this._executeHandlers[l.charCodeAt(0)]=h},a.prototype.clearExecuteHandler=function(l){this._executeHandlers[l.charCodeAt(0)]&&delete this._executeHandlers[l.charCodeAt(0)]},a.prototype.setExecuteHandlerFallback=function(l){this._executeHandlerFb=l},a.prototype.registerCsiHandler=function(l,h){var g=this._identifier(l);void 0===this._csiHandlers[g]&&(this._csiHandlers[g]=[]);var D=this._csiHandlers[g];return D.push(h),{dispose:function(){var M=D.indexOf(h);-1!==M&&D.splice(M,1)}}},a.prototype.clearCsiHandler=function(l){this._csiHandlers[this._identifier(l)]&&delete this._csiHandlers[this._identifier(l)]},a.prototype.setCsiHandlerFallback=function(l){this._csiHandlerFb=l},a.prototype.registerDcsHandler=function(l,h){return this._dcsParser.registerHandler(this._identifier(l),h)},a.prototype.clearDcsHandler=function(l){this._dcsParser.clearHandler(this._identifier(l))},a.prototype.setDcsHandlerFallback=function(l){this._dcsParser.setHandlerFallback(l)},a.prototype.registerOscHandler=function(l,h){return this._oscParser.registerHandler(l,h)},a.prototype.clearOscHandler=function(l){this._oscParser.clearHandler(l)},a.prototype.setOscHandlerFallback=function(l){this._oscParser.setHandlerFallback(l)},a.prototype.setErrorHandler=function(l){this._errorHandler=l},a.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},a.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])},a.prototype._preserveStack=function(l,h,g,D,M){this._parseStack.state=l,this._parseStack.handlers=h,this._parseStack.handlerPos=g,this._parseStack.transition=D,this._parseStack.chunkPos=M},a.prototype.parse=function(l,h,g){var D,M=0,O=0,R=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,R=this._parseStack.chunkPos+1;else{if(void 0===g||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");var T=this._parseStack.handlers,L=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===g&&L>-1)for(;L>=0&&!0!==(D=T[L](this._params));L--)if(D instanceof Promise)return this._parseStack.handlerPos=L,D;this._parseStack.handlers=[];break;case 4:if(!1===g&&L>-1)for(;L>=0&&!0!==(D=T[L]());L--)if(D instanceof Promise)return this._parseStack.handlerPos=L,D;this._parseStack.handlers=[];break;case 6:if(D=this._dcsParser.unhook(24!==(M=l[this._parseStack.chunkPos])&&26!==M,g))return D;27===M&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(D=this._oscParser.end(24!==(M=l[this._parseStack.chunkPos])&&26!==M,g))return D;27===M&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,R=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(var N=R;N<h;++N){switch((O=this._transitions.table[this.currentState<<8|((M=l[N])<160?M:b)])>>4){case 2:for(var F=N+1;;++F){if(F>=h||(M=l[F])<32||M>126&&M<b){this._printHandler(l,N,F),N=F-1;break}if(++F>=h||(M=l[F])<32||M>126&&M<b){this._printHandler(l,N,F),N=F-1;break}if(++F>=h||(M=l[F])<32||M>126&&M<b){this._printHandler(l,N,F),N=F-1;break}if(++F>=h||(M=l[F])<32||M>126&&M<b){this._printHandler(l,N,F),N=F-1;break}}break;case 3:this._executeHandlers[M]?this._executeHandlers[M]():this._executeHandlerFb(M),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:N,code:M,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:for(var G=(T=this._csiHandlers[this._collect<<8|M])?T.length-1:-1;G>=0&&!0!==(D=T[G](this._params));G--)if(D instanceof Promise)return this._preserveStack(3,T,G,O,N),D;G<0&&this._csiHandlerFb(this._collect<<8|M,this._params),this.precedingCodepoint=0;break;case 8:do{switch(M){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(M-48)}}while(++N<h&&(M=l[N])>47&&M<60);N--;break;case 9:this._collect<<=8,this._collect|=M;break;case 10:for(var U=this._escHandlers[this._collect<<8|M],k=U?U.length-1:-1;k>=0&&!0!==(D=U[k]());k--)if(D instanceof Promise)return this._preserveStack(4,U,k,O,N),D;k<0&&this._escHandlerFb(this._collect<<8|M),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|M,this._params);break;case 13:for(var H=N+1;;++H)if(H>=h||24===(M=l[H])||26===M||27===M||M>127&&M<b){this._dcsParser.put(l,N,H),N=H-1;break}break;case 14:if(D=this._dcsParser.unhook(24!==M&&26!==M))return this._preserveStack(6,[],0,O,N),D;27===M&&(O|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(var $=N+1;;$++)if($>=h||(M=l[$])<32||M>127&&M<b){this._oscParser.put(l,N,$),N=$-1;break}break;case 6:if(D=this._oscParser.end(24!==M&&26!==M))return this._preserveStack(5,[],0,O,N),D;27===M&&(O|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&O}},a}(w.Disposable);_.EscapeSequenceParser=f},6242:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OscHandler=_.OscParser=void 0;var y=A(5770),S=A(482),w=[],C=function(){function E(){this._state=0,this._active=w,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}return E.prototype.registerHandler=function(p,v){void 0===this._handlers[p]&&(this._handlers[p]=[]);var b=this._handlers[p];return b.push(v),{dispose:function(){var f=b.indexOf(v);-1!==f&&b.splice(f,1)}}},E.prototype.clearHandler=function(p){this._handlers[p]&&delete this._handlers[p]},E.prototype.setHandlerFallback=function(p){this._handlerFb=p},E.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){},this._active=w},E.prototype.reset=function(){if(2===this._state)for(var p=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;p>=0;--p)this._active[p].end(!1);this._stack.paused=!1,this._active=w,this._id=-1,this._state=0},E.prototype._start=function(){if(this._active=this._handlers[this._id]||w,this._active.length)for(var p=this._active.length-1;p>=0;p--)this._active[p].start();else this._handlerFb(this._id,"START")},E.prototype._put=function(p,v,b){if(this._active.length)for(var f=this._active.length-1;f>=0;f--)this._active[f].put(p,v,b);else this._handlerFb(this._id,"PUT",(0,S.utf32ToString)(p,v,b))},E.prototype.start=function(){this.reset(),this._state=1},E.prototype.put=function(p,v,b){if(3!==this._state){if(1===this._state)for(;v<b;){var f=p[v++];if(59===f){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+f-48}2===this._state&&b-v>0&&this._put(p,v,b)}},E.prototype.end=function(p,v){if(void 0===v&&(v=!0),0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){var b=!1,f=this._active.length-1,c=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,b=v,c=this._stack.fallThrough,this._stack.paused=!1),!c&&!1===b){for(;f>=0&&!0!==(b=this._active[f].end(p));f--)if(b instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,b;f--}for(;f>=0;f--)if((b=this._active[f].end(!1))instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,b}else this._handlerFb(this._id,"END",p);this._active=w,this._id=-1,this._state=0}},E}();_.OscParser=C;var I=function(){function E(p){this._handler=p,this._data="",this._hitLimit=!1}return E.prototype.start=function(){this._data="",this._hitLimit=!1},E.prototype.put=function(p,v,b){this._hitLimit||(this._data+=(0,S.utf32ToString)(p,v,b),this._data.length>y.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},E.prototype.end=function(p){var v=this,b=!1;if(this._hitLimit)b=!1;else if(p&&(b=this._handler(this._data))instanceof Promise)return b.then(function(f){return v._data="",v._hitLimit=!1,f});return this._data="",this._hitLimit=!1,b},E}();_.OscHandler=I},8742:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Params=void 0;var A=2147483647,y=function(){function S(w,C){if(void 0===w&&(w=32),void 0===C&&(C=32),this.maxLength=w,this.maxSubParamsLength=C,C>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(w),this.length=0,this._subParams=new Int32Array(C),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(w),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return S.fromArray=function(w){var C=new S;if(!w.length)return C;for(var I=Array.isArray(w[0])?1:0;I<w.length;++I){var E=w[I];if(Array.isArray(E))for(var p=0;p<E.length;++p)C.addSubParam(E[p]);else C.addParam(E)}return C},S.prototype.clone=function(){var w=new S(this.maxLength,this.maxSubParamsLength);return w.params.set(this.params),w.length=this.length,w._subParams.set(this._subParams),w._subParamsLength=this._subParamsLength,w._subParamsIdx.set(this._subParamsIdx),w._rejectDigits=this._rejectDigits,w._rejectSubDigits=this._rejectSubDigits,w._digitIsSub=this._digitIsSub,w},S.prototype.toArray=function(){for(var w=[],C=0;C<this.length;++C){w.push(this.params[C]);var I=this._subParamsIdx[C]>>8,E=255&this._subParamsIdx[C];E-I>0&&w.push(Array.prototype.slice.call(this._subParams,I,E))}return w},S.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},S.prototype.addParam=function(w){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(w<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=w>A?A:w}},S.prototype.addSubParam=function(w){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(w<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=w>A?A:w,this._subParamsIdx[this.length-1]++}},S.prototype.hasSubParams=function(w){return(255&this._subParamsIdx[w])-(this._subParamsIdx[w]>>8)>0},S.prototype.getSubParams=function(w){var C=this._subParamsIdx[w]>>8,I=255&this._subParamsIdx[w];return I-C>0?this._subParams.subarray(C,I):null},S.prototype.getSubParamsAll=function(){for(var w={},C=0;C<this.length;++C){var I=this._subParamsIdx[C]>>8,E=255&this._subParamsIdx[C];E-I>0&&(w[C]=this._subParams.slice(I,E))}return w},S.prototype.addDigit=function(w){var C;if(!(this._rejectDigits||!(C=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var I=this._digitIsSub?this._subParams:this.params,E=I[C-1];I[C-1]=~E?Math.min(10*E+w,A):w}},S}();_.Params=y},5741:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AddonManager=void 0;var A=function(){function y(){this._addons=[]}return y.prototype.dispose=function(){for(var S=this._addons.length-1;S>=0;S--)this._addons[S].instance.dispose()},y.prototype.loadAddon=function(S,w){var C=this,I={instance:w,dispose:w.dispose,isDisposed:!1};this._addons.push(I),w.dispose=function(){return C._wrappedAddonDispose(I)},w.activate(S)},y.prototype._wrappedAddonDispose=function(S){if(!S.isDisposed){for(var w=-1,C=0;C<this._addons.length;C++)if(this._addons[C]===S){w=C;break}if(-1===w)throw new Error("Could not dispose an addon that has not been loaded");S.isDisposed=!0,S.dispose.apply(S.instance),this._addons.splice(w,1)}},y}();_.AddonManager=A},8771:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferApiView=void 0;var y=A(3785),S=A(511),w=function(){function C(I,E){this._buffer=I,this.type=E}return C.prototype.init=function(I){return this._buffer=I,this},Object.defineProperty(C.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!1,configurable:!0}),C.prototype.getLine=function(I){var E=this._buffer.lines.get(I);if(E)return new y.BufferLineApiView(E)},C.prototype.getNullCell=function(){return new S.CellData},C}();_.BufferApiView=w},3785:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferLineApiView=void 0;var y=A(511),S=function(){function w(C){this._line=C}return Object.defineProperty(w.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"length",{get:function(){return this._line.length},enumerable:!1,configurable:!0}),w.prototype.getCell=function(C,I){if(!(C<0||C>=this._line.length))return I?(this._line.loadCell(C,I),I):this._line.loadCell(C,new y.CellData)},w.prototype.translateToString=function(C,I,E){return this._line.translateToString(C,I,E)},w}();_.BufferLineApiView=S},8285:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.BufferNamespaceApi=void 0;var y=A(8771),S=A(8460),w=function(){function C(I){var E=this;this._core=I,this._onBufferChange=new S.EventEmitter,this._normal=new y.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new y.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(function(){return E._onBufferChange.fire(E.active)})}return Object.defineProperty(C.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"active",{get:function(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"normal",{get:function(){return this._normal.init(this._core.buffers.normal)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"alternate",{get:function(){return this._alternate.init(this._core.buffers.alt)},enumerable:!1,configurable:!0}),C}();_.BufferNamespaceApi=w},7975:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ParserApi=void 0;var A=function(){function y(S){this._core=S}return y.prototype.registerCsiHandler=function(S,w){return this._core.registerCsiHandler(S,function(C){return w(C.toArray())})},y.prototype.addCsiHandler=function(S,w){return this.registerCsiHandler(S,w)},y.prototype.registerDcsHandler=function(S,w){return this._core.registerDcsHandler(S,function(C,I){return w(C,I.toArray())})},y.prototype.addDcsHandler=function(S,w){return this.registerDcsHandler(S,w)},y.prototype.registerEscHandler=function(S,w){return this._core.registerEscHandler(S,w)},y.prototype.addEscHandler=function(S,w){return this.registerEscHandler(S,w)},y.prototype.registerOscHandler=function(S,w){return this._core.registerOscHandler(S,w)},y.prototype.addOscHandler=function(S,w){return this.registerOscHandler(S,w)},y}();_.ParserApi=A},7090:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeApi=void 0;var A=function(){function y(S){this._core=S}return y.prototype.register=function(S){this._core.unicodeService.register(S)},Object.defineProperty(y.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(S){this._core.unicodeService.activeVersion=S},enumerable:!1,configurable:!0}),y}();_.UnicodeApi=A},744:function(Q,_,A){var y,S=this&&this.__extends||(y=function(f,c){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(f,c)},function(f,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=f}y(f,c),f.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}),w=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},C=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.BufferService=_.MINIMUM_ROWS=_.MINIMUM_COLS=void 0;var I=A(2585),E=A(5295),p=A(8460),v=A(844);_.MINIMUM_COLS=2,_.MINIMUM_ROWS=1;var b=function(f){function c(a){var l=f.call(this)||this;return l._optionsService=a,l.isUserScrolling=!1,l._onResize=new p.EventEmitter,l._onScroll=new p.EventEmitter,l.cols=Math.max(a.rawOptions.cols||0,_.MINIMUM_COLS),l.rows=Math.max(a.rawOptions.rows||0,_.MINIMUM_ROWS),l.buffers=new E.BufferSet(a,l),l}return S(c,f),Object.defineProperty(c.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!1,configurable:!0}),c.prototype.dispose=function(){f.prototype.dispose.call(this),this.buffers.dispose()},c.prototype.resize=function(a,l){this.cols=a,this.rows=l,this.buffers.resize(a,l),this.buffers.setupTabStops(this.cols),this._onResize.fire({cols:a,rows:l})},c.prototype.reset=function(){this.buffers.reset(),this.isUserScrolling=!1},c.prototype.scroll=function(a,l){void 0===l&&(l=!1);var h,g=this.buffer;(h=this._cachedBlankLine)&&h.length===this.cols&&h.getFg(0)===a.fg&&h.getBg(0)===a.bg||(h=g.getBlankLine(a,l),this._cachedBlankLine=h),h.isWrapped=l;var D=g.ybase+g.scrollTop,M=g.ybase+g.scrollBottom;if(0===g.scrollTop){var O=g.lines.isFull;M===g.lines.length-1?O?g.lines.recycle().copyFrom(h):g.lines.push(h.clone()):g.lines.splice(M+1,0,h.clone()),O?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else g.lines.shiftElements(D+1,M-D+1-1,-1),g.lines.set(M,h.clone());this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)},c.prototype.scrollLines=function(a,l,h){var g=this.buffer;if(a<0){if(0===g.ydisp)return;this.isUserScrolling=!0}else a+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);var D=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+a,g.ybase),0),D!==g.ydisp&&(l||this._onScroll.fire(g.ydisp))},c.prototype.scrollPages=function(a){this.scrollLines(a*(this.rows-1))},c.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},c.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},c.prototype.scrollToLine=function(a){var l=a-this.buffer.ydisp;0!==l&&this.scrollLines(l)},w([C(0,I.IOptionsService)],c)}(v.Disposable);_.BufferService=b},7994:(Q,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CharsetService=void 0;var A=function(){function y(){this.glevel=0,this._charsets=[]}return y.prototype.reset=function(){this.charset=void 0,this._charsets=[],this.glevel=0},y.prototype.setgLevel=function(S){this.glevel=S,this.charset=this._charsets[S]},y.prototype.setgCharset=function(S,w){this._charsets[S]=w,this.glevel===S&&(this.charset=w)},y}();_.CharsetService=A},1753:function(Q,_,A){var y=this&&this.__decorate||function(f,c,a,l){var h,g=arguments.length,D=g<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,a):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(f,c,a,l);else for(var M=f.length-1;M>=0;M--)(h=f[M])&&(D=(g<3?h(D):g>3?h(c,a,D):h(c,a))||D);return g>3&&D&&Object.defineProperty(c,a,D),D},S=this&&this.__param||function(f,c){return function(a,l){c(a,l,f)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CoreMouseService=void 0;var w=A(2585),C=A(8460),I={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(f){return 4!==f.button&&1===f.action&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)}},VT200:{events:19,restrict:function(f){return 32!==f.action}},DRAG:{events:23,restrict:function(f){return 32!==f.action||3!==f.button}},ANY:{events:31,restrict:function(f){return!0}}};function E(f,c){var a=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return 4===f.button?(a|=64,a|=f.action):(a|=3&f.button,4&f.button&&(a|=64),8&f.button&&(a|=128),32===f.action?a|=32:0!==f.action||c||(a|=3)),a}var p=String.fromCharCode,v={DEFAULT:function(f){var c=[E(f,!1)+32,f.col+32,f.row+32];return c[0]>255||c[1]>255||c[2]>255?"":"\x1b[M"+p(c[0])+p(c[1])+p(c[2])},SGR:function(f){var c=0===f.action&&4!==f.button?"m":"M";return"\x1b[<"+E(f,!0)+";"+f.col+";"+f.row+c}},b=function(){function f(c,a){this._bufferService=c,this._coreService=a,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new C.EventEmitter,this._lastEvent=null;for(var l=0,h=Object.keys(I);l<h.length;l++){var g=h[l];this.addProtocol(g,I[g])}for(var D=0,M=Object.keys(v);D<M.length;D++){var O=M[D];this.addEncoding(O,v[O])}this.reset()}return f.prototype.addProtocol=function(c,a){this._protocols[c]=a},f.prototype.addEncoding=function(c,a){this._encodings[c]=a},Object.defineProperty(f.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(c){if(!this._protocols[c])throw new Error('unknown protocol "'+c+'"');this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"areMouseEventsActive",{get:function(){return 0!==this._protocols[this._activeProtocol].events},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(c){if(!this._encodings[c])throw new Error('unknown encoding "'+c+'"');this._activeEncoding=c},enumerable:!1,configurable:!0}),f.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(f.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!1,configurable:!0}),f.prototype.triggerMouseEvent=function(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||4===c.button&&32===c.action||3===c.button&&32!==c.action||4!==c.button&&(2===c.action||3===c.action)||(c.col++,c.row++,32===c.action&&this._lastEvent&&this._compareEvents(this._lastEvent,c))||!this._protocols[this._activeProtocol].restrict(c))return!1;var a=this._encodings[this._activeEncoding](c);return a&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(a):this._coreService.triggerDataEvent(a,!0)),this._lastEvent=c,!0},f.prototype.explainEvents=function(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}},f.prototype._compareEvents=function(c,a){return c.col===a.col&&c.row===a.row&&c.button===a.button&&c.action===a.action&&c.ctrl===a.ctrl&&c.alt===a.alt&&c.shift===a.shift},y([S(0,w.IBufferService),S(1,w.ICoreService)],f)}();_.CoreMouseService=b},6975:function(Q,_,A){var y,S=this&&this.__extends||(y=function(a,l){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var D in g)Object.prototype.hasOwnProperty.call(g,D)&&(h[D]=g[D])})(a,l)},function(a,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function h(){this.constructor=a}y(a,l),a.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h)}),w=this&&this.__decorate||function(a,l,h,g){var D,M=arguments.length,O=M<3?l:null===g?g=Object.getOwnPropertyDescriptor(l,h):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(a,l,h,g);else for(var R=a.length-1;R>=0;R--)(D=a[R])&&(O=(M<3?D(O):M>3?D(l,h,O):D(l,h))||O);return M>3&&O&&Object.defineProperty(l,h,O),O},C=this&&this.__param||function(a,l){return function(h,g){l(h,g,a)}};Object.defineProperty(_,"__esModule",{value:!0}),_.CoreService=void 0;var I=A(2585),E=A(8460),p=A(1439),v=A(844),b=Object.freeze({insertMode:!1}),f=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),c=function(a){function l(h,g,D,M){var O=a.call(this)||this;return O._bufferService=g,O._logService=D,O._optionsService=M,O.isCursorInitialized=!1,O.isCursorHidden=!1,O._onData=O.register(new E.EventEmitter),O._onUserInput=O.register(new E.EventEmitter),O._onBinary=O.register(new E.EventEmitter),O._scrollToBottom=h,O.register({dispose:function(){return O._scrollToBottom=void 0}}),O.modes=(0,p.clone)(b),O.decPrivateModes=(0,p.clone)(f),O}return S(l,a),Object.defineProperty(l.prototype,"onData",{get:function(){return this._onData.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!1,configurable:!0}),l.prototype.reset=function(){this.modes=(0,p.clone)(b),this.decPrivateModes=(0,p.clone)(f)},l.prototype.triggerDataEvent=function(h,g){if(void 0===g&&(g=!1),!this._optionsService.rawOptions.disableStdin){var D=this._bufferService.buffer;D.ybase!==D.ydisp&&this._scrollToBottom(),g&&this._onUserInput.fire(),this._logService.debug('sending data "'+h+'"',function(){return h.split("").map(function(M){return M.charCodeAt(0)})}),this._onData.fire(h)}},l.prototype.triggerBinaryEvent=function(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'+h+'"',function(){return h.split("").map(function(g){return g.charCodeAt(0)})}),this._onBinary.fire(h))},w([C(1,I.IBufferService),C(2,I.ILogService),C(3,I.IOptionsService)],l)}(v.Disposable);_.CoreService=c},3730:function(Q,_,A){var y=this&&this.__decorate||function(I,E,p,v){var b,f=arguments.length,c=f<3?E:null===v?v=Object.getOwnPropertyDescriptor(E,p):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(I,E,p,v);else for(var a=I.length-1;a>=0;a--)(b=I[a])&&(c=(f<3?b(c):f>3?b(E,p,c):b(E,p))||c);return f>3&&c&&Object.defineProperty(E,p,c),c},S=this&&this.__param||function(I,E){return function(p,v){E(p,v,I)}};Object.defineProperty(_,"__esModule",{value:!0}),_.DirtyRowService=void 0;var w=A(2585),C=function(){function I(E){this._bufferService=E,this.clearRange()}return Object.defineProperty(I.prototype,"start",{get:function(){return this._start},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"end",{get:function(){return this._end},enumerable:!1,configurable:!0}),I.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},I.prototype.markDirty=function(E){E<this._start?this._start=E:E>this._end&&(this._end=E)},I.prototype.markRangeDirty=function(E,p){if(E>p){var v=E;E=p,p=v}E<this._start&&(this._start=E),p>this._end&&(this._end=p)},I.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},y([S(0,w.IBufferService)],I)}();_.DirtyRowService=C},4348:function(Q,_,A){var y=this&&this.__spreadArray||function(E,p,v){if(v||2===arguments.length)for(var b,f=0,c=p.length;f<c;f++)!b&&f in p||(b||(b=Array.prototype.slice.call(p,0,f)),b[f]=p[f]);return E.concat(b||Array.prototype.slice.call(p))};Object.defineProperty(_,"__esModule",{value:!0}),_.InstantiationService=_.ServiceCollection=void 0;var S=A(2585),w=A(8343),C=function(){function E(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];this._entries=new Map;for(var b=0,f=p;b<f.length;b++){var c=f[b];this.set(c[0],c[1])}}return E.prototype.set=function(p,v){var b=this._entries.get(p);return this._entries.set(p,v),b},E.prototype.forEach=function(p){this._entries.forEach(function(v,b){return p(b,v)})},E.prototype.has=function(p){return this._entries.has(p)},E.prototype.get=function(p){return this._entries.get(p)},E}();_.ServiceCollection=C;var I=function(){function E(){this._services=new C,this._services.set(S.IInstantiationService,this)}return E.prototype.setService=function(p,v){this._services.set(p,v)},E.prototype.getService=function(p){return this._services.get(p)},E.prototype.createInstance=function(p){for(var v=[],b=1;b<arguments.length;b++)v[b-1]=arguments[b];for(var f=(0,w.getServiceDependencies)(p).sort(function(M,O){return M.index-O.index}),c=[],a=0,l=f;a<l.length;a++){var h=l[a],g=this._services.get(h.id);if(!g)throw new Error("[createInstance] "+p.name+" depends on UNKNOWN service "+h.id+".");c.push(g)}var D=f.length>0?f[0].index:v.length;if(v.length!==D)throw new Error("[createInstance] First service dependency of "+p.name+" at position "+(D+1)+" conflicts with "+v.length+" static arguments");return new(p.bind.apply(p,y([void 0],y(y([],v,!0),c,!0),!1)))},E}();_.InstantiationService=I},7866:function(Q,_,A){var y=this&&this.__decorate||function(p,v,b,f){var c,a=arguments.length,l=a<3?v:null===f?f=Object.getOwnPropertyDescriptor(v,b):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(p,v,b,f);else for(var h=p.length-1;h>=0;h--)(c=p[h])&&(l=(a<3?c(l):a>3?c(v,b,l):c(v,b))||l);return a>3&&l&&Object.defineProperty(v,b,l),l},S=this&&this.__param||function(p,v){return function(b,f){v(b,f,p)}},w=this&&this.__spreadArray||function(p,v,b){if(b||2===arguments.length)for(var f,c=0,a=v.length;c<a;c++)!f&&c in v||(f||(f=Array.prototype.slice.call(v,0,c)),f[c]=v[c]);return p.concat(f||Array.prototype.slice.call(v))};Object.defineProperty(_,"__esModule",{value:!0}),_.LogService=void 0;var C=A(2585),I={debug:C.LogLevelEnum.DEBUG,info:C.LogLevelEnum.INFO,warn:C.LogLevelEnum.WARN,error:C.LogLevelEnum.ERROR,off:C.LogLevelEnum.OFF},E=function(){function p(v){var b=this;this._optionsService=v,this.logLevel=C.LogLevelEnum.OFF,this._updateLogLevel(),this._optionsService.onOptionChange(function(f){"logLevel"===f&&b._updateLogLevel()})}return p.prototype._updateLogLevel=function(){this.logLevel=I[this._optionsService.rawOptions.logLevel]},p.prototype._evalLazyOptionalParams=function(v){for(var b=0;b<v.length;b++)"function"==typeof v[b]&&(v[b]=v[b]())},p.prototype._log=function(v,b,f){this._evalLazyOptionalParams(f),v.call.apply(v,w([console,"xterm.js: "+b],f,!1))},p.prototype.debug=function(v){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];this.logLevel<=C.LogLevelEnum.DEBUG&&this._log(console.log,v,b)},p.prototype.info=function(v){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];this.logLevel<=C.LogLevelEnum.INFO&&this._log(console.info,v,b)},p.prototype.warn=function(v){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];this.logLevel<=C.LogLevelEnum.WARN&&this._log(console.warn,v,b)},p.prototype.error=function(v){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];this.logLevel<=C.LogLevelEnum.ERROR&&this._log(console.error,v,b)},y([S(0,C.IOptionsService)],p)}();_.LogService=E},7302:function(Q,_,A){var y=this&&this.__assign||function(){return y=Object.assign||function(E){for(var p,v=1,b=arguments.length;v<b;v++)for(var f in p=arguments[v])Object.prototype.hasOwnProperty.call(p,f)&&(E[f]=p[f]);return E},y.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.OptionsService=_.DEFAULT_OPTIONS=_.DEFAULT_BELL_SOUND=void 0;var S=A(8460),w=A(6114);_.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",_.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,bellSound:_.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,linkTooltipHoverDuration:500,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!0,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:w.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1};var C=["normal","bold","100","200","300","400","500","600","700","800","900"],I=function(){function E(p){this._onOptionChange=new S.EventEmitter;var v=y({},_.DEFAULT_OPTIONS);for(var b in p)if(b in v)try{v[b]=this._sanitizeAndValidateOption(b,p[b])}catch(c){console.error(c)}this.rawOptions=v,this.options=y({},v),this._setupOptions()}return Object.defineProperty(E.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!1,configurable:!0}),E.prototype._setupOptions=function(){var p=this,v=function(a){if(!(a in _.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');return p.rawOptions[a]},b=function(a,l){if(!(a in _.DEFAULT_OPTIONS))throw new Error('No option with key "'+a+'"');l=p._sanitizeAndValidateOption(a,l),p.rawOptions[a]!==l&&(p.rawOptions[a]=l,p._onOptionChange.fire(a))};for(var f in this.rawOptions){var c={get:v.bind(this,f),set:b.bind(this,f)};Object.defineProperty(this.options,f,c)}},E.prototype.setOption=function(p,v){this.options[p]=v},E.prototype._sanitizeAndValidateOption=function(p,v){switch(p){case"bellStyle":case"cursorStyle":case"rendererType":case"wordSeparator":v||(v=_.DEFAULT_OPTIONS[p]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof v&&1<=v&&v<=1e3)break;v=C.includes(v)?v:_.DEFAULT_OPTIONS[p];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(p+" cannot be less than 1, value: "+v);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(p+" cannot be less than 0, value: "+v);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(p+" cannot be less than or equal to 0, value: "+v);case"rows":case"cols":if(!v&&0!==v)throw new Error(p+" must be numeric, value: "+v)}return v},E.prototype.getOption=function(p){return this.options[p]},E}();_.OptionsService=I},8343:(Q,_)=>{function A(y,S,w){S.di$target===S?S.di$dependencies.push({id:y,index:w}):(S.di$dependencies=[{id:y,index:w}],S.di$target=S)}Object.defineProperty(_,"__esModule",{value:!0}),_.createDecorator=_.getServiceDependencies=_.serviceRegistry=void 0,_.serviceRegistry=new Map,_.getServiceDependencies=function(y){return y.di$dependencies||[]},_.createDecorator=function(y){if(_.serviceRegistry.has(y))return _.serviceRegistry.get(y);var S=function(w,C,I){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");A(S,w,I)};return S.toString=function(){return y},_.serviceRegistry.set(y,S),S}},2585:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.IUnicodeService=_.IOptionsService=_.ILogService=_.LogLevelEnum=_.IInstantiationService=_.IDirtyRowService=_.ICharsetService=_.ICoreService=_.ICoreMouseService=_.IBufferService=void 0;var y,S=A(8343);_.IBufferService=(0,S.createDecorator)("BufferService"),_.ICoreMouseService=(0,S.createDecorator)("CoreMouseService"),_.ICoreService=(0,S.createDecorator)("CoreService"),_.ICharsetService=(0,S.createDecorator)("CharsetService"),_.IDirtyRowService=(0,S.createDecorator)("DirtyRowService"),_.IInstantiationService=(0,S.createDecorator)("InstantiationService"),(y=_.LogLevelEnum||(_.LogLevelEnum={}))[y.DEBUG=0]="DEBUG",y[y.INFO=1]="INFO",y[y.WARN=2]="WARN",y[y.ERROR=3]="ERROR",y[y.OFF=4]="OFF",_.ILogService=(0,S.createDecorator)("LogService"),_.IOptionsService=(0,S.createDecorator)("OptionsService"),_.IUnicodeService=(0,S.createDecorator)("UnicodeService")},1480:(Q,_,A)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.UnicodeService=void 0;var y=A(8460),S=A(225),w=function(){function C(){this._providers=Object.create(null),this._active="",this._onChange=new y.EventEmitter;var I=new S.UnicodeV6;this.register(I),this._active=I.version,this._activeProvider=I}return Object.defineProperty(C.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"activeVersion",{get:function(){return this._active},set:function(I){if(!this._providers[I])throw new Error('unknown Unicode version "'+I+'"');this._active=I,this._activeProvider=this._providers[I],this._onChange.fire(I)},enumerable:!1,configurable:!0}),C.prototype.register=function(I){this._providers[I.version]=I},C.prototype.wcwidth=function(I){return this._activeProvider.wcwidth(I)},C.prototype.getStringCellWidth=function(I){for(var E=0,p=I.length,v=0;v<p;++v){var b=I.charCodeAt(v);if(55296<=b&&b<=56319){if(++v>=p)return E+this.wcwidth(b);var f=I.charCodeAt(v);56320<=f&&f<=57343?b=1024*(b-55296)+f-56320+65536:E+=this.wcwidth(f)}E+=this.wcwidth(b)}return E},C}();_.UnicodeService=w}},Tt={};return function Q(_){var A=Tt[_];if(void 0!==A)return A.exports;var y=Tt[_]={exports:{}};return Kn[_].call(y.exports,y,y.exports,Q),y.exports}(4389)})()}},hr=>{hr(hr.s=870)}]);